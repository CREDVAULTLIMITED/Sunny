{"ast":null,"code":"var _s = $RefreshSig$();\nimport axios from 'axios';\nimport { useState, useEffect } from 'react';\n\n/**\n * Hook for fetching statistics data\n * @returns {Object} Statistics data and loading state\n */\nexport function useStats() {\n  _s();\n  const [stats, setStats] = useState(null);\n  const [isLoading, setIsLoading] = useState(true);\n  const [error, setError] = useState(null);\n  useEffect(() => {\n    const fetchStats = async () => {\n      try {\n        // Get token from localStorage\n        const token = localStorage.getItem('token');\n        if (!token) {\n          throw new Error('Authentication token not found');\n        }\n\n        // Make API request with token\n        const response = await axios.get('/api/stats', {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n        if (response.data.success) {\n          setStats(response.data.data);\n          setError(null);\n        } else {\n          throw new Error(response.data.message || 'Failed to fetch statistics');\n        }\n      } catch (err) {\n        setError(err.message || 'Failed to fetch statistics');\n        console.error(err);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n\n    // Only fetch if token exists\n    const token = localStorage.getItem('token');\n    if (token) {\n      fetchStats();\n    } else {\n      setIsLoading(false);\n    }\n  }, []);\n  return {\n    stats,\n    isLoading,\n    error\n  };\n}\n_s(useStats, \"XMaEOc3r/9NJafhx0F0tFeJ3IQE=\");","map":{"version":3,"names":["axios","useState","useEffect","useStats","_s","stats","setStats","isLoading","setIsLoading","error","setError","fetchStats","token","localStorage","getItem","Error","response","get","headers","Authorization","data","success","message","err","console"],"sources":["/home/sam/Downloads/Sunny-main/src/hooks/use-stats.js"],"sourcesContent":["import axios from 'axios';\nimport { useState, useEffect } from 'react';\n\n/**\n * Hook for fetching statistics data\n * @returns {Object} Statistics data and loading state\n */\nexport function useStats() {\n  const [stats, setStats] = useState(null);\n  const [isLoading, setIsLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    const fetchStats = async () => {\n      try {\n        // Get token from localStorage\n        const token = localStorage.getItem('token');\n        \n        if (!token) {\n          throw new Error('Authentication token not found');\n        }\n        \n        // Make API request with token\n        const response = await axios.get('/api/stats', {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n        \n        if (response.data.success) {\n          setStats(response.data.data);\n          setError(null);\n        } else {\n          throw new Error(response.data.message || 'Failed to fetch statistics');\n        }\n      } catch (err) {\n        setError(err.message || 'Failed to fetch statistics');\n        console.error(err);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n\n    // Only fetch if token exists\n    const token = localStorage.getItem('token');\n    if (token) {\n      fetchStats();\n    } else {\n      setIsLoading(false);\n    }\n  }, []);\n\n  return { stats, isLoading, error };\n}"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;;AAE3C;AACA;AACA;AACA;AACA,OAAO,SAASC,QAAQA,CAAA,EAAG;EAAAC,EAAA;EACzB,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGL,QAAQ,CAAC,IAAI,CAAC;EACxC,MAAM,CAACM,SAAS,EAAEC,YAAY,CAAC,GAAGP,QAAQ,CAAC,IAAI,CAAC;EAChD,MAAM,CAACQ,KAAK,EAAEC,QAAQ,CAAC,GAAGT,QAAQ,CAAC,IAAI,CAAC;EAExCC,SAAS,CAAC,MAAM;IACd,MAAMS,UAAU,GAAG,MAAAA,CAAA,KAAY;MAC7B,IAAI;QACF;QACA,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;QAE3C,IAAI,CAACF,KAAK,EAAE;UACV,MAAM,IAAIG,KAAK,CAAC,gCAAgC,CAAC;QACnD;;QAEA;QACA,MAAMC,QAAQ,GAAG,MAAMhB,KAAK,CAACiB,GAAG,CAAC,YAAY,EAAE;UAC7CC,OAAO,EAAE;YACPC,aAAa,EAAE,UAAUP,KAAK;UAChC;QACF,CAAC,CAAC;QAEF,IAAII,QAAQ,CAACI,IAAI,CAACC,OAAO,EAAE;UACzBf,QAAQ,CAACU,QAAQ,CAACI,IAAI,CAACA,IAAI,CAAC;UAC5BV,QAAQ,CAAC,IAAI,CAAC;QAChB,CAAC,MAAM;UACL,MAAM,IAAIK,KAAK,CAACC,QAAQ,CAACI,IAAI,CAACE,OAAO,IAAI,4BAA4B,CAAC;QACxE;MACF,CAAC,CAAC,OAAOC,GAAG,EAAE;QACZb,QAAQ,CAACa,GAAG,CAACD,OAAO,IAAI,4BAA4B,CAAC;QACrDE,OAAO,CAACf,KAAK,CAACc,GAAG,CAAC;MACpB,CAAC,SAAS;QACRf,YAAY,CAAC,KAAK,CAAC;MACrB;IACF,CAAC;;IAED;IACA,MAAMI,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;IAC3C,IAAIF,KAAK,EAAE;MACTD,UAAU,CAAC,CAAC;IACd,CAAC,MAAM;MACLH,YAAY,CAAC,KAAK,CAAC;IACrB;EACF,CAAC,EAAE,EAAE,CAAC;EAEN,OAAO;IAAEH,KAAK;IAAEE,SAAS;IAAEE;EAAM,CAAC;AACpC;AAACL,EAAA,CA9CeD,QAAQ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}