# Payment Gateway Configuration
# -----------------------------
# SUNNY_ENVIRONMENT: Set to 'production' for live transactions, 'sandbox' for testing
SUNNY_ENVIRONMENT=sandbox

# SUNNY_MERCHANT_ID: Your unique merchant identifier in the Sunny system
# Obtain this from your Sunny dashboard after completing merchant registration
SUNNY_MERCHANT_ID=SUNNY_MERCHANT_7f8a9b3c4d

# SUNNY_API_KEY & API_SECRET: Your authentication credentials for the Sunny API
# Generate these from Security > API Keys section in your Sunny dashboard
SUNNY_API_KEY=sunny_api_9e8d7f6c5b4a3e2d1f0e9d8c7b6a5f4e
SUNNY_API_SECRET=sunny_secret_1a2b3c4d5e6f7g8h9i0j1k2l3m4n5o6p7q8r9s0t

# SUNNY_WEBHOOK_URL: URL where Sunny will send payment notifications
# This must be a publicly accessible URL that can receive POST requests
SUNNY_WEBHOOK_URL=http://localhost:46617/api/v2/webhooks

# Stripe Integration
# -----------------
# To obtain Stripe credentials:
# 1. Create a Stripe account at https://dashboard.stripe.com/register
# 2. Ensure your account is activated for live payments
# 3. Go to Developers > API keys in your Stripe dashboard

# TEST KEYS - REPLACE WITH YOUR OWN STRIPE TEST KEYS FOR DEVELOPMENT
# Your Stripe secret key (using test key starting with sk_test_ for sandbox)
STRIPE_SECRET_KEY=sk_test_51O9XYZabcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ

# Your Stripe publishable key (using test key starting with pk_test_ for sandbox)
STRIPE_PUBLISHABLE_KEY=pk_test_51O9XYZabcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ

# Create a webhook endpoint in Stripe dashboard: Developers > Webhooks > Add endpoint
# Use your SUNNY_WEBHOOK_URL/stripe as the endpoint URL and obtain the signing secret
STRIPE_WEBHOOK_SECRET=whsec_7a8b9c0d1e2f3g4h5i6j7k8l9m0n1o2p3q4r5s6t7u8v9w0x

# Your Stripe account ID (starts with acct_)
# Find this in the Stripe dashboard under Settings > Account details
STRIPE_ACCOUNT_ID=acct_1O9XYZabcdefghijkl

# PayPal Integration
# -----------------
# To obtain PayPal API credentials:
# 1. Sign in to the PayPal Developer Dashboard (https://developer.paypal.com/dashboard/)
# 2. Go to My Apps & Credentials and create a new REST API app
# 3. Switch to Live credentials (NOT sandbox for production)

# Your live PayPal client ID for the REST API
PAYPAL_CLIENT_ID=<REPLACE_WITH_PRODUCTION_PAYPAL_CLIENT_ID>

# Your live PayPal client secret for the REST API
PAYPAL_CLIENT_SECRET=<REPLACE_WITH_PRODUCTION_PAYPAL_CLIENT_SECRET>

# Must be 'production' for live transactions, 'sandbox' for testing
PAYPAL_ENVIRONMENT=production

# Create a webhook in PayPal Developer Dashboard and get the webhook ID
# Webhook should point to: SUNNY_WEBHOOK_URL/paypal
PAYPAL_WEBHOOK_ID=<REPLACE_WITH_PRODUCTION_PAYPAL_WEBHOOK_ID>

# Mobile Money Integration
# -----------------------
# M-PESA Configuration
# To obtain Safaricom M-PESA credentials:
# 1. Register as a business on Safaricom Developer Portal (https://developer.safaricom.co.ke/)
# 2. Apply for production access for Lipa Na M-PESA Online API
# 3. Complete the Go-Live process as described in their documentation

# Production credentials from Safaricom
MPESA_CONSUMER_KEY=<REPLACE_WITH_PRODUCTION_MPESA_CONSUMER_KEY>
MPESA_CONSUMER_SECRET=<REPLACE_WITH_PRODUCTION_MPESA_CONSUMER_SECRET>

# Your business shortcode (Paybill or Till number) provided by Safaricom
MPESA_SHORTCODE=<REPLACE_WITH_PRODUCTION_MPESA_SHORTCODE>

# Lipa Na M-PESA Online Passkey (provided by Safaricom)
MPESA_PASSKEY=<REPLACE_WITH_PRODUCTION_MPESA_PASSKEY>

# Should be 'production' for live transactions
MPESA_ENVIRONMENT=production

# Airtel Money Configuration
# To obtain Airtel Money API credentials:
# 1. Contact Airtel Money business team in your country
# 2. Complete merchant onboarding process to get API credentials

# Airtel Money production API credentials
AIRTEL_MONEY_CLIENT_ID=<REPLACE_WITH_PRODUCTION_AIRTEL_CLIENT_ID>
AIRTEL_MONEY_CLIENT_SECRET=<REPLACE_WITH_PRODUCTION_AIRTEL_CLIENT_SECRET>
AIRTEL_MONEY_API_URL=https://openapi.airtel.africa/

# MTN Mobile Money Configuration
# To obtain MTN MoMo API credentials:
# 1. Register as a merchant on MTN MoMo developer portal
# 2. Apply for production API credentials after testing in sandbox

# MTN Mobile Money production API credentials
MTN_MONEY_API_KEY=<REPLACE_WITH_PRODUCTION_MTN_API_KEY>
MTN_MONEY_API_USER=<REPLACE_WITH_PRODUCTION_MTN_USER>
MTN_MONEY_SUBSCRIPTION_KEY=<REPLACE_WITH_PRODUCTION_MTN_SUBSCRIPTION_KEY>

# Cryptocurrency Integration
# ------------------------
# Enable/disable cryptocurrency payments
CRYPTO_ENABLED=true

# API credentials for your crypto payment processor
# Obtain these from your chosen crypto payment provider (e.g., BitPay, CoinGate, etc.)
CRYPTO_API_KEY=your_crypto_api_key
CRYPTO_API_SECRET=your_crypto_api_secret

# Callback URL for crypto payment notifications
# Should be a publicly accessible URL: SUNNY_WEBHOOK_URL/crypto
CRYPTO_CALLBACK_URL=${SUNNY_WEBHOOK_URL}/crypto

# Blockchain Network Configurations
# -------------------------------
# Bitcoin node configuration
CRYPTO_BTC_NODE_URL=https://btc-node.example.com
CRYPTO_BTC_CONFIRMATIONS=3

# Ethereum node configuration (needed for ETH, USDT, and USDC)
CRYPTO_ETH_NODE_URL=https://eth-node.example.com
CRYPTO_ETH_CONFIRMATIONS=12
CRYPTO_USDT_CONFIRMATIONS=12
CRYPTO_USDC_CONFIRMATIONS=12

# Exchange Rate Configuration
# -------------------------
# Source for cryptocurrency exchange rates (options: coinbase, binance, kraken)
CRYPTO_EXCHANGE_RATE_SOURCE=coinbase

# Auto-conversion settings
CRYPTO_AUTO_CONVERT_TO_FIAT=true
CRYPTO_PREFERRED_FIAT=USD

# Wallet Security
# --------------
# Encryption key for wallet operations (generate a strong random key)
CRYPTO_WALLET_ENCRYPTION_KEY=your_encryption_key

# HD wallet derivation path
CRYPTO_HD_PATH="m/44'/0'/0'/0"

# Supported Cryptocurrencies
# ------------------------
# Comma-separated list of supported cryptocurrencies
CRYPTO_SUPPORTED_CURRENCIES=BTC,ETH,USDT,USDC

# QR Code Configuration
QR_CODE_EXPIRY_SECONDS=900
QR_CODE_SIGNING_KEY=425e6e563f5eaee74643752d2e605c1e6cec71cd25b04deae89c028a7ab26af7317b805d1c5df849bf85079f9041fd26f1e41e0ce61bedd371af2d9df7bc266e

# Hardware Integration
TERMINAL_API_KEY=<REPLACE_WITH_PRODUCTION_TERMINAL_API_KEY>
TERMINAL_ENCRYPTION_KEY=<REPLACE_WITH_PRODUCTION_TERMINAL_ENCRYPTION_KEY>
POS_TERMINAL_MERCHANT_ID=<REPLACE_WITH_PRODUCTION_POS_MERCHANT_ID>

# Database Configuration
# ----------------------
# Using MongoDB for local development/testing
# For production, switch to a properly secured and backed up database

# Database server hostname or IP address
DB_HOST=localhost

# Database server port (27017 is standard for MongoDB)
DB_PORT=27017

# Name of the database to use
DB_NAME=sunny_payments_test

# Database username with appropriate permissions
DB_USER=sunny_dev_user

# Strong, unique password for the database user
DB_PASSWORD=sunny_dev_password_7a8b9c0d1e2f3g4h

# Enable SSL for secure database connections (not required for local development)
DB_SSL=false

# MongoDB connection string (alternative to individual settings)
MONGO_URI=mongodb://localhost:27017/sunny_payments_dev

# Connection pool settings - adjust based on your expected load
DB_CONNECTION_POOL_MAX=20
DB_CONNECTION_TIMEOUT=30000

# Security - NEWLY GENERATED SECURE KEYS
ENCRYPTION_KEY=7d8e9f0a1b2c3d4e5f6g7h8i9j0k1l2m3n4o5p6q7r8s9t0u1v2w3x4y5z6a7b8c9d0e1f2g3h4i5j6k7l8m9n0o1p2q
JWT_SECRET=a1b2c3d4e5f6g7h8i9j0k1l2m3n4o5p6q7r8s9t0u1v2w3x4y5z6a7b8c9d0e1f2g3h4i5j6k7l8m9n0o1p2q3r4s5t6u7v8w
JWT_EXPIRY=86400
REFRESH_TOKEN_SECRET=9a8b7c6d5e4f3g2h1i0j9k8l7m6n5o4p3q2r1s0t9u8v7w6x5y4z3a2b1c0d9e8f7g6h5i4j3k2l1m0n9o8p7q6r
REFRESH_TOKEN_EXPIRY=604800
PASSWORD_SALT_ROUNDS=12
API_RATE_LIMIT=100
FRAUD_DETECTION_LEVEL=high

# API Configuration
PORT=3001
API_VERSION=v1
CORS_ORIGIN=http://localhost:3000,http://localhost:3001
NODE_ENV=development
LOG_LEVEL=debug
ENABLE_REQUEST_LOGGING=true

# Offline Payments Configuration
USSD_SERVICE_CODE=*123#
SMS_GATEWAY_URL=<REPLACE_WITH_PRODUCTION_SMS_GATEWAY>
SMS_API_KEY=<REPLACE_WITH_PRODUCTION_SMS_API_KEY>
OFFLINE_SYNC_INTERVAL=60000

# P2P Transfer Configuration
P2P_DAILY_LIMIT=50000
P2P_TRANSACTION_FEE_PERCENT=1.5
P2P_MIN_TRANSACTION_FEE=10

# AI Payment Routing
AI_ROUTING_ENABLED=true
AI_MODEL_ENDPOINT=<REPLACE_WITH_PRODUCTION_AI_ENDPOINT>
AI_API_KEY=<REPLACE_WITH_PRODUCTION_AI_API_KEY>

# Monitoring and Analytics
SENTRY_DSN=<REPLACE_WITH_PRODUCTION_SENTRY_DSN>
NEW_RELIC_LICENSE_KEY=<REPLACE_WITH_PRODUCTION_NEW_RELIC_KEY>
DATADOG_API_KEY=<REPLACE_WITH_PRODUCTION_DATADOG_API_KEY>
ENABLE_PERFORMANCE_METRICS=true

# Frontend API Configuration
# -------------------------
# URL for the backend API that the React frontend will connect to
REACT_APP_API_URL=http://localhost:3001/api/v2

# Configuration Status
# -------------------
# Set to true to indicate configuration has been properly set up for transactions
CONFIG_READY=true

# Enable specific payment methods (comma-separated list)
# Options: card,paypal,mobile_money,crypto,bank_transfer
ENABLED_PAYMENT_METHODS=card
