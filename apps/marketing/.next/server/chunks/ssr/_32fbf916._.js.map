{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 5, "column": 0}, "map": {"version":3,"sources":["file:///C:/projects/Cred%20Vault/Sunny/packages/shared-types/dist/index.mjs"],"sourcesContent":["// src/auth.ts\r\nimport { z } from \"zod\";\r\nvar UserAccountType = /* @__PURE__ */ ((UserAccountType2) => {\r\n  UserAccountType2[\"INDIVIDUAL\"] = \"individual\";\r\n  UserAccountType2[\"BUSINESS\"] = \"business\";\r\n  UserAccountType2[\"INSTITUTION\"] = \"institution\";\r\n  UserAccountType2[\"DEVELOPER\"] = \"developer\";\r\n  UserAccountType2[\"ADMIN\"] = \"admin\";\r\n  return UserAccountType2;\r\n})(UserAccountType || {});\r\nvar AuthProvider = /* @__PURE__ */ ((AuthProvider2) => {\r\n  AuthProvider2[\"EMAIL\"] = \"email\";\r\n  AuthProvider2[\"GOOGLE\"] = \"google\";\r\n  AuthProvider2[\"APPLE\"] = \"apple\";\r\n  AuthProvider2[\"MICROSOFT\"] = \"microsoft\";\r\n  AuthProvider2[\"GITHUB\"] = \"github\";\r\n  AuthProvider2[\"LINKEDIN\"] = \"linkedin\";\r\n  return AuthProvider2;\r\n})(AuthProvider || {});\r\nvar MFAType = /* @__PURE__ */ ((MFAType2) => {\r\n  MFAType2[\"SMS\"] = \"sms\";\r\n  MFAType2[\"EMAIL\"] = \"email\";\r\n  MFAType2[\"TOTP\"] = \"totp\";\r\n  MFAType2[\"BIOMETRIC\"] = \"biometric\";\r\n  MFAType2[\"HARDWARE_TOKEN\"] = \"hardware_token\";\r\n  return MFAType2;\r\n})(MFAType || {});\r\nvar VerificationStatus = /* @__PURE__ */ ((VerificationStatus2) => {\r\n  VerificationStatus2[\"PENDING\"] = \"pending\";\r\n  VerificationStatus2[\"VERIFIED\"] = \"verified\";\r\n  VerificationStatus2[\"REJECTED\"] = \"rejected\";\r\n  VerificationStatus2[\"EXPIRED\"] = \"expired\";\r\n  return VerificationStatus2;\r\n})(VerificationStatus || {});\r\nvar InstitutionType = /* @__PURE__ */ ((InstitutionType2) => {\r\n  InstitutionType2[\"BANK\"] = \"bank\";\r\n  InstitutionType2[\"CREDIT_UNION\"] = \"credit_union\";\r\n  InstitutionType2[\"FINTECH\"] = \"fintech\";\r\n  InstitutionType2[\"PAYMENT_PROCESSOR\"] = \"payment_processor\";\r\n  InstitutionType2[\"REMITTANCE_SERVICE\"] = \"remittance_service\";\r\n  InstitutionType2[\"SACCO\"] = \"sacco\";\r\n  InstitutionType2[\"MICROFINANCE\"] = \"microfinance\";\r\n  return InstitutionType2;\r\n})(InstitutionType || {});\r\nvar BusinessType = /* @__PURE__ */ ((BusinessType2) => {\r\n  BusinessType2[\"SOLE_PROPRIETORSHIP\"] = \"sole_proprietorship\";\r\n  BusinessType2[\"PARTNERSHIP\"] = \"partnership\";\r\n  BusinessType2[\"CORPORATION\"] = \"corporation\";\r\n  BusinessType2[\"LLC\"] = \"llc\";\r\n  BusinessType2[\"NON_PROFIT\"] = \"non_profit\";\r\n  BusinessType2[\"STARTUP\"] = \"startup\";\r\n  BusinessType2[\"ENTERPRISE\"] = \"enterprise\";\r\n  return BusinessType2;\r\n})(BusinessType || {});\r\nvar BaseUserSchema = z.object({\r\n  id: z.string().uuid(),\r\n  email: z.string().email(),\r\n  emailVerified: z.boolean().default(false),\r\n  phone: z.string().optional(),\r\n  phoneVerified: z.boolean().default(false),\r\n  accountType: z.nativeEnum(UserAccountType),\r\n  firstName: z.string().min(1),\r\n  lastName: z.string().min(1),\r\n  avatar: z.string().url().optional(),\r\n  timezone: z.string().default(\"UTC\"),\r\n  locale: z.string().default(\"en\"),\r\n  currency: z.string().length(3).default(\"USD\"),\r\n  mfaEnabled: z.boolean().default(false),\r\n  mfaMethods: z.array(z.nativeEnum(MFAType)).default([]),\r\n  lastLoginAt: z.date().optional(),\r\n  createdAt: z.date(),\r\n  updatedAt: z.date()\r\n});\r\nvar IndividualUserSchema = BaseUserSchema.extend({\r\n  accountType: z.literal(\"individual\" /* INDIVIDUAL */),\r\n  dateOfBirth: z.date().optional(),\r\n  nationality: z.string().optional(),\r\n  occupation: z.string().optional(),\r\n  kycStatus: z.nativeEnum(VerificationStatus).default(\"pending\" /* PENDING */)\r\n});\r\nvar BusinessUserSchema = BaseUserSchema.extend({\r\n  accountType: z.literal(\"business\" /* BUSINESS */),\r\n  businessName: z.string().min(1),\r\n  businessType: z.nativeEnum(BusinessType),\r\n  businessRegistrationNumber: z.string().optional(),\r\n  taxId: z.string().optional(),\r\n  website: z.string().url().optional(),\r\n  businessVerificationStatus: z.nativeEnum(VerificationStatus).default(\"pending\" /* PENDING */),\r\n  monthlyVolume: z.number().optional(),\r\n  industry: z.string().optional()\r\n});\r\nvar InstitutionUserSchema = BaseUserSchema.extend({\r\n  accountType: z.literal(\"institution\" /* INSTITUTION */),\r\n  institutionName: z.string().min(1),\r\n  institutionType: z.nativeEnum(InstitutionType),\r\n  regulatoryLicense: z.string().optional(),\r\n  swiftCode: z.string().optional(),\r\n  institutionVerificationStatus: z.nativeEnum(VerificationStatus).default(\"pending\" /* PENDING */),\r\n  complianceOfficer: z.object({\r\n    name: z.string(),\r\n    email: z.string().email(),\r\n    phone: z.string()\r\n  }).optional()\r\n});\r\nvar DeveloperUserSchema = BaseUserSchema.extend({\r\n  accountType: z.literal(\"developer\" /* DEVELOPER */),\r\n  githubUsername: z.string().optional(),\r\n  company: z.string().optional(),\r\n  yearsExperience: z.number().min(0).max(50).optional(),\r\n  preferredLanguages: z.array(z.string()).default([]),\r\n  apiKeyTier: z.enum([\"sandbox\", \"development\", \"production\"]).default(\"sandbox\")\r\n});\r\nvar AdminUserSchema = BaseUserSchema.extend({\r\n  accountType: z.literal(\"admin\" /* ADMIN */),\r\n  permissions: z.array(z.string()).default([]),\r\n  department: z.string().optional(),\r\n  level: z.enum([\"admin\", \"super_admin\", \"system_admin\"]).default(\"admin\")\r\n});\r\nvar SignInSchema = z.object({\r\n  email: z.string().email(),\r\n  password: z.string().min(8),\r\n  accountType: z.nativeEnum(UserAccountType).optional(),\r\n  // For routing\r\n  rememberMe: z.boolean().optional().default(false),\r\n  mfaCode: z.string().optional()\r\n});\r\nvar SignUpSchema = z.object({\r\n  email: z.string().email(),\r\n  password: z.string().min(8).regex(\r\n    /^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[@$!%*?&])[A-Za-z\\d@$!%*?&]/,\r\n    \"Password must contain at least one lowercase letter, one uppercase letter, one number, and one special character\"\r\n  ),\r\n  confirmPassword: z.string(),\r\n  firstName: z.string().min(1),\r\n  lastName: z.string().min(1),\r\n  phone: z.string().optional(),\r\n  accountType: z.nativeEnum(UserAccountType),\r\n  agreeToTerms: z.boolean().refine((val) => val === true, \"You must agree to the terms and conditions\"),\r\n  agreeToPrivacy: z.boolean().refine((val) => val === true, \"You must agree to the privacy policy\"),\r\n  marketingConsent: z.boolean().default(false),\r\n  // Conditional fields based on account type\r\n  businessName: z.string().optional(),\r\n  businessType: z.nativeEnum(BusinessType).optional(),\r\n  institutionName: z.string().optional(),\r\n  institutionType: z.nativeEnum(InstitutionType).optional(),\r\n  company: z.string().optional(),\r\n  // For developers\r\n  referralCode: z.string().optional()\r\n}).refine((data) => data.password === data.confirmPassword, {\r\n  message: \"Passwords don't match\",\r\n  path: [\"confirmPassword\"]\r\n});\r\nvar SocialAuthSchema = z.object({\r\n  provider: z.nativeEnum(AuthProvider),\r\n  providerUserId: z.string(),\r\n  accessToken: z.string(),\r\n  refreshToken: z.string().optional(),\r\n  accountType: z.nativeEnum(UserAccountType).optional()\r\n});\r\nvar PasswordResetSchema = z.object({\r\n  email: z.string().email()\r\n});\r\nvar PasswordResetConfirmSchema = z.object({\r\n  token: z.string(),\r\n  password: z.string().min(8),\r\n  confirmPassword: z.string()\r\n}).refine((data) => data.password === data.confirmPassword, {\r\n  message: \"Passwords don't match\",\r\n  path: [\"confirmPassword\"]\r\n});\r\nvar MFASetupSchema = z.object({\r\n  method: z.nativeEnum(MFAType),\r\n  phoneNumber: z.string().optional(),\r\n  // For SMS\r\n  backupCodes: z.array(z.string()).optional()\r\n});\r\nvar SessionSchema = z.object({\r\n  id: z.string(),\r\n  userId: z.string().uuid(),\r\n  user: BaseUserSchema,\r\n  accessToken: z.string(),\r\n  refreshToken: z.string(),\r\n  expiresAt: z.date(),\r\n  device: z.object({\r\n    userAgent: z.string(),\r\n    ip: z.string(),\r\n    location: z.string().optional()\r\n  })\r\n});\r\nvar ACCOUNT_TYPE_DESTINATIONS = {\r\n  [\"individual\" /* INDIVIDUAL */]: \"https://app.sunnypayments.com\",\r\n  [\"business\" /* BUSINESS */]: \"https://business.sunnypayments.com\",\r\n  [\"institution\" /* INSTITUTION */]: \"https://institutions.sunnypayments.com\",\r\n  [\"developer\" /* DEVELOPER */]: \"https://developers.sunnypayments.com\",\r\n  [\"admin\" /* ADMIN */]: \"https://admin.sunnypayments.com\"\r\n};\r\nexport {\r\n  ACCOUNT_TYPE_DESTINATIONS,\r\n  AdminUserSchema,\r\n  AuthProvider,\r\n  BaseUserSchema,\r\n  BusinessType,\r\n  BusinessUserSchema,\r\n  DeveloperUserSchema,\r\n  IndividualUserSchema,\r\n  InstitutionType,\r\n  InstitutionUserSchema,\r\n  MFASetupSchema,\r\n  MFAType,\r\n  PasswordResetConfirmSchema,\r\n  PasswordResetSchema,\r\n  SessionSchema,\r\n  SignInSchema,\r\n  SignUpSchema,\r\n  SocialAuthSchema,\r\n  UserAccountType,\r\n  VerificationStatus\r\n};\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 238, "column": 0}, "map": {"version":3,"sources":["file:///C:/projects/Cred%20Vault/Sunny/packages/ui/dist/index.mjs"],"sourcesContent":["// src/auth/AuthLayout.tsx\r\nimport { motion } from \"framer-motion\";\r\nimport { ArrowLeftIcon } from \"@heroicons/react/24/outline\";\r\nimport Link from \"next/link\";\r\nimport { jsx, jsxs } from \"react/jsx-runtime\";\r\nfunction AuthLayout({\r\n  children,\r\n  title,\r\n  subtitle,\r\n  showBackButton = true,\r\n  backButtonText = \"Back to Home\",\r\n  backButtonHref = \"/\",\r\n  backgroundVariant = \"gradient\",\r\n  className = \"\"\r\n}) {\r\n  const backgroundClasses = {\r\n    gradient: \"bg-gradient-to-br from-green-50 via-white to-emerald-50 dark:from-gray-900 dark:via-gray-900 dark:to-green-900/20\",\r\n    pattern: \"bg-white dark:bg-gray-900\",\r\n    simple: \"bg-gray-50 dark:bg-gray-900\"\r\n  };\r\n  return /* @__PURE__ */ jsxs(\"div\", { className: `min-h-screen flex flex-col ${backgroundClasses[backgroundVariant]} ${className}`, children: [\r\n    /* @__PURE__ */ jsx(\"header\", { className: \"w-full\", children: /* @__PURE__ */ jsx(\"div\", { className: \"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6\", children: /* @__PURE__ */ jsxs(\"div\", { className: \"flex items-center justify-between\", children: [\r\n      /* @__PURE__ */ jsxs(Link, { href: \"/\", className: \"flex items-center space-x-3 group\", children: [\r\n        /* @__PURE__ */ jsxs(\"div\", { className: \"relative\", children: [\r\n          /* @__PURE__ */ jsxs(\"div\", { className: \"w-10 h-10 bg-gradient-to-br from-green-500 via-green-600 to-emerald-600 rounded-xl shadow-lg group-hover:shadow-xl transition-all duration-300 flex items-center justify-center\", children: [\r\n            /* @__PURE__ */ jsx(\r\n              motion.div,\r\n              {\r\n                className: \"absolute inset-0 rounded-xl\",\r\n                initial: { opacity: 0 },\r\n                whileHover: {\r\n                  opacity: 1,\r\n                  boxShadow: \"0 0 20px rgba(34, 197, 94, 0.4)\"\r\n                },\r\n                transition: { duration: 0.3 }\r\n              }\r\n            ),\r\n            /* @__PURE__ */ jsx(\"span\", { className: \"text-white font-bold text-lg relative z-10 font-mono\", children: \"S\" })\r\n          ] }),\r\n          /* @__PURE__ */ jsx(\r\n            motion.div,\r\n            {\r\n              className: \"absolute inset-0 rounded-xl bg-green-400\",\r\n              initial: { scale: 1, opacity: 0 },\r\n              animate: { scale: [1, 1.2, 1], opacity: [0, 0.3, 0] },\r\n              transition: { duration: 2, repeat: Infinity, ease: \"easeInOut\" }\r\n            }\r\n          )\r\n        ] }),\r\n        /* @__PURE__ */ jsxs(\"div\", { className: \"flex flex-col\", children: [\r\n          /* @__PURE__ */ jsx(\"span\", { className: \"text-xl font-bold text-gray-900 dark:text-white tracking-tight\", children: \"Sunny\" }),\r\n          /* @__PURE__ */ jsx(\"span\", { className: \"text-sm text-gray-500 dark:text-gray-400 font-medium -mt-1\", children: \"Payments\" })\r\n        ] })\r\n      ] }),\r\n      showBackButton && /* @__PURE__ */ jsxs(\r\n        Link,\r\n        {\r\n          href: backButtonHref,\r\n          className: \"flex items-center space-x-2 px-4 py-2 text-sm font-medium text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white rounded-lg hover:bg-white/50 dark:hover:bg-gray-800/50 transition-all duration-200\",\r\n          children: [\r\n            /* @__PURE__ */ jsx(ArrowLeftIcon, { className: \"h-4 w-4\" }),\r\n            /* @__PURE__ */ jsx(\"span\", { className: \"hidden sm:inline\", children: backButtonText })\r\n          ]\r\n        }\r\n      )\r\n    ] }) }) }),\r\n    /* @__PURE__ */ jsx(\"main\", { className: \"flex-1 flex items-center justify-center px-4 sm:px-6 lg:px-8 py-12\", children: /* @__PURE__ */ jsxs(\"div\", { className: \"w-full max-w-md\", children: [\r\n      /* @__PURE__ */ jsxs(\"div\", { className: \"text-center mb-8\", children: [\r\n        /* @__PURE__ */ jsx(\r\n          motion.h1,\r\n          {\r\n            initial: { opacity: 0, y: -20 },\r\n            animate: { opacity: 1, y: 0 },\r\n            transition: { duration: 0.5 },\r\n            className: \"text-3xl font-bold text-gray-900 dark:text-white mb-2\",\r\n            children: title\r\n          }\r\n        ),\r\n        subtitle && /* @__PURE__ */ jsx(\r\n          motion.p,\r\n          {\r\n            initial: { opacity: 0, y: -10 },\r\n            animate: { opacity: 1, y: 0 },\r\n            transition: { duration: 0.5, delay: 0.1 },\r\n            className: \"text-gray-600 dark:text-gray-400 text-base\",\r\n            children: subtitle\r\n          }\r\n        )\r\n      ] }),\r\n      /* @__PURE__ */ jsx(\r\n        motion.div,\r\n        {\r\n          initial: { opacity: 0, y: 20 },\r\n          animate: { opacity: 1, y: 0 },\r\n          transition: { duration: 0.5, delay: 0.2 },\r\n          className: \"bg-white dark:bg-gray-800 rounded-2xl shadow-xl border border-gray-100 dark:border-gray-700 p-8\",\r\n          children\r\n        }\r\n      ),\r\n      backgroundVariant === \"pattern\" && /* @__PURE__ */ jsx(\"div\", { className: \"fixed inset-0 -z-10 opacity-5 dark:opacity-10\", children: /* @__PURE__ */ jsxs(\r\n        \"svg\",\r\n        {\r\n          className: \"absolute inset-0 h-full w-full\",\r\n          xmlns: \"http://www.w3.org/2000/svg\",\r\n          children: [\r\n            /* @__PURE__ */ jsx(\"defs\", { children: /* @__PURE__ */ jsx(\r\n              \"pattern\",\r\n              {\r\n                id: \"grid-pattern\",\r\n                width: \"32\",\r\n                height: \"32\",\r\n                patternUnits: \"userSpaceOnUse\",\r\n                children: /* @__PURE__ */ jsx(\r\n                  \"path\",\r\n                  {\r\n                    d: \"M0 32V.5h32\",\r\n                    fill: \"none\",\r\n                    stroke: \"currentColor\",\r\n                    strokeWidth: \"1\"\r\n                  }\r\n                )\r\n              }\r\n            ) }),\r\n            /* @__PURE__ */ jsx(\"rect\", { width: \"100%\", height: \"100%\", fill: \"url(#grid-pattern)\" })\r\n          ]\r\n        }\r\n      ) })\r\n    ] }) }),\r\n    /* @__PURE__ */ jsx(\"footer\", { className: \"w-full\", children: /* @__PURE__ */ jsx(\"div\", { className: \"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6\", children: /* @__PURE__ */ jsxs(\"div\", { className: \"flex flex-col sm:flex-row items-center justify-between space-y-4 sm:space-y-0 text-sm text-gray-500 dark:text-gray-400\", children: [\r\n      /* @__PURE__ */ jsxs(\"div\", { className: \"flex items-center space-x-6\", children: [\r\n        /* @__PURE__ */ jsxs(\"span\", { children: [\r\n          \"\\xA9 \",\r\n          (/* @__PURE__ */ new Date()).getFullYear(),\r\n          \" Sunny Payments\"\r\n        ] }),\r\n        /* @__PURE__ */ jsx(Link, { href: \"/privacy\", className: \"hover:text-gray-900 dark:hover:text-white transition-colors\", children: \"Privacy Policy\" }),\r\n        /* @__PURE__ */ jsx(Link, { href: \"/terms\", className: \"hover:text-gray-900 dark:hover:text-white transition-colors\", children: \"Terms of Service\" })\r\n      ] }),\r\n      /* @__PURE__ */ jsxs(\"div\", { className: \"flex items-center space-x-4\", children: [\r\n        /* @__PURE__ */ jsx(Link, { href: \"/support\", className: \"hover:text-gray-900 dark:hover:text-white transition-colors\", children: \"Support\" }),\r\n        /* @__PURE__ */ jsx(Link, { href: \"/status\", className: \"hover:text-gray-900 dark:hover:text-white transition-colors\", children: \"System Status\" })\r\n      ] })\r\n    ] }) }) })\r\n  ] });\r\n}\r\n\r\n// src/auth/AuthPageLayout.tsx\r\nimport Link2 from \"next/link\";\r\nimport { motion as motion2 } from \"framer-motion\";\r\nimport { ArrowLeftIcon as ArrowLeftIcon2 } from \"@heroicons/react/24/outline\";\r\nimport { jsx as jsx2, jsxs as jsxs2 } from \"react/jsx-runtime\";\r\nfunction AuthPageLayout({\r\n  children,\r\n  title,\r\n  subtitle,\r\n  showBackButton = true,\r\n  backButtonText = \"Back to Home\",\r\n  backButtonHref = \"/\",\r\n  className = \"\"\r\n}) {\r\n  return /* @__PURE__ */ jsxs2(\"div\", { className: `min-h-screen bg-gradient-to-br from-green-50 via-white to-emerald-50 dark:from-gray-900 dark:via-gray-900 dark:to-green-900/20 ${className}`, children: [\r\n    /* @__PURE__ */ jsx2(\"header\", { className: \"w-full\", children: /* @__PURE__ */ jsx2(\"div\", { className: \"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6\", children: /* @__PURE__ */ jsxs2(\"div\", { className: \"flex items-center justify-between\", children: [\r\n      /* @__PURE__ */ jsxs2(Link2, { href: \"/\", className: \"flex items-center space-x-3 group\", children: [\r\n        /* @__PURE__ */ jsx2(\"div\", { className: \"relative\", children: /* @__PURE__ */ jsx2(\"div\", { className: \"w-10 h-10 bg-gradient-to-br from-green-500 via-green-600 to-emerald-600 rounded-xl shadow-lg group-hover:shadow-xl transition-all duration-300 flex items-center justify-center\", children: /* @__PURE__ */ jsx2(\"span\", { className: \"text-white font-bold text-lg relative z-10 font-mono\", children: \"S\" }) }) }),\r\n        /* @__PURE__ */ jsxs2(\"div\", { className: \"flex flex-col\", children: [\r\n          /* @__PURE__ */ jsx2(\"span\", { className: \"text-xl font-bold text-gray-900 dark:text-white tracking-tight\", children: \"Sunny\" }),\r\n          /* @__PURE__ */ jsx2(\"span\", { className: \"text-sm text-gray-500 dark:text-gray-400 font-medium -mt-1\", children: \"Payments\" })\r\n        ] })\r\n      ] }),\r\n      showBackButton && /* @__PURE__ */ jsxs2(\r\n        Link2,\r\n        {\r\n          href: backButtonHref,\r\n          className: \"flex items-center space-x-2 px-4 py-2 text-sm font-medium text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white rounded-lg hover:bg-white/50 dark:hover:bg-gray-800/50 transition-all duration-200\",\r\n          children: [\r\n            /* @__PURE__ */ jsx2(ArrowLeftIcon2, { className: \"h-4 w-4\" }),\r\n            /* @__PURE__ */ jsx2(\"span\", { className: \"hidden sm:inline\", children: backButtonText })\r\n          ]\r\n        }\r\n      )\r\n    ] }) }) }),\r\n    /* @__PURE__ */ jsx2(\"main\", { className: \"flex-1 flex items-center justify-center px-4 sm:px-6 lg:px-8 py-12\", children: /* @__PURE__ */ jsxs2(\"div\", { className: \"w-full max-w-md\", children: [\r\n      /* @__PURE__ */ jsxs2(\"div\", { className: \"text-center mb-8\", children: [\r\n        /* @__PURE__ */ jsx2(\r\n          motion2.h1,\r\n          {\r\n            initial: { opacity: 0, y: -20 },\r\n            animate: { opacity: 1, y: 0 },\r\n            transition: { duration: 0.5 },\r\n            className: \"text-3xl font-bold text-gray-900 dark:text-white mb-2\",\r\n            children: title\r\n          }\r\n        ),\r\n        /* @__PURE__ */ jsx2(\r\n          motion2.p,\r\n          {\r\n            initial: { opacity: 0, y: -10 },\r\n            animate: { opacity: 1, y: 0 },\r\n            transition: { duration: 0.5, delay: 0.1 },\r\n            className: \"text-gray-600 dark:text-gray-400 text-base\",\r\n            children: subtitle\r\n          }\r\n        )\r\n      ] }),\r\n      /* @__PURE__ */ jsx2(\r\n        motion2.div,\r\n        {\r\n          initial: { opacity: 0, y: 20 },\r\n          animate: { opacity: 1, y: 0 },\r\n          transition: { duration: 0.5, delay: 0.2 },\r\n          className: \"bg-white dark:bg-gray-800 rounded-2xl shadow-xl border border-gray-100 dark:border-gray-700 p-8\",\r\n          children\r\n        }\r\n      )\r\n    ] }) }),\r\n    /* @__PURE__ */ jsx2(\"footer\", { className: \"w-full\", children: /* @__PURE__ */ jsx2(\"div\", { className: \"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6\", children: /* @__PURE__ */ jsxs2(\"div\", { className: \"flex flex-col sm:flex-row items-center justify-between space-y-4 sm:space-y-0 text-sm text-gray-500 dark:text-gray-400\", children: [\r\n      /* @__PURE__ */ jsxs2(\"div\", { className: \"flex items-center space-x-6\", children: [\r\n        /* @__PURE__ */ jsxs2(\"span\", { children: [\r\n          \"\\xA9 \",\r\n          (/* @__PURE__ */ new Date()).getFullYear(),\r\n          \" Sunny Payments\"\r\n        ] }),\r\n        /* @__PURE__ */ jsx2(Link2, { href: \"/privacy\", className: \"hover:text-gray-900 dark:hover:text-white transition-colors\", children: \"Privacy Policy\" }),\r\n        /* @__PURE__ */ jsx2(Link2, { href: \"/terms\", className: \"hover:text-gray-900 dark:hover:text-white transition-colors\", children: \"Terms of Service\" })\r\n      ] }),\r\n      /* @__PURE__ */ jsxs2(\"div\", { className: \"flex items-center space-x-4\", children: [\r\n        /* @__PURE__ */ jsx2(Link2, { href: \"/support\", className: \"hover:text-gray-900 dark:hover:text-white transition-colors\", children: \"Support\" }),\r\n        /* @__PURE__ */ jsx2(Link2, { href: \"/status\", className: \"hover:text-gray-900 dark:hover:text-white transition-colors\", children: \"System Status\" })\r\n      ] })\r\n    ] }) }) })\r\n  ] });\r\n}\r\n\r\n// src/auth/SignInForm.tsx\r\nimport { useState } from \"react\";\r\nimport { motion as motion3, AnimatePresence } from \"framer-motion\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport {\r\n  EyeIcon,\r\n  EyeSlashIcon,\r\n  ArrowRightIcon,\r\n  ExclamationTriangleIcon,\r\n  CheckCircleIcon,\r\n  DevicePhoneMobileIcon,\r\n  EnvelopeIcon,\r\n  ShieldCheckIcon\r\n} from \"@heroicons/react/24/outline\";\r\nimport {\r\n  UserCircleIcon,\r\n  BuildingOfficeIcon,\r\n  CodeBracketIcon,\r\n  CogIcon,\r\n  BanknotesIcon\r\n} from \"@heroicons/react/24/solid\";\r\nimport Link3 from \"next/link\";\r\nimport { UserAccountType, MFAType } from \"@sunny/shared-types\";\r\nimport { jsx as jsx3, jsxs as jsxs3 } from \"react/jsx-runtime\";\r\nfunction SignInForm({\r\n  onSubmit,\r\n  defaultAccountType,\r\n  redirectUrl,\r\n  className = \"\"\r\n}) {\r\n  const [showPassword, setShowPassword] = useState(false);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [authError, setAuthError] = useState(null);\r\n  const [requiresMFA, setRequiresMFA] = useState(false);\r\n  const [availableMFAMethods, setAvailableMFAMethods] = useState([]);\r\n  const [selectedMFAMethod, setSelectedMFAMethod] = useState(null);\r\n  const [mfaCode, setMfaCode] = useState(\"\");\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    formState: { errors },\r\n    watch,\r\n    setValue,\r\n    setError\r\n  } = useForm({\r\n    defaultValues: {\r\n      email: \"\",\r\n      password: \"\",\r\n      accountType: defaultAccountType,\r\n      rememberMe: false\r\n    }\r\n  });\r\n  const accountType = watch(\"accountType\");\r\n  const accountTypeOptions = [\r\n    {\r\n      value: UserAccountType.INDIVIDUAL,\r\n      label: \"Individual\",\r\n      description: \"Personal payment account\",\r\n      icon: UserCircleIcon,\r\n      destination: \"app.sunnypayments.com\"\r\n    },\r\n    {\r\n      value: UserAccountType.BUSINESS,\r\n      label: \"Business\",\r\n      description: \"Merchant account for businesses\",\r\n      icon: BuildingOfficeIcon,\r\n      destination: \"business.sunnypayments.com\"\r\n    },\r\n    {\r\n      value: UserAccountType.INSTITUTION,\r\n      label: \"Institution\",\r\n      description: \"Banks, SACCOs, and financial institutions\",\r\n      icon: BanknotesIcon,\r\n      destination: \"institutions.sunnypayments.com\"\r\n    },\r\n    {\r\n      value: UserAccountType.DEVELOPER,\r\n      label: \"Developer\",\r\n      description: \"API access and integration tools\",\r\n      icon: CodeBracketIcon,\r\n      destination: \"developers.sunnypayments.com\"\r\n    },\r\n    {\r\n      value: UserAccountType.ADMIN,\r\n      label: \"Admin\",\r\n      description: \"Platform administration\",\r\n      icon: CogIcon,\r\n      destination: \"admin.sunnypayments.com\"\r\n    }\r\n  ];\r\n  const mfaMethodOptions = [\r\n    {\r\n      value: MFAType.SMS,\r\n      label: \"SMS Code\",\r\n      description: \"Code sent to your phone\",\r\n      icon: DevicePhoneMobileIcon\r\n    },\r\n    {\r\n      value: MFAType.EMAIL,\r\n      label: \"Email Code\",\r\n      description: \"Code sent to your email\",\r\n      icon: EnvelopeIcon\r\n    },\r\n    {\r\n      value: MFAType.TOTP,\r\n      label: \"Authenticator App\",\r\n      description: \"Code from authenticator app\",\r\n      icon: ShieldCheckIcon\r\n    }\r\n  ];\r\n  const handleFormSubmit = async (data) => {\r\n    try {\r\n      setIsLoading(true);\r\n      setAuthError(null);\r\n      const signInData = {\r\n        email: data.email,\r\n        password: data.password,\r\n        accountType: data.accountType,\r\n        rememberMe: data.rememberMe || false,\r\n        mfaCode: requiresMFA && selectedMFAMethod && mfaCode ? mfaCode : void 0\r\n      };\r\n      const response = await onSubmit(signInData);\r\n      if (response.success) {\r\n        if (response.redirectUrl) {\r\n          window.location.href = response.redirectUrl;\r\n        }\r\n      } else if (response.requiresMFA) {\r\n        setRequiresMFA(true);\r\n        setAvailableMFAMethods(response.mfaMethods || []);\r\n        setSelectedMFAMethod(response.mfaMethods?.[0] || null);\r\n      } else if (response.error) {\r\n        setAuthError(response.error.message);\r\n        if (response.error.field) {\r\n          setError(response.error.field, {\r\n            type: \"manual\",\r\n            message: response.error.message\r\n          });\r\n        }\r\n      }\r\n    } catch (error) {\r\n      setAuthError(error instanceof Error ? error.message : \"An unexpected error occurred\");\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n  const handleMFASubmit = async () => {\r\n    if (!mfaCode || !selectedMFAMethod) return;\r\n    const currentFormData = watch();\r\n    await handleFormSubmit(currentFormData);\r\n  };\r\n  const resetMFA = () => {\r\n    setRequiresMFA(false);\r\n    setAvailableMFAMethods([]);\r\n    setSelectedMFAMethod(null);\r\n    setMfaCode(\"\");\r\n    setAuthError(null);\r\n  };\r\n  return /* @__PURE__ */ jsx3(\"div\", { className: `w-full ${className}`, children: /* @__PURE__ */ jsx3(AnimatePresence, { mode: \"wait\", children: !requiresMFA ? (\r\n    // Main Sign In Form\r\n    /* @__PURE__ */ jsxs3(\r\n      motion3.form,\r\n      {\r\n        initial: { opacity: 0, x: -20 },\r\n        animate: { opacity: 1, x: 0 },\r\n        exit: { opacity: 0, x: -20 },\r\n        transition: { duration: 0.3 },\r\n        onSubmit: handleSubmit(handleFormSubmit),\r\n        className: \"space-y-6\",\r\n        children: [\r\n          !defaultAccountType && /* @__PURE__ */ jsxs3(\"div\", { className: \"space-y-3\", children: [\r\n            /* @__PURE__ */ jsx3(\"label\", { className: \"block text-sm font-medium text-gray-700 dark:text-gray-300\", children: \"Account Type\" }),\r\n            /* @__PURE__ */ jsx3(\"div\", { className: \"grid grid-cols-1 gap-3\", children: accountTypeOptions.map((option) => {\r\n              const Icon = option.icon;\r\n              return /* @__PURE__ */ jsxs3(\r\n                motion3.label,\r\n                {\r\n                  whileHover: { scale: 1.02 },\r\n                  whileTap: { scale: 0.98 },\r\n                  className: `relative flex items-center p-4 border-2 rounded-xl cursor-pointer transition-all duration-200 ${accountType === option.value ? \"border-green-500 bg-green-50 dark:bg-green-900/20\" : \"border-gray-200 dark:border-gray-600 hover:border-green-300 dark:hover:border-green-600\"}`,\r\n                  children: [\r\n                    /* @__PURE__ */ jsx3(\r\n                      \"input\",\r\n                      {\r\n                        type: \"radio\",\r\n                        value: option.value,\r\n                        ...register(\"accountType\"),\r\n                        className: \"sr-only\"\r\n                      }\r\n                    ),\r\n                    /* @__PURE__ */ jsx3(Icon, { className: `h-6 w-6 mr-3 ${accountType === option.value ? \"text-green-600\" : \"text-gray-400\"}` }),\r\n                    /* @__PURE__ */ jsxs3(\"div\", { className: \"flex-1\", children: [\r\n                      /* @__PURE__ */ jsxs3(\"div\", { className: \"flex items-center justify-between\", children: [\r\n                        /* @__PURE__ */ jsx3(\"h3\", { className: `font-medium ${accountType === option.value ? \"text-green-900 dark:text-green-100\" : \"text-gray-900 dark:text-white\"}`, children: option.label }),\r\n                        /* @__PURE__ */ jsx3(\"span\", { className: \"text-xs text-gray-500 dark:text-gray-400\", children: option.destination })\r\n                      ] }),\r\n                      /* @__PURE__ */ jsx3(\"p\", { className: `text-sm ${accountType === option.value ? \"text-green-700 dark:text-green-300\" : \"text-gray-500 dark:text-gray-400\"}`, children: option.description })\r\n                    ] }),\r\n                    accountType === option.value && /* @__PURE__ */ jsx3(CheckCircleIcon, { className: \"h-5 w-5 text-green-600 ml-2\" })\r\n                  ]\r\n                },\r\n                option.value\r\n              );\r\n            }) }),\r\n            errors.accountType && /* @__PURE__ */ jsx3(\"p\", { className: \"text-sm text-red-600 dark:text-red-400\", children: errors.accountType.message })\r\n          ] }),\r\n          /* @__PURE__ */ jsxs3(\"div\", { className: \"space-y-2\", children: [\r\n            /* @__PURE__ */ jsx3(\"label\", { htmlFor: \"email\", className: \"block text-sm font-medium text-gray-700 dark:text-gray-300\", children: \"Email Address\" }),\r\n            /* @__PURE__ */ jsx3(\r\n              \"input\",\r\n              {\r\n                id: \"email\",\r\n                type: \"email\",\r\n                autoComplete: \"email\",\r\n                ...register(\"email\"),\r\n                className: `w-full px-4 py-3 border rounded-xl transition-all duration-200 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent ${errors.email ? \"border-red-300 dark:border-red-600\" : \"border-gray-300 dark:border-gray-600\"}`,\r\n                placeholder: \"Enter your email address\"\r\n              }\r\n            ),\r\n            errors.email && /* @__PURE__ */ jsxs3(\"p\", { className: \"text-sm text-red-600 dark:text-red-400 flex items-center\", children: [\r\n              /* @__PURE__ */ jsx3(ExclamationTriangleIcon, { className: \"h-4 w-4 mr-1\" }),\r\n              errors.email.message\r\n            ] })\r\n          ] }),\r\n          /* @__PURE__ */ jsxs3(\"div\", { className: \"space-y-2\", children: [\r\n            /* @__PURE__ */ jsx3(\"label\", { htmlFor: \"password\", className: \"block text-sm font-medium text-gray-700 dark:text-gray-300\", children: \"Password\" }),\r\n            /* @__PURE__ */ jsxs3(\"div\", { className: \"relative\", children: [\r\n              /* @__PURE__ */ jsx3(\r\n                \"input\",\r\n                {\r\n                  id: \"password\",\r\n                  type: showPassword ? \"text\" : \"password\",\r\n                  autoComplete: \"current-password\",\r\n                  ...register(\"password\"),\r\n                  className: `w-full px-4 py-3 pr-12 border rounded-xl transition-all duration-200 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent ${errors.password ? \"border-red-300 dark:border-red-600\" : \"border-gray-300 dark:border-gray-600\"}`,\r\n                  placeholder: \"Enter your password\"\r\n                }\r\n              ),\r\n              /* @__PURE__ */ jsx3(\r\n                \"button\",\r\n                {\r\n                  type: \"button\",\r\n                  onClick: () => setShowPassword(!showPassword),\r\n                  className: \"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors\",\r\n                  children: showPassword ? /* @__PURE__ */ jsx3(EyeSlashIcon, { className: \"h-5 w-5\" }) : /* @__PURE__ */ jsx3(EyeIcon, { className: \"h-5 w-5\" })\r\n                }\r\n              )\r\n            ] }),\r\n            errors.password && /* @__PURE__ */ jsxs3(\"p\", { className: \"text-sm text-red-600 dark:text-red-400 flex items-center\", children: [\r\n              /* @__PURE__ */ jsx3(ExclamationTriangleIcon, { className: \"h-4 w-4 mr-1\" }),\r\n              errors.password.message\r\n            ] })\r\n          ] }),\r\n          /* @__PURE__ */ jsxs3(\"div\", { className: \"flex items-center justify-between\", children: [\r\n            /* @__PURE__ */ jsxs3(\"label\", { className: \"flex items-center\", children: [\r\n              /* @__PURE__ */ jsx3(\r\n                \"input\",\r\n                {\r\n                  type: \"checkbox\",\r\n                  ...register(\"rememberMe\"),\r\n                  className: \"h-4 w-4 text-green-600 border-gray-300 rounded focus:ring-green-500 focus:ring-2\"\r\n                }\r\n              ),\r\n              /* @__PURE__ */ jsx3(\"span\", { className: \"ml-2 text-sm text-gray-600 dark:text-gray-400\", children: \"Remember me\" })\r\n            ] }),\r\n            /* @__PURE__ */ jsx3(\r\n              Link3,\r\n              {\r\n                href: \"/forgot-password\",\r\n                className: \"text-sm font-medium text-green-600 hover:text-green-500 dark:text-green-400 dark:hover:text-green-300 transition-colors\",\r\n                children: \"Forgot password?\"\r\n              }\r\n            )\r\n          ] }),\r\n          authError && /* @__PURE__ */ jsx3(\r\n            motion3.div,\r\n            {\r\n              initial: { opacity: 0, y: -10 },\r\n              animate: { opacity: 1, y: 0 },\r\n              className: \"p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-xl\",\r\n              children: /* @__PURE__ */ jsxs3(\"div\", { className: \"flex items-center\", children: [\r\n                /* @__PURE__ */ jsx3(ExclamationTriangleIcon, { className: \"h-5 w-5 text-red-500 mr-2\" }),\r\n                /* @__PURE__ */ jsx3(\"p\", { className: \"text-sm text-red-700 dark:text-red-300\", children: authError })\r\n              ] })\r\n            }\r\n          ),\r\n          /* @__PURE__ */ jsx3(\r\n            motion3.button,\r\n            {\r\n              type: \"submit\",\r\n              disabled: isLoading,\r\n              whileHover: { scale: 1.02 },\r\n              whileTap: { scale: 0.98 },\r\n              className: \"w-full bg-gradient-to-r from-green-600 to-emerald-600 text-white py-3 px-4 rounded-xl font-medium hover:from-green-700 hover:to-emerald-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 flex items-center justify-center\",\r\n              children: isLoading ? /* @__PURE__ */ jsxs3(\"div\", { className: \"flex items-center\", children: [\r\n                /* @__PURE__ */ jsx3(\"div\", { className: \"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2\" }),\r\n                \"Signing in...\"\r\n              ] }) : /* @__PURE__ */ jsxs3(\"div\", { className: \"flex items-center\", children: [\r\n                \"Sign In\",\r\n                /* @__PURE__ */ jsx3(ArrowRightIcon, { className: \"ml-2 h-5 w-5\" })\r\n              ] })\r\n            }\r\n          ),\r\n          /* @__PURE__ */ jsxs3(\"p\", { className: \"text-center text-sm text-gray-600 dark:text-gray-400\", children: [\r\n            \"Don't have an account?\",\r\n            \" \",\r\n            /* @__PURE__ */ jsx3(\r\n              Link3,\r\n              {\r\n                href: `/sign-up${accountType ? `?type=${accountType}` : \"\"}${redirectUrl ? `&redirect=${encodeURIComponent(redirectUrl)}` : \"\"}`,\r\n                className: \"font-medium text-green-600 hover:text-green-500 dark:text-green-400 dark:hover:text-green-300 transition-colors\",\r\n                children: \"Sign up here\"\r\n              }\r\n            )\r\n          ] })\r\n        ]\r\n      },\r\n      \"signin-form\"\r\n    )\r\n  ) : (\r\n    // MFA Form\r\n    /* @__PURE__ */ jsxs3(\r\n      motion3.div,\r\n      {\r\n        initial: { opacity: 0, x: 20 },\r\n        animate: { opacity: 1, x: 0 },\r\n        exit: { opacity: 0, x: 20 },\r\n        transition: { duration: 0.3 },\r\n        className: \"space-y-6\",\r\n        children: [\r\n          /* @__PURE__ */ jsxs3(\"div\", { className: \"text-center\", children: [\r\n            /* @__PURE__ */ jsx3(ShieldCheckIcon, { className: \"h-12 w-12 text-green-600 mx-auto mb-4\" }),\r\n            /* @__PURE__ */ jsx3(\"h3\", { className: \"text-lg font-semibold text-gray-900 dark:text-white mb-2\", children: \"Two-Factor Authentication\" }),\r\n            /* @__PURE__ */ jsx3(\"p\", { className: \"text-gray-600 dark:text-gray-400\", children: \"Please verify your identity to continue\" })\r\n          ] }),\r\n          availableMFAMethods.length > 1 && /* @__PURE__ */ jsxs3(\"div\", { className: \"space-y-3\", children: [\r\n            /* @__PURE__ */ jsx3(\"label\", { className: \"block text-sm font-medium text-gray-700 dark:text-gray-300\", children: \"Verification Method\" }),\r\n            /* @__PURE__ */ jsx3(\"div\", { className: \"space-y-2\", children: mfaMethodOptions.filter((option) => availableMFAMethods.includes(option.value)).map((option) => {\r\n              const Icon = option.icon;\r\n              return /* @__PURE__ */ jsxs3(\r\n                \"label\",\r\n                {\r\n                  className: `flex items-center p-3 border rounded-lg cursor-pointer transition-all duration-200 ${selectedMFAMethod === option.value ? \"border-green-500 bg-green-50 dark:bg-green-900/20\" : \"border-gray-200 dark:border-gray-600 hover:border-green-300\"}`,\r\n                  children: [\r\n                    /* @__PURE__ */ jsx3(\r\n                      \"input\",\r\n                      {\r\n                        type: \"radio\",\r\n                        name: \"mfaMethod\",\r\n                        value: option.value,\r\n                        checked: selectedMFAMethod === option.value,\r\n                        onChange: (e) => setSelectedMFAMethod(e.target.value),\r\n                        className: \"sr-only\"\r\n                      }\r\n                    ),\r\n                    /* @__PURE__ */ jsx3(Icon, { className: `h-5 w-5 mr-3 ${selectedMFAMethod === option.value ? \"text-green-600\" : \"text-gray-400\"}` }),\r\n                    /* @__PURE__ */ jsxs3(\"div\", { children: [\r\n                      /* @__PURE__ */ jsx3(\"p\", { className: `font-medium ${selectedMFAMethod === option.value ? \"text-green-900 dark:text-green-100\" : \"text-gray-900 dark:text-white\"}`, children: option.label }),\r\n                      /* @__PURE__ */ jsx3(\"p\", { className: `text-sm ${selectedMFAMethod === option.value ? \"text-green-700 dark:text-green-300\" : \"text-gray-500 dark:text-gray-400\"}`, children: option.description })\r\n                    ] })\r\n                  ]\r\n                },\r\n                option.value\r\n              );\r\n            }) })\r\n          ] }),\r\n          /* @__PURE__ */ jsxs3(\"div\", { className: \"space-y-2\", children: [\r\n            /* @__PURE__ */ jsx3(\"label\", { htmlFor: \"mfaCode\", className: \"block text-sm font-medium text-gray-700 dark:text-gray-300\", children: \"Verification Code\" }),\r\n            /* @__PURE__ */ jsx3(\r\n              \"input\",\r\n              {\r\n                id: \"mfaCode\",\r\n                type: \"text\",\r\n                value: mfaCode,\r\n                onChange: (e) => setMfaCode(e.target.value.replace(/\\D/g, \"\").slice(0, 6)),\r\n                className: \"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-xl transition-all duration-200 bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-center text-lg tracking-widest focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent\",\r\n                placeholder: \"000000\",\r\n                maxLength: 6,\r\n                autoComplete: \"one-time-code\"\r\n              }\r\n            )\r\n          ] }),\r\n          authError && /* @__PURE__ */ jsx3(\r\n            motion3.div,\r\n            {\r\n              initial: { opacity: 0, y: -10 },\r\n              animate: { opacity: 1, y: 0 },\r\n              className: \"p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-xl\",\r\n              children: /* @__PURE__ */ jsxs3(\"div\", { className: \"flex items-center\", children: [\r\n                /* @__PURE__ */ jsx3(ExclamationTriangleIcon, { className: \"h-5 w-5 text-red-500 mr-2\" }),\r\n                /* @__PURE__ */ jsx3(\"p\", { className: \"text-sm text-red-700 dark:text-red-300\", children: authError })\r\n              ] })\r\n            }\r\n          ),\r\n          /* @__PURE__ */ jsxs3(\"div\", { className: \"space-y-3\", children: [\r\n            /* @__PURE__ */ jsx3(\r\n              motion3.button,\r\n              {\r\n                onClick: handleMFASubmit,\r\n                disabled: isLoading || mfaCode.length !== 6,\r\n                whileHover: { scale: 1.02 },\r\n                whileTap: { scale: 0.98 },\r\n                className: \"w-full bg-gradient-to-r from-green-600 to-emerald-600 text-white py-3 px-4 rounded-xl font-medium hover:from-green-700 hover:to-emerald-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 flex items-center justify-center\",\r\n                children: isLoading ? /* @__PURE__ */ jsxs3(\"div\", { className: \"flex items-center\", children: [\r\n                  /* @__PURE__ */ jsx3(\"div\", { className: \"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2\" }),\r\n                  \"Verifying...\"\r\n                ] }) : \"Verify Code\"\r\n              }\r\n            ),\r\n            /* @__PURE__ */ jsx3(\r\n              \"button\",\r\n              {\r\n                type: \"button\",\r\n                onClick: resetMFA,\r\n                className: \"w-full text-sm text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white transition-colors\",\r\n                children: \"Back to sign in\"\r\n              }\r\n            )\r\n          ] })\r\n        ]\r\n      },\r\n      \"mfa-form\"\r\n    )\r\n  ) }) });\r\n}\r\n\r\n// src/auth/SimpleSignInForm.tsx\r\nimport { useState as useState2 } from \"react\";\r\nimport { useForm as useForm2 } from \"react-hook-form\";\r\nimport { motion as motion4, AnimatePresence as AnimatePresence2 } from \"framer-motion\";\r\nimport Link4 from \"next/link\";\r\nimport {\r\n  EyeIcon as EyeIcon2,\r\n  EyeSlashIcon as EyeSlashIcon2,\r\n  ArrowRightIcon as ArrowRightIcon2,\r\n  ShieldCheckIcon as ShieldCheckIcon2,\r\n  DevicePhoneMobileIcon as DevicePhoneMobileIcon2,\r\n  EnvelopeIcon as EnvelopeIcon2,\r\n  ExclamationTriangleIcon as ExclamationTriangleIcon2\r\n} from \"@heroicons/react/24/outline\";\r\nimport { MFAType as MFAType2 } from \"@sunny/shared-types\";\r\nimport { jsx as jsx4, jsxs as jsxs4 } from \"react/jsx-runtime\";\r\nfunction SimpleSignInForm({\r\n  onSubmit,\r\n  redirectUrl,\r\n  isLoading: externalLoading = false\r\n}) {\r\n  const [showPassword, setShowPassword] = useState2(false);\r\n  const [isLoading, setIsLoading] = useState2(false);\r\n  const [authError, setAuthError] = useState2(null);\r\n  const [requiresMFA, setRequiresMFA] = useState2(false);\r\n  const [availableMFAMethods, setAvailableMFAMethods] = useState2([]);\r\n  const [selectedMFAMethod, setSelectedMFAMethod] = useState2(null);\r\n  const [mfaCode, setMfaCode] = useState2(\"\");\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    formState: { errors },\r\n    watch,\r\n    setError\r\n  } = useForm2({\r\n    defaultValues: {\r\n      email: \"\",\r\n      password: \"\",\r\n      rememberMe: false\r\n    }\r\n  });\r\n  const mfaMethodOptions = [\r\n    {\r\n      type: MFAType2.SMS,\r\n      name: \"SMS Code\",\r\n      description: \"Code sent to your phone\",\r\n      icon: DevicePhoneMobileIcon2\r\n    },\r\n    {\r\n      type: MFAType2.EMAIL,\r\n      name: \"Email Code\",\r\n      description: \"Code sent to your email\",\r\n      icon: EnvelopeIcon2\r\n    },\r\n    {\r\n      type: MFAType2.TOTP,\r\n      name: \"Authenticator App\",\r\n      description: \"Code from authenticator app\",\r\n      icon: ShieldCheckIcon2\r\n    }\r\n  ];\r\n  const handleFormSubmit = async (data) => {\r\n    try {\r\n      setIsLoading(true);\r\n      setAuthError(null);\r\n      const signInData = {\r\n        email: data.email,\r\n        password: data.password,\r\n        rememberMe: data.rememberMe || false,\r\n        mfaCode: requiresMFA && selectedMFAMethod && mfaCode ? mfaCode : void 0\r\n      };\r\n      const response = await onSubmit(signInData);\r\n      if (response.success) {\r\n        if (response.redirectUrl) {\r\n          window.location.href = response.redirectUrl;\r\n        }\r\n      } else if (response.requiresMFA && response.mfaMethods) {\r\n        setRequiresMFA(true);\r\n        setAvailableMFAMethods(response.mfaMethods);\r\n        setSelectedMFAMethod(response.mfaMethods[0]);\r\n      } else if (response.error) {\r\n        setAuthError(response.error.message);\r\n        if (response.error.field) {\r\n          setError(response.error.field, {\r\n            type: \"manual\",\r\n            message: response.error.message\r\n          });\r\n        }\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Sign in error:\", error);\r\n      setAuthError(\"An unexpected error occurred. Please try again.\");\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n  const handleMFASubmit = async () => {\r\n    if (!mfaCode || !selectedMFAMethod) return;\r\n    const currentFormData = watch();\r\n    await handleFormSubmit(currentFormData);\r\n  };\r\n  const resetMFA = () => {\r\n    setRequiresMFA(false);\r\n    setAvailableMFAMethods([]);\r\n    setSelectedMFAMethod(null);\r\n    setMfaCode(\"\");\r\n    setAuthError(null);\r\n  };\r\n  const loading = isLoading || externalLoading;\r\n  return /* @__PURE__ */ jsxs4(\"div\", { className: \"space-y-6\", children: [\r\n    authError && /* @__PURE__ */ jsx4(\r\n      motion4.div,\r\n      {\r\n        initial: { opacity: 0, y: -10 },\r\n        animate: { opacity: 1, y: 0 },\r\n        className: \"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-700 rounded-xl p-4\",\r\n        children: /* @__PURE__ */ jsxs4(\"div\", { className: \"flex items-start\", children: [\r\n          /* @__PURE__ */ jsx4(ExclamationTriangleIcon2, { className: \"h-5 w-5 text-red-600 dark:text-red-400 mt-0.5 mr-3 flex-shrink-0\" }),\r\n          /* @__PURE__ */ jsx4(\"div\", { children: /* @__PURE__ */ jsx4(\"p\", { className: \"text-sm text-red-800 dark:text-red-200\", children: authError }) })\r\n        ] })\r\n      }\r\n    ),\r\n    /* @__PURE__ */ jsx4(AnimatePresence2, { mode: \"wait\", children: !requiresMFA ? (\r\n      // Main Sign In Form\r\n      /* @__PURE__ */ jsxs4(\r\n        motion4.form,\r\n        {\r\n          initial: { opacity: 0, x: -20 },\r\n          animate: { opacity: 1, x: 0 },\r\n          exit: { opacity: 0, x: -20 },\r\n          transition: { duration: 0.3 },\r\n          onSubmit: handleSubmit(handleFormSubmit),\r\n          className: \"space-y-6\",\r\n          children: [\r\n            /* @__PURE__ */ jsxs4(\"div\", { className: \"space-y-2\", children: [\r\n              /* @__PURE__ */ jsx4(\"label\", { htmlFor: \"email\", className: \"block text-sm font-medium text-gray-700 dark:text-gray-300\", children: \"Email Address\" }),\r\n              /* @__PURE__ */ jsx4(\r\n                \"input\",\r\n                {\r\n                  ...register(\"email\", {\r\n                    required: \"Email is required\",\r\n                    pattern: {\r\n                      value: /^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i,\r\n                      message: \"Invalid email address\"\r\n                    }\r\n                  }),\r\n                  type: \"email\",\r\n                  className: \"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-xl transition-all duration-200 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent\",\r\n                  placeholder: \"Enter your email address\"\r\n                }\r\n              ),\r\n              errors.email && /* @__PURE__ */ jsx4(\"p\", { className: \"text-sm text-red-600 dark:text-red-400\", children: errors.email.message })\r\n            ] }),\r\n            /* @__PURE__ */ jsxs4(\"div\", { className: \"space-y-2\", children: [\r\n              /* @__PURE__ */ jsx4(\"label\", { htmlFor: \"password\", className: \"block text-sm font-medium text-gray-700 dark:text-gray-300\", children: \"Password\" }),\r\n              /* @__PURE__ */ jsxs4(\"div\", { className: \"relative\", children: [\r\n                /* @__PURE__ */ jsx4(\r\n                  \"input\",\r\n                  {\r\n                    ...register(\"password\", {\r\n                      required: \"Password is required\",\r\n                      minLength: {\r\n                        value: 8,\r\n                        message: \"Password must be at least 8 characters\"\r\n                      }\r\n                    }),\r\n                    type: showPassword ? \"text\" : \"password\",\r\n                    className: \"w-full px-4 py-3 pr-12 border border-gray-300 dark:border-gray-600 rounded-xl transition-all duration-200 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent\",\r\n                    placeholder: \"Enter your password\"\r\n                  }\r\n                ),\r\n                /* @__PURE__ */ jsx4(\r\n                  \"button\",\r\n                  {\r\n                    type: \"button\",\r\n                    onClick: () => setShowPassword(!showPassword),\r\n                    className: \"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors\",\r\n                    children: showPassword ? /* @__PURE__ */ jsx4(EyeSlashIcon2, { className: \"h-5 w-5\" }) : /* @__PURE__ */ jsx4(EyeIcon2, { className: \"h-5 w-5\" })\r\n                  }\r\n                )\r\n              ] }),\r\n              errors.password && /* @__PURE__ */ jsx4(\"p\", { className: \"text-sm text-red-600 dark:text-red-400\", children: errors.password.message })\r\n            ] }),\r\n            /* @__PURE__ */ jsxs4(\"div\", { className: \"flex items-center justify-between\", children: [\r\n              /* @__PURE__ */ jsxs4(\"label\", { className: \"flex items-center\", children: [\r\n                /* @__PURE__ */ jsx4(\r\n                  \"input\",\r\n                  {\r\n                    ...register(\"rememberMe\"),\r\n                    type: \"checkbox\",\r\n                    className: \"h-4 w-4 text-green-600 border-gray-300 rounded focus:ring-green-500 focus:ring-2\"\r\n                  }\r\n                ),\r\n                /* @__PURE__ */ jsx4(\"span\", { className: \"ml-2 text-sm text-gray-600 dark:text-gray-400\", children: \"Remember me\" })\r\n              ] }),\r\n              /* @__PURE__ */ jsx4(\r\n                Link4,\r\n                {\r\n                  href: \"/forgot-password\",\r\n                  className: \"text-sm font-medium text-green-600 hover:text-green-500 dark:text-green-400 dark:hover:text-green-300 transition-colors\",\r\n                  children: \"Forgot password?\"\r\n                }\r\n              )\r\n            ] }),\r\n            /* @__PURE__ */ jsx4(\r\n              motion4.button,\r\n              {\r\n                type: \"submit\",\r\n                disabled: loading,\r\n                whileHover: { scale: loading ? 1 : 1.02 },\r\n                whileTap: { scale: loading ? 1 : 0.98 },\r\n                className: \"w-full bg-gradient-to-r from-green-600 to-emerald-600 text-white py-3 px-4 rounded-xl font-medium hover:from-green-700 hover:to-emerald-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 flex items-center justify-center\",\r\n                children: loading ? /* @__PURE__ */ jsxs4(\"div\", { className: \"flex items-center\", children: [\r\n                  /* @__PURE__ */ jsx4(\"div\", { className: \"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2\" }),\r\n                  \"Signing in...\"\r\n                ] }) : /* @__PURE__ */ jsxs4(\"div\", { className: \"flex items-center\", children: [\r\n                  \"Sign In\",\r\n                  /* @__PURE__ */ jsx4(ArrowRightIcon2, { className: \"ml-2 h-5 w-5\" })\r\n                ] })\r\n              }\r\n            ),\r\n            /* @__PURE__ */ jsxs4(\"p\", { className: \"text-center text-sm text-gray-600 dark:text-gray-400\", children: [\r\n              \"Don't have an account?\",\r\n              \" \",\r\n              /* @__PURE__ */ jsx4(\r\n                Link4,\r\n                {\r\n                  href: `/sign-up${redirectUrl ? `?redirect=${encodeURIComponent(redirectUrl)}` : \"\"}`,\r\n                  className: \"font-medium text-green-600 hover:text-green-500 dark:text-green-400 dark:hover:text-green-300 transition-colors\",\r\n                  children: \"Sign up here\"\r\n                }\r\n              )\r\n            ] })\r\n          ]\r\n        },\r\n        \"signin-form\"\r\n      )\r\n    ) : (\r\n      // MFA Verification Form\r\n      /* @__PURE__ */ jsxs4(\r\n        motion4.div,\r\n        {\r\n          initial: { opacity: 0, x: 20 },\r\n          animate: { opacity: 1, x: 0 },\r\n          exit: { opacity: 0, x: 20 },\r\n          transition: { duration: 0.3 },\r\n          className: \"space-y-6\",\r\n          children: [\r\n            /* @__PURE__ */ jsxs4(\"div\", { className: \"text-center\", children: [\r\n              /* @__PURE__ */ jsx4(\"h3\", { className: \"text-lg font-medium text-gray-900 dark:text-white mb-2\", children: \"Verify Your Identity\" }),\r\n              /* @__PURE__ */ jsx4(\"p\", { className: \"text-sm text-gray-600 dark:text-gray-400\", children: \"Please choose a verification method to complete your sign-in.\" })\r\n            ] }),\r\n            /* @__PURE__ */ jsxs4(\"div\", { className: \"space-y-3\", children: [\r\n              /* @__PURE__ */ jsx4(\"label\", { className: \"block text-sm font-medium text-gray-700 dark:text-gray-300\", children: \"Choose verification method\" }),\r\n              /* @__PURE__ */ jsx4(\"div\", { className: \"space-y-2\", children: availableMFAMethods.map((method) => {\r\n                const option = mfaMethodOptions.find((opt) => opt.type === method);\r\n                if (!option) return null;\r\n                const Icon = option.icon;\r\n                return /* @__PURE__ */ jsxs4(\r\n                  \"label\",\r\n                  {\r\n                    className: `flex items-center p-3 border-2 rounded-xl cursor-pointer transition-all ${selectedMFAMethod === method ? \"border-green-500 bg-green-50 dark:bg-green-900/20\" : \"border-gray-200 dark:border-gray-600 hover:border-green-300 dark:hover:border-green-600\"}`,\r\n                    children: [\r\n                      /* @__PURE__ */ jsx4(\r\n                        \"input\",\r\n                        {\r\n                          type: \"radio\",\r\n                          value: method,\r\n                          checked: selectedMFAMethod === method,\r\n                          onChange: (e) => setSelectedMFAMethod(e.target.value),\r\n                          className: \"sr-only\"\r\n                        }\r\n                      ),\r\n                      /* @__PURE__ */ jsx4(Icon, { className: `h-5 w-5 mr-3 ${selectedMFAMethod === method ? \"text-green-600\" : \"text-gray-400\"}` }),\r\n                      /* @__PURE__ */ jsxs4(\"div\", { children: [\r\n                        /* @__PURE__ */ jsx4(\"p\", { className: `font-medium ${selectedMFAMethod === method ? \"text-green-900 dark:text-green-100\" : \"text-gray-900 dark:text-white\"}`, children: option.name }),\r\n                        /* @__PURE__ */ jsx4(\"p\", { className: `text-sm ${selectedMFAMethod === method ? \"text-green-700 dark:text-green-300\" : \"text-gray-500 dark:text-gray-400\"}`, children: option.description })\r\n                      ] })\r\n                    ]\r\n                  },\r\n                  method\r\n                );\r\n              }) })\r\n            ] }),\r\n            /* @__PURE__ */ jsxs4(\"div\", { className: \"space-y-2\", children: [\r\n              /* @__PURE__ */ jsx4(\"label\", { htmlFor: \"mfaCode\", className: \"block text-sm font-medium text-gray-700 dark:text-gray-300\", children: \"Verification Code\" }),\r\n              /* @__PURE__ */ jsx4(\r\n                \"input\",\r\n                {\r\n                  id: \"mfaCode\",\r\n                  type: \"text\",\r\n                  value: mfaCode,\r\n                  onChange: (e) => setMfaCode(e.target.value),\r\n                  className: \"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-xl transition-all duration-200 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent text-center text-lg tracking-widest\",\r\n                  placeholder: \"000000\",\r\n                  maxLength: 6,\r\n                  autoComplete: \"one-time-code\"\r\n                }\r\n              )\r\n            ] }),\r\n            /* @__PURE__ */ jsxs4(\"div\", { className: \"flex space-x-3\", children: [\r\n              /* @__PURE__ */ jsx4(\r\n                \"button\",\r\n                {\r\n                  type: \"button\",\r\n                  onClick: resetMFA,\r\n                  className: \"flex-1 px-4 py-3 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 font-medium rounded-xl hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors\",\r\n                  children: \"Back\"\r\n                }\r\n              ),\r\n              /* @__PURE__ */ jsx4(\r\n                motion4.button,\r\n                {\r\n                  type: \"button\",\r\n                  onClick: handleMFASubmit,\r\n                  disabled: !mfaCode || mfaCode.length < 6 || loading,\r\n                  whileHover: { scale: !mfaCode || mfaCode.length < 6 || loading ? 1 : 1.02 },\r\n                  whileTap: { scale: !mfaCode || mfaCode.length < 6 || loading ? 1 : 0.98 },\r\n                  className: \"flex-1 bg-gradient-to-r from-green-600 to-emerald-600 text-white py-3 px-4 rounded-xl font-medium hover:from-green-700 hover:to-emerald-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 flex items-center justify-center\",\r\n                  children: loading ? /* @__PURE__ */ jsxs4(\"div\", { className: \"flex items-center\", children: [\r\n                    /* @__PURE__ */ jsx4(\"div\", { className: \"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2\" }),\r\n                    \"Verifying...\"\r\n                  ] }) : \"Verify\"\r\n                }\r\n              )\r\n            ] })\r\n          ]\r\n        },\r\n        \"mfa-form\"\r\n      )\r\n    ) })\r\n  ] });\r\n}\r\n\r\n// src/auth/SignUpForm.tsx\r\nimport { useState as useState3, useEffect as useEffect2 } from \"react\";\r\nimport { motion as motion5, AnimatePresence as AnimatePresence3 } from \"framer-motion\";\r\nimport { useForm as useForm3 } from \"react-hook-form\";\r\nimport {\r\n  EyeIcon as EyeIcon3,\r\n  EyeSlashIcon as EyeSlashIcon3,\r\n  ArrowRightIcon as ArrowRightIcon3,\r\n  ExclamationTriangleIcon as ExclamationTriangleIcon3,\r\n  CheckCircleIcon as CheckCircleIcon2,\r\n  PhoneIcon,\r\n  EnvelopeIcon as EnvelopeIcon3\r\n} from \"@heroicons/react/24/outline\";\r\nimport {\r\n  UserCircleIcon as UserCircleIcon2,\r\n  BuildingOfficeIcon as BuildingOfficeIcon2,\r\n  CodeBracketIcon as CodeBracketIcon2,\r\n  BanknotesIcon as BanknotesIcon2\r\n} from \"@heroicons/react/24/solid\";\r\nimport Link5 from \"next/link\";\r\nimport {\r\n  UserAccountType as UserAccountType2,\r\n  BusinessType,\r\n  InstitutionType\r\n} from \"@sunny/shared-types\";\r\nimport { Fragment, jsx as jsx5, jsxs as jsxs5 } from \"react/jsx-runtime\";\r\nfunction SignUpForm({\r\n  onSubmit,\r\n  defaultAccountType,\r\n  redirectUrl,\r\n  className = \"\"\r\n}) {\r\n  const [showPassword, setShowPassword] = useState3(false);\r\n  const [showConfirmPassword, setShowConfirmPassword] = useState3(false);\r\n  const [isLoading, setIsLoading] = useState3(false);\r\n  const [authError, setAuthError] = useState3(null);\r\n  const [passwordStrength, setPasswordStrength] = useState3(0);\r\n  const [currentStep, setCurrentStep] = useState3(1);\r\n  const totalSteps = 3;\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    formState: { errors },\r\n    watch,\r\n    setValue,\r\n    setError,\r\n    trigger\r\n  } = useForm3({\r\n    defaultValues: {\r\n      accountType: defaultAccountType || UserAccountType2.INDIVIDUAL,\r\n      agreeToTerms: false,\r\n      agreeToPrivacy: false,\r\n      marketingConsent: false\r\n    }\r\n  });\r\n  const accountType = watch(\"accountType\");\r\n  const password = watch(\"password\");\r\n  const email = watch(\"email\");\r\n  const accountTypeOptions = [\r\n    {\r\n      value: UserAccountType2.INDIVIDUAL,\r\n      label: \"Individual\",\r\n      description: \"Personal payment account for individual users\",\r\n      icon: UserCircleIcon2,\r\n      destination: \"app.sunnypayments.com\"\r\n    },\r\n    {\r\n      value: UserAccountType2.BUSINESS,\r\n      label: \"Business\",\r\n      description: \"Merchant account for businesses and organizations\",\r\n      icon: BuildingOfficeIcon2,\r\n      destination: \"business.sunnypayments.com\"\r\n    },\r\n    {\r\n      value: UserAccountType2.INSTITUTION,\r\n      label: \"Institution\",\r\n      description: \"For banks, SACCOs, and financial institutions\",\r\n      icon: BanknotesIcon2,\r\n      destination: \"institutions.sunnypayments.com\"\r\n    },\r\n    {\r\n      value: UserAccountType2.DEVELOPER,\r\n      label: \"Developer\",\r\n      description: \"API access and integration tools for developers\",\r\n      icon: CodeBracketIcon2,\r\n      destination: \"developers.sunnypayments.com\"\r\n    }\r\n  ];\r\n  const businessTypeOptions = [\r\n    { value: BusinessType.SOLE_PROPRIETORSHIP, label: \"Sole Proprietorship\" },\r\n    { value: BusinessType.PARTNERSHIP, label: \"Partnership\" },\r\n    { value: BusinessType.CORPORATION, label: \"Corporation\" },\r\n    { value: BusinessType.LLC, label: \"Limited Liability Company (LLC)\" },\r\n    { value: BusinessType.NON_PROFIT, label: \"Non-Profit Organization\" },\r\n    { value: BusinessType.STARTUP, label: \"Startup\" },\r\n    { value: BusinessType.ENTERPRISE, label: \"Enterprise\" }\r\n  ];\r\n  const institutionTypeOptions = [\r\n    { value: InstitutionType.BANK, label: \"Commercial Bank\" },\r\n    { value: InstitutionType.CREDIT_UNION, label: \"Credit Union\" },\r\n    { value: InstitutionType.FINTECH, label: \"Fintech Company\" },\r\n    { value: InstitutionType.PAYMENT_PROCESSOR, label: \"Payment Processor\" },\r\n    { value: InstitutionType.REMITTANCE_SERVICE, label: \"Remittance Service\" },\r\n    { value: InstitutionType.SACCO, label: \"SACCO (Kenya)\" },\r\n    { value: InstitutionType.MICROFINANCE, label: \"Microfinance Institution\" }\r\n  ];\r\n  useEffect2(() => {\r\n    if (!password) {\r\n      setPasswordStrength(0);\r\n      return;\r\n    }\r\n    let strength = 0;\r\n    if (password.length >= 8) strength += 25;\r\n    if (password.length >= 12) strength += 25;\r\n    if (/[a-z]/.test(password)) strength += 10;\r\n    if (/[A-Z]/.test(password)) strength += 10;\r\n    if (/[0-9]/.test(password)) strength += 15;\r\n    if (/[^A-Za-z0-9]/.test(password)) strength += 15;\r\n    setPasswordStrength(Math.min(strength, 100));\r\n  }, [password]);\r\n  const getPasswordStrengthColor = (strength) => {\r\n    if (strength < 30) return \"bg-red-500\";\r\n    if (strength < 60) return \"bg-yellow-500\";\r\n    if (strength < 80) return \"bg-blue-500\";\r\n    return \"bg-green-500\";\r\n  };\r\n  const getPasswordStrengthText = (strength) => {\r\n    if (strength < 30) return \"Weak\";\r\n    if (strength < 60) return \"Fair\";\r\n    if (strength < 80) return \"Good\";\r\n    return \"Strong\";\r\n  };\r\n  const handleFormSubmit = async (data) => {\r\n    try {\r\n      setIsLoading(true);\r\n      setAuthError(null);\r\n      const signUpData = {\r\n        email: data.email,\r\n        password: data.password,\r\n        confirmPassword: data.confirmPassword,\r\n        firstName: data.firstName,\r\n        lastName: data.lastName,\r\n        accountType: data.accountType,\r\n        agreeToTerms: data.agreeToTerms,\r\n        agreeToPrivacy: data.agreeToPrivacy,\r\n        marketingConsent: data.marketingConsent,\r\n        businessName: data.businessName,\r\n        businessType: data.businessType,\r\n        institutionName: data.institutionName,\r\n        institutionType: data.institutionType,\r\n        company: data.company,\r\n        phone: data.phone,\r\n        referralCode: data.referralCode\r\n      };\r\n      const response = await onSubmit(signUpData);\r\n      if (response.success) {\r\n        if (response.redirectUrl) {\r\n          window.location.href = response.redirectUrl;\r\n        }\r\n      } else if (response.error) {\r\n        setAuthError(response.error.message);\r\n        if (response.error.field) {\r\n          setError(response.error.field, {\r\n            type: \"manual\",\r\n            message: response.error.message\r\n          });\r\n        }\r\n      }\r\n    } catch (error) {\r\n      setAuthError(error instanceof Error ? error.message : \"An unexpected error occurred\");\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n  const handleNextStep = async () => {\r\n    const fieldsToValidate = getFieldsForStep(currentStep);\r\n    const isValid = await trigger(fieldsToValidate);\r\n    if (isValid) {\r\n      setCurrentStep(currentStep + 1);\r\n    }\r\n  };\r\n  const getFieldsForStep = (step) => {\r\n    switch (step) {\r\n      case 1:\r\n        return [\"accountType\"];\r\n      case 2:\r\n        return [\"firstName\", \"lastName\", \"email\", \"phone\", \"businessName\", \"businessType\", \"institutionName\", \"institutionType\", \"company\"];\r\n      case 3:\r\n        return [\"password\", \"confirmPassword\", \"agreeToTerms\", \"agreeToPrivacy\"];\r\n      default:\r\n        return [];\r\n    }\r\n  };\r\n  const renderStep = () => {\r\n    switch (currentStep) {\r\n      case 1:\r\n        return renderAccountTypeStep();\r\n      case 2:\r\n        return renderPersonalInfoStep();\r\n      case 3:\r\n        return renderPasswordStep();\r\n      default:\r\n        return null;\r\n    }\r\n  };\r\n  const renderAccountTypeStep = () => /* @__PURE__ */ jsxs5(\r\n    motion5.div,\r\n    {\r\n      initial: { opacity: 0, x: 20 },\r\n      animate: { opacity: 1, x: 0 },\r\n      exit: { opacity: 0, x: -20 },\r\n      className: \"space-y-6\",\r\n      children: [\r\n        /* @__PURE__ */ jsxs5(\"div\", { className: \"text-center\", children: [\r\n          /* @__PURE__ */ jsx5(\"h3\", { className: \"text-lg font-semibold text-gray-900 dark:text-white mb-2\", children: \"Choose Your Account Type\" }),\r\n          /* @__PURE__ */ jsx5(\"p\", { className: \"text-gray-600 dark:text-gray-400\", children: \"Select the type of account that best describes your needs\" })\r\n        ] }),\r\n        /* @__PURE__ */ jsx5(\"div\", { className: \"space-y-3\", children: accountTypeOptions.map((option) => {\r\n          const Icon = option.icon;\r\n          return /* @__PURE__ */ jsxs5(\r\n            motion5.label,\r\n            {\r\n              whileHover: { scale: 1.02 },\r\n              whileTap: { scale: 0.98 },\r\n              className: `relative flex items-center p-4 border-2 rounded-xl cursor-pointer transition-all duration-200 ${accountType === option.value ? \"border-green-500 bg-green-50 dark:bg-green-900/20\" : \"border-gray-200 dark:border-gray-600 hover:border-green-300 dark:hover:border-green-600\"}`,\r\n              children: [\r\n                /* @__PURE__ */ jsx5(\r\n                  \"input\",\r\n                  {\r\n                    type: \"radio\",\r\n                    value: option.value,\r\n                    ...register(\"accountType\"),\r\n                    className: \"sr-only\"\r\n                  }\r\n                ),\r\n                /* @__PURE__ */ jsx5(Icon, { className: `h-8 w-8 mr-4 ${accountType === option.value ? \"text-green-600\" : \"text-gray-400\"}` }),\r\n                /* @__PURE__ */ jsxs5(\"div\", { className: \"flex-1\", children: [\r\n                  /* @__PURE__ */ jsxs5(\"div\", { className: \"flex items-center justify-between\", children: [\r\n                    /* @__PURE__ */ jsx5(\"h4\", { className: `font-medium ${accountType === option.value ? \"text-green-900 dark:text-green-100\" : \"text-gray-900 dark:text-white\"}`, children: option.label }),\r\n                    /* @__PURE__ */ jsx5(\"span\", { className: \"text-xs text-gray-500 dark:text-gray-400\", children: option.destination })\r\n                  ] }),\r\n                  /* @__PURE__ */ jsx5(\"p\", { className: `text-sm mt-1 ${accountType === option.value ? \"text-green-700 dark:text-green-300\" : \"text-gray-500 dark:text-gray-400\"}`, children: option.description })\r\n                ] }),\r\n                accountType === option.value && /* @__PURE__ */ jsx5(CheckCircleIcon2, { className: \"h-6 w-6 text-green-600 ml-2\" })\r\n              ]\r\n            },\r\n            option.value\r\n          );\r\n        }) }),\r\n        errors.accountType && /* @__PURE__ */ jsxs5(\"p\", { className: \"text-sm text-red-600 dark:text-red-400 flex items-center\", children: [\r\n          /* @__PURE__ */ jsx5(ExclamationTriangleIcon3, { className: \"h-4 w-4 mr-1\" }),\r\n          errors.accountType.message\r\n        ] })\r\n      ]\r\n    },\r\n    \"step-1\"\r\n  );\r\n  const renderPersonalInfoStep = () => /* @__PURE__ */ jsxs5(\r\n    motion5.div,\r\n    {\r\n      initial: { opacity: 0, x: 20 },\r\n      animate: { opacity: 1, x: 0 },\r\n      exit: { opacity: 0, x: -20 },\r\n      className: \"space-y-6\",\r\n      children: [\r\n        /* @__PURE__ */ jsxs5(\"div\", { className: \"text-center\", children: [\r\n          /* @__PURE__ */ jsx5(\"h3\", { className: \"text-lg font-semibold text-gray-900 dark:text-white mb-2\", children: \"Personal Information\" }),\r\n          /* @__PURE__ */ jsx5(\"p\", { className: \"text-gray-600 dark:text-gray-400\", children: \"Tell us about yourself to create your account\" })\r\n        ] }),\r\n        /* @__PURE__ */ jsxs5(\"div\", { className: \"grid grid-cols-1 md:grid-cols-2 gap-4\", children: [\r\n          /* @__PURE__ */ jsxs5(\"div\", { className: \"space-y-2\", children: [\r\n            /* @__PURE__ */ jsx5(\"label\", { htmlFor: \"firstName\", className: \"block text-sm font-medium text-gray-700 dark:text-gray-300\", children: \"First Name\" }),\r\n            /* @__PURE__ */ jsx5(\r\n              \"input\",\r\n              {\r\n                id: \"firstName\",\r\n                type: \"text\",\r\n                autoComplete: \"given-name\",\r\n                ...register(\"firstName\"),\r\n                className: `w-full px-4 py-3 border rounded-xl transition-all duration-200 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent ${errors.firstName ? \"border-red-300 dark:border-red-600\" : \"border-gray-300 dark:border-gray-600\"}`,\r\n                placeholder: \"John\"\r\n              }\r\n            ),\r\n            errors.firstName && /* @__PURE__ */ jsx5(\"p\", { className: \"text-sm text-red-600 dark:text-red-400\", children: errors.firstName.message })\r\n          ] }),\r\n          /* @__PURE__ */ jsxs5(\"div\", { className: \"space-y-2\", children: [\r\n            /* @__PURE__ */ jsx5(\"label\", { htmlFor: \"lastName\", className: \"block text-sm font-medium text-gray-700 dark:text-gray-300\", children: \"Last Name\" }),\r\n            /* @__PURE__ */ jsx5(\r\n              \"input\",\r\n              {\r\n                id: \"lastName\",\r\n                type: \"text\",\r\n                autoComplete: \"family-name\",\r\n                ...register(\"lastName\"),\r\n                className: `w-full px-4 py-3 border rounded-xl transition-all duration-200 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent ${errors.lastName ? \"border-red-300 dark:border-red-600\" : \"border-gray-300 dark:border-gray-600\"}`,\r\n                placeholder: \"Doe\"\r\n              }\r\n            ),\r\n            errors.lastName && /* @__PURE__ */ jsx5(\"p\", { className: \"text-sm text-red-600 dark:text-red-400\", children: errors.lastName.message })\r\n          ] })\r\n        ] }),\r\n        /* @__PURE__ */ jsxs5(\"div\", { className: \"space-y-2\", children: [\r\n          /* @__PURE__ */ jsx5(\"label\", { htmlFor: \"email\", className: \"block text-sm font-medium text-gray-700 dark:text-gray-300\", children: \"Email Address\" }),\r\n          /* @__PURE__ */ jsxs5(\"div\", { className: \"relative\", children: [\r\n            /* @__PURE__ */ jsx5(\r\n              \"input\",\r\n              {\r\n                id: \"email\",\r\n                type: \"email\",\r\n                autoComplete: \"email\",\r\n                ...register(\"email\"),\r\n                className: `w-full px-4 py-3 pl-12 border rounded-xl transition-all duration-200 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent ${errors.email ? \"border-red-300 dark:border-red-600\" : \"border-gray-300 dark:border-gray-600\"}`,\r\n                placeholder: \"john@example.com\"\r\n              }\r\n            ),\r\n            /* @__PURE__ */ jsx5(EnvelopeIcon3, { className: \"h-5 w-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2\" })\r\n          ] }),\r\n          errors.email && /* @__PURE__ */ jsx5(\"p\", { className: \"text-sm text-red-600 dark:text-red-400\", children: errors.email.message })\r\n        ] }),\r\n        /* @__PURE__ */ jsxs5(\"div\", { className: \"space-y-2\", children: [\r\n          /* @__PURE__ */ jsxs5(\"label\", { htmlFor: \"phone\", className: \"block text-sm font-medium text-gray-700 dark:text-gray-300\", children: [\r\n            \"Phone Number \",\r\n            /* @__PURE__ */ jsx5(\"span\", { className: \"text-gray-400\", children: \"(Optional)\" })\r\n          ] }),\r\n          /* @__PURE__ */ jsxs5(\"div\", { className: \"relative\", children: [\r\n            /* @__PURE__ */ jsx5(\r\n              \"input\",\r\n              {\r\n                id: \"phone\",\r\n                type: \"tel\",\r\n                autoComplete: \"tel\",\r\n                ...register(\"phone\"),\r\n                className: `w-full px-4 py-3 pl-12 border rounded-xl transition-all duration-200 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent ${errors.phone ? \"border-red-300 dark:border-red-600\" : \"border-gray-300 dark:border-gray-600\"}`,\r\n                placeholder: \"+1 (555) 123-4567\"\r\n              }\r\n            ),\r\n            /* @__PURE__ */ jsx5(PhoneIcon, { className: \"h-5 w-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2\" })\r\n          ] }),\r\n          errors.phone && /* @__PURE__ */ jsx5(\"p\", { className: \"text-sm text-red-600 dark:text-red-400\", children: errors.phone.message })\r\n        ] }),\r\n        accountType === UserAccountType2.BUSINESS && /* @__PURE__ */ jsxs5(Fragment, { children: [\r\n          /* @__PURE__ */ jsxs5(\"div\", { className: \"space-y-2\", children: [\r\n            /* @__PURE__ */ jsx5(\"label\", { htmlFor: \"businessName\", className: \"block text-sm font-medium text-gray-700 dark:text-gray-300\", children: \"Business Name\" }),\r\n            /* @__PURE__ */ jsx5(\r\n              \"input\",\r\n              {\r\n                id: \"businessName\",\r\n                type: \"text\",\r\n                ...register(\"businessName\"),\r\n                className: `w-full px-4 py-3 border rounded-xl transition-all duration-200 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent ${errors.businessName ? \"border-red-300 dark:border-red-600\" : \"border-gray-300 dark:border-gray-600\"}`,\r\n                placeholder: \"Acme Corp\"\r\n              }\r\n            ),\r\n            errors.businessName && /* @__PURE__ */ jsx5(\"p\", { className: \"text-sm text-red-600 dark:text-red-400\", children: errors.businessName.message })\r\n          ] }),\r\n          /* @__PURE__ */ jsxs5(\"div\", { className: \"space-y-2\", children: [\r\n            /* @__PURE__ */ jsx5(\"label\", { htmlFor: \"businessType\", className: \"block text-sm font-medium text-gray-700 dark:text-gray-300\", children: \"Business Type\" }),\r\n            /* @__PURE__ */ jsxs5(\r\n              \"select\",\r\n              {\r\n                id: \"businessType\",\r\n                ...register(\"businessType\"),\r\n                className: `w-full px-4 py-3 border rounded-xl transition-all duration-200 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent ${errors.businessType ? \"border-red-300 dark:border-red-600\" : \"border-gray-300 dark:border-gray-600\"}`,\r\n                children: [\r\n                  /* @__PURE__ */ jsx5(\"option\", { value: \"\", children: \"Select business type\" }),\r\n                  businessTypeOptions.map((option) => /* @__PURE__ */ jsx5(\"option\", { value: option.value, children: option.label }, option.value))\r\n                ]\r\n              }\r\n            ),\r\n            errors.businessType && /* @__PURE__ */ jsx5(\"p\", { className: \"text-sm text-red-600 dark:text-red-400\", children: errors.businessType.message })\r\n          ] })\r\n        ] }),\r\n        accountType === UserAccountType2.INSTITUTION && /* @__PURE__ */ jsxs5(Fragment, { children: [\r\n          /* @__PURE__ */ jsxs5(\"div\", { className: \"space-y-2\", children: [\r\n            /* @__PURE__ */ jsx5(\"label\", { htmlFor: \"institutionName\", className: \"block text-sm font-medium text-gray-700 dark:text-gray-300\", children: \"Institution Name\" }),\r\n            /* @__PURE__ */ jsx5(\r\n              \"input\",\r\n              {\r\n                id: \"institutionName\",\r\n                type: \"text\",\r\n                ...register(\"institutionName\"),\r\n                className: `w-full px-4 py-3 border rounded-xl transition-all duration-200 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent ${errors.institutionName ? \"border-red-300 dark:border-red-600\" : \"border-gray-300 dark:border-gray-600\"}`,\r\n                placeholder: \"Sunny Bank\"\r\n              }\r\n            ),\r\n            errors.institutionName && /* @__PURE__ */ jsx5(\"p\", { className: \"text-sm text-red-600 dark:text-red-400\", children: errors.institutionName.message })\r\n          ] }),\r\n          /* @__PURE__ */ jsxs5(\"div\", { className: \"space-y-2\", children: [\r\n            /* @__PURE__ */ jsx5(\"label\", { htmlFor: \"institutionType\", className: \"block text-sm font-medium text-gray-700 dark:text-gray-300\", children: \"Institution Type\" }),\r\n            /* @__PURE__ */ jsxs5(\r\n              \"select\",\r\n              {\r\n                id: \"institutionType\",\r\n                ...register(\"institutionType\"),\r\n                className: `w-full px-4 py-3 border rounded-xl transition-all duration-200 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent ${errors.institutionType ? \"border-red-300 dark:border-red-600\" : \"border-gray-300 dark:border-gray-600\"}`,\r\n                children: [\r\n                  /* @__PURE__ */ jsx5(\"option\", { value: \"\", children: \"Select institution type\" }),\r\n                  institutionTypeOptions.map((option) => /* @__PURE__ */ jsx5(\"option\", { value: option.value, children: option.label }, option.value))\r\n                ]\r\n              }\r\n            ),\r\n            errors.institutionType && /* @__PURE__ */ jsx5(\"p\", { className: \"text-sm text-red-600 dark:text-red-400\", children: errors.institutionType.message })\r\n          ] })\r\n        ] }),\r\n        accountType === UserAccountType2.DEVELOPER && /* @__PURE__ */ jsxs5(\"div\", { className: \"space-y-2\", children: [\r\n          /* @__PURE__ */ jsxs5(\"label\", { htmlFor: \"company\", className: \"block text-sm font-medium text-gray-700 dark:text-gray-300\", children: [\r\n            \"Company \",\r\n            /* @__PURE__ */ jsx5(\"span\", { className: \"text-gray-400\", children: \"(Optional)\" })\r\n          ] }),\r\n          /* @__PURE__ */ jsx5(\r\n            \"input\",\r\n            {\r\n              id: \"company\",\r\n              type: \"text\",\r\n              ...register(\"company\"),\r\n              className: `w-full px-4 py-3 border rounded-xl transition-all duration-200 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent ${errors.company ? \"border-red-300 dark:border-red-600\" : \"border-gray-300 dark:border-gray-600\"}`,\r\n              placeholder: \"Tech Corp\"\r\n            }\r\n          ),\r\n          errors.company && /* @__PURE__ */ jsx5(\"p\", { className: \"text-sm text-red-600 dark:text-red-400\", children: errors.company.message })\r\n        ] })\r\n      ]\r\n    },\r\n    \"step-2\"\r\n  );\r\n  const renderPasswordStep = () => /* @__PURE__ */ jsxs5(\r\n    motion5.div,\r\n    {\r\n      initial: { opacity: 0, x: 20 },\r\n      animate: { opacity: 1, x: 0 },\r\n      exit: { opacity: 0, x: -20 },\r\n      className: \"space-y-6\",\r\n      children: [\r\n        /* @__PURE__ */ jsxs5(\"div\", { className: \"text-center\", children: [\r\n          /* @__PURE__ */ jsx5(\"h3\", { className: \"text-lg font-semibold text-gray-900 dark:text-white mb-2\", children: \"Secure Your Account\" }),\r\n          /* @__PURE__ */ jsx5(\"p\", { className: \"text-gray-600 dark:text-gray-400\", children: \"Create a strong password and agree to our terms\" })\r\n        ] }),\r\n        /* @__PURE__ */ jsxs5(\"div\", { className: \"space-y-2\", children: [\r\n          /* @__PURE__ */ jsx5(\"label\", { htmlFor: \"password\", className: \"block text-sm font-medium text-gray-700 dark:text-gray-300\", children: \"Password\" }),\r\n          /* @__PURE__ */ jsxs5(\"div\", { className: \"relative\", children: [\r\n            /* @__PURE__ */ jsx5(\r\n              \"input\",\r\n              {\r\n                id: \"password\",\r\n                type: showPassword ? \"text\" : \"password\",\r\n                autoComplete: \"new-password\",\r\n                ...register(\"password\"),\r\n                className: `w-full px-4 py-3 pr-12 border rounded-xl transition-all duration-200 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent ${errors.password ? \"border-red-300 dark:border-red-600\" : \"border-gray-300 dark:border-gray-600\"}`,\r\n                placeholder: \"Create a strong password\"\r\n              }\r\n            ),\r\n            /* @__PURE__ */ jsx5(\r\n              \"button\",\r\n              {\r\n                type: \"button\",\r\n                onClick: () => setShowPassword(!showPassword),\r\n                className: \"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors\",\r\n                children: showPassword ? /* @__PURE__ */ jsx5(EyeSlashIcon3, { className: \"h-5 w-5\" }) : /* @__PURE__ */ jsx5(EyeIcon3, { className: \"h-5 w-5\" })\r\n              }\r\n            )\r\n          ] }),\r\n          password && /* @__PURE__ */ jsxs5(\"div\", { className: \"space-y-2\", children: [\r\n            /* @__PURE__ */ jsxs5(\"div\", { className: \"flex items-center justify-between text-sm\", children: [\r\n              /* @__PURE__ */ jsx5(\"span\", { className: \"text-gray-600 dark:text-gray-400\", children: \"Password strength:\" }),\r\n              /* @__PURE__ */ jsx5(\"span\", { className: `font-medium ${passwordStrength < 30 ? \"text-red-600\" : passwordStrength < 60 ? \"text-yellow-600\" : passwordStrength < 80 ? \"text-blue-600\" : \"text-green-600\"}`, children: getPasswordStrengthText(passwordStrength) })\r\n            ] }),\r\n            /* @__PURE__ */ jsx5(\"div\", { className: \"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2\", children: /* @__PURE__ */ jsx5(\r\n              \"div\",\r\n              {\r\n                className: `h-2 rounded-full transition-all duration-300 ${getPasswordStrengthColor(passwordStrength)}`,\r\n                style: { width: `${passwordStrength}%` }\r\n              }\r\n            ) })\r\n          ] }),\r\n          errors.password && /* @__PURE__ */ jsx5(\"p\", { className: \"text-sm text-red-600 dark:text-red-400\", children: errors.password.message })\r\n        ] }),\r\n        /* @__PURE__ */ jsxs5(\"div\", { className: \"space-y-2\", children: [\r\n          /* @__PURE__ */ jsx5(\"label\", { htmlFor: \"confirmPassword\", className: \"block text-sm font-medium text-gray-700 dark:text-gray-300\", children: \"Confirm Password\" }),\r\n          /* @__PURE__ */ jsxs5(\"div\", { className: \"relative\", children: [\r\n            /* @__PURE__ */ jsx5(\r\n              \"input\",\r\n              {\r\n                id: \"confirmPassword\",\r\n                type: showConfirmPassword ? \"text\" : \"password\",\r\n                autoComplete: \"new-password\",\r\n                ...register(\"confirmPassword\"),\r\n                className: `w-full px-4 py-3 pr-12 border rounded-xl transition-all duration-200 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent ${errors.confirmPassword ? \"border-red-300 dark:border-red-600\" : \"border-gray-300 dark:border-gray-600\"}`,\r\n                placeholder: \"Confirm your password\"\r\n              }\r\n            ),\r\n            /* @__PURE__ */ jsx5(\r\n              \"button\",\r\n              {\r\n                type: \"button\",\r\n                onClick: () => setShowConfirmPassword(!showConfirmPassword),\r\n                className: \"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors\",\r\n                children: showConfirmPassword ? /* @__PURE__ */ jsx5(EyeSlashIcon3, { className: \"h-5 w-5\" }) : /* @__PURE__ */ jsx5(EyeIcon3, { className: \"h-5 w-5\" })\r\n              }\r\n            )\r\n          ] }),\r\n          errors.confirmPassword && /* @__PURE__ */ jsx5(\"p\", { className: \"text-sm text-red-600 dark:text-red-400\", children: errors.confirmPassword.message })\r\n        ] }),\r\n        /* @__PURE__ */ jsxs5(\"div\", { className: \"space-y-4\", children: [\r\n          /* @__PURE__ */ jsxs5(\"label\", { className: \"flex items-start\", children: [\r\n            /* @__PURE__ */ jsx5(\r\n              \"input\",\r\n              {\r\n                type: \"checkbox\",\r\n                ...register(\"agreeToTerms\"),\r\n                className: \"h-4 w-4 text-green-600 border-gray-300 rounded focus:ring-green-500 focus:ring-2 mt-1\"\r\n              }\r\n            ),\r\n            /* @__PURE__ */ jsxs5(\"span\", { className: \"ml-3 text-sm text-gray-600 dark:text-gray-400\", children: [\r\n              \"I agree to the\",\r\n              \" \",\r\n              /* @__PURE__ */ jsx5(Link5, { href: \"/terms\", className: \"text-green-600 hover:text-green-500 dark:text-green-400 dark:hover:text-green-300 underline\", children: \"Terms of Service\" }),\r\n              \" \",\r\n              \"and understand that my account will be subject to verification.\"\r\n            ] })\r\n          ] }),\r\n          errors.agreeToTerms && /* @__PURE__ */ jsx5(\"p\", { className: \"text-sm text-red-600 dark:text-red-400 ml-7\", children: errors.agreeToTerms.message }),\r\n          /* @__PURE__ */ jsxs5(\"label\", { className: \"flex items-start\", children: [\r\n            /* @__PURE__ */ jsx5(\r\n              \"input\",\r\n              {\r\n                type: \"checkbox\",\r\n                ...register(\"agreeToPrivacy\"),\r\n                className: \"h-4 w-4 text-green-600 border-gray-300 rounded focus:ring-green-500 focus:ring-2 mt-1\"\r\n              }\r\n            ),\r\n            /* @__PURE__ */ jsxs5(\"span\", { className: \"ml-3 text-sm text-gray-600 dark:text-gray-400\", children: [\r\n              \"I agree to the\",\r\n              \" \",\r\n              /* @__PURE__ */ jsx5(Link5, { href: \"/privacy\", className: \"text-green-600 hover:text-green-500 dark:text-green-400 dark:hover:text-green-300 underline\", children: \"Privacy Policy\" }),\r\n              \" \",\r\n              \"and consent to the processing of my personal data.\"\r\n            ] })\r\n          ] }),\r\n          errors.agreeToPrivacy && /* @__PURE__ */ jsx5(\"p\", { className: \"text-sm text-red-600 dark:text-red-400 ml-7\", children: errors.agreeToPrivacy.message }),\r\n          /* @__PURE__ */ jsxs5(\"label\", { className: \"flex items-start\", children: [\r\n            /* @__PURE__ */ jsx5(\r\n              \"input\",\r\n              {\r\n                type: \"checkbox\",\r\n                ...register(\"marketingConsent\"),\r\n                className: \"h-4 w-4 text-green-600 border-gray-300 rounded focus:ring-green-500 focus:ring-2 mt-1\"\r\n              }\r\n            ),\r\n            /* @__PURE__ */ jsxs5(\"span\", { className: \"ml-3 text-sm text-gray-600 dark:text-gray-400\", children: [\r\n              \"I would like to receive marketing communications and product updates from Sunny Payments.\",\r\n              \" \",\r\n              /* @__PURE__ */ jsx5(\"span\", { className: \"text-gray-500\", children: \"(Optional)\" })\r\n            ] })\r\n          ] })\r\n        ] }),\r\n        authError && /* @__PURE__ */ jsx5(\r\n          motion5.div,\r\n          {\r\n            initial: { opacity: 0, y: -10 },\r\n            animate: { opacity: 1, y: 0 },\r\n            className: \"p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-xl\",\r\n            children: /* @__PURE__ */ jsxs5(\"div\", { className: \"flex items-center\", children: [\r\n              /* @__PURE__ */ jsx5(ExclamationTriangleIcon3, { className: \"h-5 w-5 text-red-500 mr-2\" }),\r\n              /* @__PURE__ */ jsx5(\"p\", { className: \"text-sm text-red-700 dark:text-red-300\", children: authError })\r\n            ] })\r\n          }\r\n        ),\r\n        /* @__PURE__ */ jsx5(\r\n          motion5.button,\r\n          {\r\n            type: \"submit\",\r\n            disabled: isLoading,\r\n            whileHover: { scale: 1.02 },\r\n            whileTap: { scale: 0.98 },\r\n            className: \"w-full bg-gradient-to-r from-green-600 to-emerald-600 text-white py-3 px-4 rounded-xl font-medium hover:from-green-700 hover:to-emerald-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 flex items-center justify-center\",\r\n            children: isLoading ? /* @__PURE__ */ jsxs5(\"div\", { className: \"flex items-center\", children: [\r\n              /* @__PURE__ */ jsx5(\"div\", { className: \"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2\" }),\r\n              \"Creating Account...\"\r\n            ] }) : /* @__PURE__ */ jsxs5(\"div\", { className: \"flex items-center\", children: [\r\n              \"Create Account\",\r\n              /* @__PURE__ */ jsx5(ArrowRightIcon3, { className: \"ml-2 h-5 w-5\" })\r\n            ] })\r\n          }\r\n        ),\r\n        /* @__PURE__ */ jsxs5(\"p\", { className: \"text-center text-sm text-gray-600 dark:text-gray-400\", children: [\r\n          \"Already have an account?\",\r\n          \" \",\r\n          /* @__PURE__ */ jsx5(\r\n            Link5,\r\n            {\r\n              href: `/sign-in${accountType ? `?type=${accountType}` : \"\"}${redirectUrl ? `&redirect=${encodeURIComponent(redirectUrl)}` : \"\"}`,\r\n              className: \"font-medium text-green-600 hover:text-green-500 dark:text-green-400 dark:hover:text-green-300 transition-colors\",\r\n              children: \"Sign in here\"\r\n            }\r\n          )\r\n        ] })\r\n      ]\r\n    },\r\n    \"step-3\"\r\n  );\r\n  return /* @__PURE__ */ jsxs5(\"div\", { className: `w-full ${className}`, children: [\r\n    /* @__PURE__ */ jsxs5(\"div\", { className: \"mb-8\", children: [\r\n      /* @__PURE__ */ jsxs5(\"div\", { className: \"flex items-center justify-between mb-2\", children: [\r\n        /* @__PURE__ */ jsxs5(\"span\", { className: \"text-sm font-medium text-gray-600 dark:text-gray-400\", children: [\r\n          \"Step \",\r\n          currentStep,\r\n          \" of \",\r\n          totalSteps\r\n        ] }),\r\n        /* @__PURE__ */ jsxs5(\"span\", { className: \"text-sm text-gray-500 dark:text-gray-500\", children: [\r\n          Math.round(currentStep / totalSteps * 100),\r\n          \"% Complete\"\r\n        ] })\r\n      ] }),\r\n      /* @__PURE__ */ jsx5(\"div\", { className: \"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2\", children: /* @__PURE__ */ jsx5(\r\n        motion5.div,\r\n        {\r\n          className: \"h-2 bg-gradient-to-r from-green-600 to-emerald-600 rounded-full\",\r\n          initial: { width: 0 },\r\n          animate: { width: `${currentStep / totalSteps * 100}%` },\r\n          transition: { duration: 0.5, ease: \"easeInOut\" }\r\n        }\r\n      ) })\r\n    ] }),\r\n    /* @__PURE__ */ jsxs5(\"form\", { onSubmit: handleSubmit(handleFormSubmit), children: [\r\n      /* @__PURE__ */ jsx5(AnimatePresence3, { mode: \"wait\", children: renderStep() }),\r\n      /* @__PURE__ */ jsxs5(\"div\", { className: \"flex justify-between mt-8 pt-6 border-t border-gray-100 dark:border-gray-800\", children: [\r\n        currentStep > 1 ? /* @__PURE__ */ jsx5(\r\n          \"button\",\r\n          {\r\n            type: \"button\",\r\n            onClick: () => setCurrentStep(currentStep - 1),\r\n            className: \"px-6 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors duration-200\",\r\n            children: \"Previous\"\r\n          }\r\n        ) : /* @__PURE__ */ jsx5(\"div\", {}),\r\n        currentStep < totalSteps ? /* @__PURE__ */ jsx5(\r\n          \"button\",\r\n          {\r\n            type: \"button\",\r\n            onClick: handleNextStep,\r\n            className: \"px-6 py-2 bg-gradient-to-r from-green-600 to-emerald-600 text-white rounded-lg hover:from-green-700 hover:to-emerald-700 transition-all duration-200\",\r\n            children: \"Next\"\r\n          }\r\n        ) : null\r\n      ] })\r\n    ] })\r\n  ] });\r\n}\r\n\r\n// src/auth/SocialAuthButtons.tsx\r\nimport { useState as useState4 } from \"react\";\r\nimport { motion as motion6 } from \"framer-motion\";\r\nimport {\r\n  AuthProvider,\r\n  UserAccountType as UserAccountType3\r\n} from \"@sunny/shared-types\";\r\nimport { jsx as jsx6, jsxs as jsxs6 } from \"react/jsx-runtime\";\r\nfunction SocialAuthButtons({\r\n  onSocialAuth,\r\n  accountType,\r\n  mode = \"signin\",\r\n  className = \"\"\r\n}) {\r\n  const [loadingProvider, setLoadingProvider] = useState4(null);\r\n  const handleSocialAuth = async (provider) => {\r\n    try {\r\n      setLoadingProvider(provider);\r\n      const response = await simulateOAuthFlow(provider);\r\n      if (response.accessToken) {\r\n        await onSocialAuth({\r\n          provider,\r\n          providerUserId: response.userId,\r\n          accessToken: response.accessToken,\r\n          refreshToken: response.refreshToken,\r\n          accountType\r\n        });\r\n      }\r\n    } catch (error) {\r\n      console.error(`${provider} authentication failed:`, error);\r\n    } finally {\r\n      setLoadingProvider(null);\r\n    }\r\n  };\r\n  const simulateOAuthFlow = async (provider) => {\r\n    return new Promise((resolve, reject) => {\r\n      setTimeout(() => {\r\n        resolve({\r\n          userId: `${provider}_user_123`,\r\n          accessToken: `${provider}_access_token`,\r\n          refreshToken: `${provider}_refresh_token`\r\n        });\r\n      }, 1500);\r\n    });\r\n  };\r\n  const socialProviders = [\r\n    {\r\n      provider: AuthProvider.GOOGLE,\r\n      name: \"Google\",\r\n      bgColor: \"bg-white hover:bg-gray-50\",\r\n      textColor: \"text-gray-900\",\r\n      borderColor: \"border-gray-300\",\r\n      icon: /* @__PURE__ */ jsxs6(\"svg\", { className: \"w-5 h-5 mr-3\", viewBox: \"0 0 24 24\", children: [\r\n        /* @__PURE__ */ jsx6(\r\n          \"path\",\r\n          {\r\n            fill: \"#4285F4\",\r\n            d: \"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z\"\r\n          }\r\n        ),\r\n        /* @__PURE__ */ jsx6(\r\n          \"path\",\r\n          {\r\n            fill: \"#34A853\",\r\n            d: \"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z\"\r\n          }\r\n        ),\r\n        /* @__PURE__ */ jsx6(\r\n          \"path\",\r\n          {\r\n            fill: \"#FBBC05\",\r\n            d: \"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z\"\r\n          }\r\n        ),\r\n        /* @__PURE__ */ jsx6(\r\n          \"path\",\r\n          {\r\n            fill: \"#EA4335\",\r\n            d: \"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z\"\r\n          }\r\n        )\r\n      ] }),\r\n      description: accountType === UserAccountType3.BUSINESS ? \"Google Workspace\" : \"Personal Google account\"\r\n    },\r\n    {\r\n      provider: AuthProvider.APPLE,\r\n      name: \"Apple\",\r\n      bgColor: \"bg-black hover:bg-gray-900\",\r\n      textColor: \"text-white\",\r\n      borderColor: \"border-black\",\r\n      icon: /* @__PURE__ */ jsxs6(\"svg\", { className: \"w-5 h-5 mr-3\", fill: \"currentColor\", viewBox: \"0 0 24 24\", children: [\r\n        /* @__PURE__ */ jsx6(\"path\", { d: \"M12.017 11.99c-.016-3.246 2.639-4.805 2.759-4.875-1.503-2.2-3.842-2.5-4.676-2.534-1.99-.207-3.878 1.171-4.888 1.171-1.01 0-2.571-1.142-4.225-1.111-2.173.032-4.173 1.262-5.29 3.207-2.256 3.914-.576 9.708 1.621 12.881 1.074 1.552 2.357 3.296 4.037 3.233 1.614-.063 2.224-1.044 4.177-1.044 1.952 0 2.531 1.044 4.256 1.011 1.756-.032 2.86-1.566 3.934-3.118 1.243-1.793 1.754-3.53 1.785-3.621-.039-.016-3.426-1.313-3.462-5.2z\" }),\r\n        /* @__PURE__ */ jsx6(\"path\", { d: \"M15.194 7.036c.883-1.066 1.478-2.548 1.316-4.025-1.272.051-2.813.848-3.726 1.915-.821.952-1.54 2.471-1.347 3.927 1.425.111 2.879-.724 3.757-1.817z\" })\r\n      ] }),\r\n      description: \"Sign in with Apple ID\"\r\n    },\r\n    {\r\n      provider: AuthProvider.MICROSOFT,\r\n      name: \"Microsoft\",\r\n      bgColor: \"bg-blue-600 hover:bg-blue-700\",\r\n      textColor: \"text-white\",\r\n      borderColor: \"border-blue-600\",\r\n      icon: /* @__PURE__ */ jsxs6(\"svg\", { className: \"w-5 h-5 mr-3\", fill: \"currentColor\", viewBox: \"0 0 24 24\", children: [\r\n        /* @__PURE__ */ jsx6(\"path\", { d: \"M11.4 0H0v11.4h11.4V0z\" }),\r\n        /* @__PURE__ */ jsx6(\"path\", { d: \"M24 0H12.6v11.4H24V0z\" }),\r\n        /* @__PURE__ */ jsx6(\"path\", { d: \"M11.4 12.6H0V24h11.4V12.6z\" }),\r\n        /* @__PURE__ */ jsx6(\"path\", { d: \"M24 12.6H12.6V24H24V12.6z\" })\r\n      ] }),\r\n      description: accountType === UserAccountType3.BUSINESS ? \"Microsoft 365\" : \"Microsoft account\"\r\n    }\r\n  ];\r\n  if (accountType === UserAccountType3.BUSINESS) {\r\n    socialProviders.push({\r\n      provider: AuthProvider.LINKEDIN,\r\n      name: \"LinkedIn\",\r\n      bgColor: \"bg-blue-700 hover:bg-blue-800\",\r\n      textColor: \"text-white\",\r\n      borderColor: \"border-blue-700\",\r\n      icon: /* @__PURE__ */ jsx6(\"svg\", { className: \"w-5 h-5 mr-3\", fill: \"currentColor\", viewBox: \"0 0 24 24\", children: /* @__PURE__ */ jsx6(\"path\", { d: \"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z\" }) }),\r\n      description: \"Professional LinkedIn account\"\r\n    });\r\n  }\r\n  if (accountType === UserAccountType3.DEVELOPER) {\r\n    socialProviders.push({\r\n      provider: AuthProvider.GITHUB,\r\n      name: \"GitHub\",\r\n      bgColor: \"bg-gray-900 hover:bg-black\",\r\n      textColor: \"text-white\",\r\n      borderColor: \"border-gray-900\",\r\n      icon: /* @__PURE__ */ jsx6(\"svg\", { className: \"w-5 h-5 mr-3\", fill: \"currentColor\", viewBox: \"0 0 24 24\", children: /* @__PURE__ */ jsx6(\"path\", { d: \"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z\" }) }),\r\n      description: \"Developer GitHub account\"\r\n    });\r\n  }\r\n  return /* @__PURE__ */ jsxs6(\"div\", { className: `space-y-3 ${className}`, children: [\r\n    /* @__PURE__ */ jsxs6(\"div\", { className: \"relative\", children: [\r\n      /* @__PURE__ */ jsx6(\"div\", { className: \"absolute inset-0 flex items-center\", children: /* @__PURE__ */ jsx6(\"div\", { className: \"w-full border-t border-gray-300 dark:border-gray-600\" }) }),\r\n      /* @__PURE__ */ jsx6(\"div\", { className: \"relative flex justify-center text-sm\", children: /* @__PURE__ */ jsxs6(\"span\", { className: \"px-2 bg-white dark:bg-gray-800 text-gray-500 dark:text-gray-400\", children: [\r\n        \"Or \",\r\n        mode === \"signin\" ? \"sign in\" : \"sign up\",\r\n        \" with\"\r\n      ] }) })\r\n    ] }),\r\n    /* @__PURE__ */ jsx6(\"div\", { className: \"space-y-3\", children: socialProviders.map((social) => /* @__PURE__ */ jsx6(\r\n      motion6.button,\r\n      {\r\n        type: \"button\",\r\n        onClick: () => handleSocialAuth(social.provider),\r\n        disabled: loadingProvider !== null,\r\n        whileHover: { scale: 1.02 },\r\n        whileTap: { scale: 0.98 },\r\n        className: `w-full flex items-center justify-center px-4 py-3 border rounded-xl font-medium transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed ${social.bgColor} ${social.textColor} ${social.borderColor} focus:ring-green-500`,\r\n        children: loadingProvider === social.provider ? /* @__PURE__ */ jsxs6(\"div\", { className: \"flex items-center\", children: [\r\n          /* @__PURE__ */ jsx6(\"div\", { className: \"animate-spin rounded-full h-5 w-5 border-b-2 border-current mr-3\" }),\r\n          \"Connecting...\"\r\n        ] }) : /* @__PURE__ */ jsxs6(\"div\", { className: \"flex items-center justify-center w-full\", children: [\r\n          social.icon,\r\n          /* @__PURE__ */ jsxs6(\"div\", { className: \"flex-1 text-left\", children: [\r\n            /* @__PURE__ */ jsxs6(\"div\", { className: \"font-medium\", children: [\r\n              \"Continue with \",\r\n              social.name\r\n            ] }),\r\n            /* @__PURE__ */ jsx6(\"div\", { className: \"text-xs opacity-75\", children: social.description })\r\n          ] })\r\n        ] })\r\n      },\r\n      social.provider\r\n    )) }),\r\n    /* @__PURE__ */ jsx6(\"div\", { className: \"mt-4 p-3 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg\", children: /* @__PURE__ */ jsxs6(\"div\", { className: \"flex items-start\", children: [\r\n      /* @__PURE__ */ jsx6(\"svg\", { className: \"h-5 w-5 text-blue-500 mt-0.5 mr-2 flex-shrink-0\", fill: \"currentColor\", viewBox: \"0 0 20 20\", children: /* @__PURE__ */ jsx6(\"path\", { fillRule: \"evenodd\", d: \"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z\", clipRule: \"evenodd\" }) }),\r\n      /* @__PURE__ */ jsxs6(\"div\", { children: [\r\n        /* @__PURE__ */ jsx6(\"p\", { className: \"text-sm text-blue-700 dark:text-blue-300 font-medium\", children: \"Secure Social Authentication\" }),\r\n        /* @__PURE__ */ jsx6(\"p\", { className: \"text-xs text-blue-600 dark:text-blue-400 mt-1\", children: \"We use industry-standard OAuth 2.0 protocols to securely authenticate with third-party providers. Your credentials are never stored on our servers.\" })\r\n      ] })\r\n    ] }) })\r\n  ] });\r\n}\r\nexport {\r\n  AuthLayout,\r\n  AuthPageLayout,\r\n  SignInForm,\r\n  SignUpForm,\r\n  SimpleSignInForm,\r\n  SocialAuthButtons\r\n};\r\n"],"names":[],"mappings":"AAAA,0BAA0B;;;;;;;;;AAC1B;AACA;AACA;AACA;AAqOA,0BAA0B;AAC1B;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUA;AAAA;AAAA;AAAA;AAAA;AAQA;AAquBA;;;;;AA/9BA,SAAS,WAAW,EAClB,QAAQ,EACR,KAAK,EACL,QAAQ,EACR,iBAAiB,IAAI,EACrB,iBAAiB,cAAc,EAC/B,iBAAiB,GAAG,EACpB,oBAAoB,UAAU,EAC9B,YAAY,EAAE,EACf;IACC,MAAM,oBAAoB;QACxB,UAAU;QACV,SAAS;QACT,QAAQ;IACV;IACA,OAAO,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,OAAI,AAAD,EAAE,OAAO;QAAE,WAAW,CAAC,2BAA2B,EAAE,iBAAiB,CAAC,kBAAkB,CAAC,CAAC,EAAE,WAAW;QAAE,UAAU;YAC3I,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAG,AAAD,EAAE,UAAU;gBAAE,WAAW;gBAAU,UAAU,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAG,AAAD,EAAE,OAAO;oBAAE,WAAW;oBAA+C,UAAU,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,OAAI,AAAD,EAAE,OAAO;wBAAE,WAAW;wBAAqC,UAAU;4BACtP,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,OAAI,AAAD,EAAE,2RAAA,CAAA,UAAI,EAAE;gCAAE,MAAM;gCAAK,WAAW;gCAAqC,UAAU;oCAChG,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,OAAI,AAAD,EAAE,OAAO;wCAAE,WAAW;wCAAY,UAAU;4CAC7D,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,OAAI,AAAD,EAAE,OAAO;gDAAE,WAAW;gDAAmL,UAAU;oDACpO,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAG,AAAD,EAChB,uUAAA,CAAA,SAAM,CAAC,GAAG,EACV;wDACE,WAAW;wDACX,SAAS;4DAAE,SAAS;wDAAE;wDACtB,YAAY;4DACV,SAAS;4DACT,WAAW;wDACb;wDACA,YAAY;4DAAE,UAAU;wDAAI;oDAC9B;oDAEF,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAG,AAAD,EAAE,QAAQ;wDAAE,WAAW;wDAAwD,UAAU;oDAAI;iDAChH;4CAAC;4CACF,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAG,AAAD,EAChB,uUAAA,CAAA,SAAM,CAAC,GAAG,EACV;gDACE,WAAW;gDACX,SAAS;oDAAE,OAAO;oDAAG,SAAS;gDAAE;gDAChC,SAAS;oDAAE,OAAO;wDAAC;wDAAG;wDAAK;qDAAE;oDAAE,SAAS;wDAAC;wDAAG;wDAAK;qDAAE;gDAAC;gDACpD,YAAY;oDAAE,UAAU;oDAAG,QAAQ;oDAAU,MAAM;gDAAY;4CACjE;yCAEH;oCAAC;oCACF,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,OAAI,AAAD,EAAE,OAAO;wCAAE,WAAW;wCAAiB,UAAU;4CAClE,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAG,AAAD,EAAE,QAAQ;gDAAE,WAAW;gDAAkE,UAAU;4CAAQ;4CAC7H,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAG,AAAD,EAAE,QAAQ;gDAAE,WAAW;gDAA8D,UAAU;4CAAW;yCAC7H;oCAAC;iCACH;4BAAC;4BACF,kBAAkB,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,OAAI,AAAD,EACnC,2RAAA,CAAA,UAAI,EACJ;gCACE,MAAM;gCACN,WAAW;gCACX,UAAU;oCACR,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAG,AAAD,EAAE,gTAAA,CAAA,gBAAa,EAAE;wCAAE,WAAW;oCAAU;oCAC1D,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAG,AAAD,EAAE,QAAQ;wCAAE,WAAW;wCAAoB,UAAU;oCAAe;iCACvF;4BACH;yBAEH;oBAAC;gBAAG;YAAG;YACR,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAG,AAAD,EAAE,QAAQ;gBAAE,WAAW;gBAAsE,UAAU,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,OAAI,AAAD,EAAE,OAAO;oBAAE,WAAW;oBAAmB,UAAU;wBAC7L,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,OAAI,AAAD,EAAE,OAAO;4BAAE,WAAW;4BAAoB,UAAU;gCACrE,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAG,AAAD,EAChB,uUAAA,CAAA,SAAM,CAAC,EAAE,EACT;oCACE,SAAS;wCAAE,SAAS;wCAAG,GAAG,CAAC;oCAAG;oCAC9B,SAAS;wCAAE,SAAS;wCAAG,GAAG;oCAAE;oCAC5B,YAAY;wCAAE,UAAU;oCAAI;oCAC5B,WAAW;oCACX,UAAU;gCACZ;gCAEF,YAAY,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAG,AAAD,EAC5B,uUAAA,CAAA,SAAM,CAAC,CAAC,EACR;oCACE,SAAS;wCAAE,SAAS;wCAAG,GAAG,CAAC;oCAAG;oCAC9B,SAAS;wCAAE,SAAS;wCAAG,GAAG;oCAAE;oCAC5B,YAAY;wCAAE,UAAU;wCAAK,OAAO;oCAAI;oCACxC,WAAW;oCACX,UAAU;gCACZ;6BAEH;wBAAC;wBACF,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAG,AAAD,EAChB,uUAAA,CAAA,SAAM,CAAC,GAAG,EACV;4BACE,SAAS;gCAAE,SAAS;gCAAG,GAAG;4BAAG;4BAC7B,SAAS;gCAAE,SAAS;gCAAG,GAAG;4BAAE;4BAC5B,YAAY;gCAAE,UAAU;gCAAK,OAAO;4BAAI;4BACxC,WAAW;4BACX;wBACF;wBAEF,sBAAsB,aAAa,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAG,AAAD,EAAE,OAAO;4BAAE,WAAW;4BAAiD,UAAU,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,OAAI,AAAD,EACvJ,OACA;gCACE,WAAW;gCACX,OAAO;gCACP,UAAU;oCACR,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAG,AAAD,EAAE,QAAQ;wCAAE,UAAU,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAG,AAAD,EACxD,WACA;4CACE,IAAI;4CACJ,OAAO;4CACP,QAAQ;4CACR,cAAc;4CACd,UAAU,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAG,AAAD,EAC1B,QACA;gDACE,GAAG;gDACH,MAAM;gDACN,QAAQ;gDACR,aAAa;4CACf;wCAEJ;oCACA;oCACF,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAG,AAAD,EAAE,QAAQ;wCAAE,OAAO;wCAAQ,QAAQ;wCAAQ,MAAM;oCAAqB;iCACzF;4BACH;wBACA;qBACH;gBAAC;YAAG;YACL,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAG,AAAD,EAAE,UAAU;gBAAE,WAAW;gBAAU,UAAU,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAG,AAAD,EAAE,OAAO;oBAAE,WAAW;oBAA+C,UAAU,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,OAAI,AAAD,EAAE,OAAO;wBAAE,WAAW;wBAA0H,UAAU;4BAC3U,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,OAAI,AAAD,EAAE,OAAO;gCAAE,WAAW;gCAA+B,UAAU;oCAChF,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,OAAI,AAAD,EAAE,QAAQ;wCAAE,UAAU;4CACvC;4CACC,aAAa,GAAG,IAAI,OAAQ,WAAW;4CACxC;yCACD;oCAAC;oCACF,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAG,AAAD,EAAE,2RAAA,CAAA,UAAI,EAAE;wCAAE,MAAM;wCAAY,WAAW;wCAA+D,UAAU;oCAAiB;oCACnJ,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAG,AAAD,EAAE,2RAAA,CAAA,UAAI,EAAE;wCAAE,MAAM;wCAAU,WAAW;wCAA+D,UAAU;oCAAmB;iCACpJ;4BAAC;4BACF,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,OAAI,AAAD,EAAE,OAAO;gCAAE,WAAW;gCAA+B,UAAU;oCAChF,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAG,AAAD,EAAE,2RAAA,CAAA,UAAI,EAAE;wCAAE,MAAM;wCAAY,WAAW;wCAA+D,UAAU;oCAAU;oCAC5I,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAG,AAAD,EAAE,2RAAA,CAAA,UAAI,EAAE;wCAAE,MAAM;wCAAW,WAAW;wCAA+D,UAAU;oCAAgB;iCAClJ;4BAAC;yBACH;oBAAC;gBAAG;YAAG;SACT;IAAC;AACJ;;;;;AAOA,SAAS,eAAe,EACtB,QAAQ,EACR,KAAK,EACL,QAAQ,EACR,iBAAiB,IAAI,EACrB,iBAAiB,cAAc,EAC/B,iBAAiB,GAAG,EACpB,YAAY,EAAE,EACf;IACC,OAAO,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,OAAK,AAAD,EAAE,OAAO;QAAE,WAAW,CAAC,+HAA+H,EAAE,WAAW;QAAE,UAAU;YACxM,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EAAE,UAAU;gBAAE,WAAW;gBAAU,UAAU,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EAAE,OAAO;oBAAE,WAAW;oBAA+C,UAAU,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,OAAK,AAAD,EAAE,OAAO;wBAAE,WAAW;wBAAqC,UAAU;4BACzP,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,OAAK,AAAD,EAAE,2RAAA,CAAA,UAAK,EAAE;gCAAE,MAAM;gCAAK,WAAW;gCAAqC,UAAU;oCAClG,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EAAE,OAAO;wCAAE,WAAW;wCAAY,UAAU,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EAAE,OAAO;4CAAE,WAAW;4CAAmL,UAAU,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EAAE,QAAQ;gDAAE,WAAW;gDAAwD,UAAU;4CAAI;wCAAG;oCAAG;oCAC3Z,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,OAAK,AAAD,EAAE,OAAO;wCAAE,WAAW;wCAAiB,UAAU;4CACnE,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EAAE,QAAQ;gDAAE,WAAW;gDAAkE,UAAU;4CAAQ;4CAC9H,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EAAE,QAAQ;gDAAE,WAAW;gDAA8D,UAAU;4CAAW;yCAC9H;oCAAC;iCACH;4BAAC;4BACF,kBAAkB,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,OAAK,AAAD,EACpC,2RAAA,CAAA,UAAK,EACL;gCACE,MAAM;gCACN,WAAW;gCACX,UAAU;oCACR,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EAAE,gTAAA,CAAA,gBAAc,EAAE;wCAAE,WAAW;oCAAU;oCAC5D,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EAAE,QAAQ;wCAAE,WAAW;wCAAoB,UAAU;oCAAe;iCACxF;4BACH;yBAEH;oBAAC;gBAAG;YAAG;YACR,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EAAE,QAAQ;gBAAE,WAAW;gBAAsE,UAAU,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,OAAK,AAAD,EAAE,OAAO;oBAAE,WAAW;oBAAmB,UAAU;wBAC/L,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,OAAK,AAAD,EAAE,OAAO;4BAAE,WAAW;4BAAoB,UAAU;gCACtE,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EACjB,uUAAA,CAAA,SAAO,CAAC,EAAE,EACV;oCACE,SAAS;wCAAE,SAAS;wCAAG,GAAG,CAAC;oCAAG;oCAC9B,SAAS;wCAAE,SAAS;wCAAG,GAAG;oCAAE;oCAC5B,YAAY;wCAAE,UAAU;oCAAI;oCAC5B,WAAW;oCACX,UAAU;gCACZ;gCAEF,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EACjB,uUAAA,CAAA,SAAO,CAAC,CAAC,EACT;oCACE,SAAS;wCAAE,SAAS;wCAAG,GAAG,CAAC;oCAAG;oCAC9B,SAAS;wCAAE,SAAS;wCAAG,GAAG;oCAAE;oCAC5B,YAAY;wCAAE,UAAU;wCAAK,OAAO;oCAAI;oCACxC,WAAW;oCACX,UAAU;gCACZ;6BAEH;wBAAC;wBACF,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EACjB,uUAAA,CAAA,SAAO,CAAC,GAAG,EACX;4BACE,SAAS;gCAAE,SAAS;gCAAG,GAAG;4BAAG;4BAC7B,SAAS;gCAAE,SAAS;gCAAG,GAAG;4BAAE;4BAC5B,YAAY;gCAAE,UAAU;gCAAK,OAAO;4BAAI;4BACxC,WAAW;4BACX;wBACF;qBAEH;gBAAC;YAAG;YACL,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EAAE,UAAU;gBAAE,WAAW;gBAAU,UAAU,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EAAE,OAAO;oBAAE,WAAW;oBAA+C,UAAU,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,OAAK,AAAD,EAAE,OAAO;wBAAE,WAAW;wBAA0H,UAAU;4BAC9U,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,OAAK,AAAD,EAAE,OAAO;gCAAE,WAAW;gCAA+B,UAAU;oCACjF,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,OAAK,AAAD,EAAE,QAAQ;wCAAE,UAAU;4CACxC;4CACC,aAAa,GAAG,IAAI,OAAQ,WAAW;4CACxC;yCACD;oCAAC;oCACF,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EAAE,2RAAA,CAAA,UAAK,EAAE;wCAAE,MAAM;wCAAY,WAAW;wCAA+D,UAAU;oCAAiB;oCACrJ,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EAAE,2RAAA,CAAA,UAAK,EAAE;wCAAE,MAAM;wCAAU,WAAW;wCAA+D,UAAU;oCAAmB;iCACtJ;4BAAC;4BACF,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,OAAK,AAAD,EAAE,OAAO;gCAAE,WAAW;gCAA+B,UAAU;oCACjF,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EAAE,2RAAA,CAAA,UAAK,EAAE;wCAAE,MAAM;wCAAY,WAAW;wCAA+D,UAAU;oCAAU;oCAC9I,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EAAE,2RAAA,CAAA,UAAK,EAAE;wCAAE,MAAM;wCAAW,WAAW;wCAA+D,UAAU;oCAAgB;iCACpJ;4BAAC;yBACH;oBAAC;gBAAG;YAAG;SACT;IAAC;AACJ;;;;;;;;;AA0BA,SAAS,WAAW,EAClB,QAAQ,EACR,kBAAkB,EAClB,WAAW,EACX,YAAY,EAAE,EACf;IACC,MAAM,CAAC,cAAc,gBAAgB,GAAG,CAAA,GAAA,oUAAA,CAAA,WAAQ,AAAD,EAAE;IACjD,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,oUAAA,CAAA,WAAQ,AAAD,EAAE;IAC3C,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,oUAAA,CAAA,WAAQ,AAAD,EAAE;IAC3C,MAAM,CAAC,aAAa,eAAe,GAAG,CAAA,GAAA,oUAAA,CAAA,WAAQ,AAAD,EAAE;IAC/C,MAAM,CAAC,qBAAqB,uBAAuB,GAAG,CAAA,GAAA,oUAAA,CAAA,WAAQ,AAAD,EAAE,EAAE;IACjE,MAAM,CAAC,mBAAmB,qBAAqB,GAAG,CAAA,GAAA,oUAAA,CAAA,WAAQ,AAAD,EAAE;IAC3D,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,oUAAA,CAAA,WAAQ,AAAD,EAAE;IACvC,MAAM,EACJ,QAAQ,EACR,YAAY,EACZ,WAAW,EAAE,MAAM,EAAE,EACrB,KAAK,EACL,QAAQ,EACR,QAAQ,EACT,GAAG,CAAA,GAAA,uPAAA,CAAA,UAAO,AAAD,EAAE;QACV,eAAe;YACb,OAAO;YACP,UAAU;YACV,aAAa;YACb,YAAY;QACd;IACF;IACA,MAAM,cAAc,MAAM;IAC1B,MAAM,qBAAqB;QACzB;YACE,OAAO,6IAAA,CAAA,kBAAe,CAAC,UAAU;YACjC,OAAO;YACP,aAAa;YACb,MAAM,gTAAA,CAAA,iBAAc;YACpB,aAAa;QACf;QACA;YACE,OAAO,6IAAA,CAAA,kBAAe,CAAC,QAAQ;YAC/B,OAAO;YACP,aAAa;YACb,MAAM,wTAAA,CAAA,qBAAkB;YACxB,aAAa;QACf;QACA;YACE,OAAO,6IAAA,CAAA,kBAAe,CAAC,WAAW;YAClC,OAAO;YACP,aAAa;YACb,MAAM,8SAAA,CAAA,gBAAa;YACnB,aAAa;QACf;QACA;YACE,OAAO,6IAAA,CAAA,kBAAe,CAAC,SAAS;YAChC,OAAO;YACP,aAAa;YACb,MAAM,kTAAA,CAAA,kBAAe;YACrB,aAAa;QACf;QACA;YACE,OAAO,6IAAA,CAAA,kBAAe,CAAC,KAAK;YAC5B,OAAO;YACP,aAAa;YACb,MAAM,kSAAA,CAAA,UAAO;YACb,aAAa;QACf;KACD;IACD,MAAM,mBAAmB;QACvB;YACE,OAAO,6IAAA,CAAA,UAAO,CAAC,GAAG;YAClB,OAAO;YACP,aAAa;YACb,MAAM,gUAAA,CAAA,wBAAqB;QAC7B;QACA;YACE,OAAO,6IAAA,CAAA,UAAO,CAAC,KAAK;YACpB,OAAO;YACP,aAAa;YACb,MAAM,8SAAA,CAAA,eAAY;QACpB;QACA;YACE,OAAO,6IAAA,CAAA,UAAO,CAAC,IAAI;YACnB,OAAO;YACP,aAAa;YACb,MAAM,oTAAA,CAAA,kBAAe;QACvB;KACD;IACD,MAAM,mBAAmB,OAAO;QAC9B,IAAI;YACF,aAAa;YACb,aAAa;YACb,MAAM,aAAa;gBACjB,OAAO,KAAK,KAAK;gBACjB,UAAU,KAAK,QAAQ;gBACvB,aAAa,KAAK,WAAW;gBAC7B,YAAY,KAAK,UAAU,IAAI;gBAC/B,SAAS,eAAe,qBAAqB,UAAU,UAAU,KAAK;YACxE;YACA,MAAM,WAAW,MAAM,SAAS;YAChC,IAAI,SAAS,OAAO,EAAE;gBACpB,IAAI,SAAS,WAAW,EAAE;oBACxB,OAAO,QAAQ,CAAC,IAAI,GAAG,SAAS,WAAW;gBAC7C;YACF,OAAO,IAAI,SAAS,WAAW,EAAE;gBAC/B,eAAe;gBACf,uBAAuB,SAAS,UAAU,IAAI,EAAE;gBAChD,qBAAqB,SAAS,UAAU,EAAE,CAAC,EAAE,IAAI;YACnD,OAAO,IAAI,SAAS,KAAK,EAAE;gBACzB,aAAa,SAAS,KAAK,CAAC,OAAO;gBACnC,IAAI,SAAS,KAAK,CAAC,KAAK,EAAE;oBACxB,SAAS,SAAS,KAAK,CAAC,KAAK,EAAE;wBAC7B,MAAM;wBACN,SAAS,SAAS,KAAK,CAAC,OAAO;oBACjC;gBACF;YACF;QACF,EAAE,OAAO,OAAO;YACd,aAAa,iBAAiB,QAAQ,MAAM,OAAO,GAAG;QACxD,SAAU;YACR,aAAa;QACf;IACF;IACA,MAAM,kBAAkB;QACtB,IAAI,CAAC,WAAW,CAAC,mBAAmB;QACpC,MAAM,kBAAkB;QACxB,MAAM,iBAAiB;IACzB;IACA,MAAM,WAAW;QACf,eAAe;QACf,uBAAuB,EAAE;QACzB,qBAAqB;QACrB,WAAW;QACX,aAAa;IACf;IACA,OAAO,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EAAE,OAAO;QAAE,WAAW,CAAC,OAAO,EAAE,WAAW;QAAE,UAAU,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EAAE,sUAAA,CAAA,kBAAe,EAAE;YAAE,MAAM;YAAQ,UAAU,CAAC,cAChJ,oBAAoB;YACpB,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,OAAK,AAAD,EAClB,uUAAA,CAAA,SAAO,CAAC,IAAI,EACZ;gBACE,SAAS;oBAAE,SAAS;oBAAG,GAAG,CAAC;gBAAG;gBAC9B,SAAS;oBAAE,SAAS;oBAAG,GAAG;gBAAE;gBAC5B,MAAM;oBAAE,SAAS;oBAAG,GAAG,CAAC;gBAAG;gBAC3B,YAAY;oBAAE,UAAU;gBAAI;gBAC5B,UAAU,aAAa;gBACvB,WAAW;gBACX,UAAU;oBACR,CAAC,sBAAsB,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,OAAK,AAAD,EAAE,OAAO;wBAAE,WAAW;wBAAa,UAAU;4BACtF,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EAAE,SAAS;gCAAE,WAAW;gCAA8D,UAAU;4BAAe;4BAClI,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EAAE,OAAO;gCAAE,WAAW;gCAA0B,UAAU,mBAAmB,GAAG,CAAC,CAAC;oCACnG,MAAM,OAAO,OAAO,IAAI;oCACxB,OAAO,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,OAAK,AAAD,EACzB,uUAAA,CAAA,SAAO,CAAC,KAAK,EACb;wCACE,YAAY;4CAAE,OAAO;wCAAK;wCAC1B,UAAU;4CAAE,OAAO;wCAAK;wCACxB,WAAW,CAAC,8FAA8F,EAAE,gBAAgB,OAAO,KAAK,GAAG,sDAAsD,2FAA2F;wCAC5R,UAAU;4CACR,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EACjB,SACA;gDACE,MAAM;gDACN,OAAO,OAAO,KAAK;gDACnB,GAAG,SAAS,cAAc;gDAC1B,WAAW;4CACb;4CAEF,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EAAE,MAAM;gDAAE,WAAW,CAAC,aAAa,EAAE,gBAAgB,OAAO,KAAK,GAAG,mBAAmB,iBAAiB;4CAAC;4CAC5H,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,OAAK,AAAD,EAAE,OAAO;gDAAE,WAAW;gDAAU,UAAU;oDAC5D,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,OAAK,AAAD,EAAE,OAAO;wDAAE,WAAW;wDAAqC,UAAU;4DACvF,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EAAE,MAAM;gEAAE,WAAW,CAAC,YAAY,EAAE,gBAAgB,OAAO,KAAK,GAAG,uCAAuC,iCAAiC;gEAAE,UAAU,OAAO,KAAK;4DAAC;4DACvL,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EAAE,QAAQ;gEAAE,WAAW;gEAA4C,UAAU,OAAO,WAAW;4DAAC;yDACpH;oDAAC;oDACF,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EAAE,KAAK;wDAAE,WAAW,CAAC,QAAQ,EAAE,gBAAgB,OAAO,KAAK,GAAG,uCAAuC,oCAAoC;wDAAE,UAAU,OAAO,WAAW;oDAAC;iDAC5L;4CAAC;4CACF,gBAAgB,OAAO,KAAK,IAAI,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EAAE,oTAAA,CAAA,kBAAe,EAAE;gDAAE,WAAW;4CAA8B;yCAClH;oCACH,GACA,OAAO,KAAK;gCAEhB;4BAAG;4BACH,OAAO,WAAW,IAAI,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EAAE,KAAK;gCAAE,WAAW;gCAA0C,UAAU,OAAO,WAAW,CAAC,OAAO;4BAAC;yBAC7I;oBAAC;oBACF,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,OAAK,AAAD,EAAE,OAAO;wBAAE,WAAW;wBAAa,UAAU;4BAC/D,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EAAE,SAAS;gCAAE,SAAS;gCAAS,WAAW;gCAA8D,UAAU;4BAAgB;4BACrJ,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EACjB,SACA;gCACE,IAAI;gCACJ,MAAM;gCACN,cAAc;gCACd,GAAG,SAAS,QAAQ;gCACpB,WAAW,CAAC,oPAAoP,EAAE,OAAO,KAAK,GAAG,uCAAuC,wCAAwC;gCAChW,aAAa;4BACf;4BAEF,OAAO,KAAK,IAAI,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,OAAK,AAAD,EAAE,KAAK;gCAAE,WAAW;gCAA4D,UAAU;oCAC5H,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EAAE,oUAAA,CAAA,0BAAuB,EAAE;wCAAE,WAAW;oCAAe;oCAC1E,OAAO,KAAK,CAAC,OAAO;iCACrB;4BAAC;yBACH;oBAAC;oBACF,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,OAAK,AAAD,EAAE,OAAO;wBAAE,WAAW;wBAAa,UAAU;4BAC/D,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EAAE,SAAS;gCAAE,SAAS;gCAAY,WAAW;gCAA8D,UAAU;4BAAW;4BACnJ,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,OAAK,AAAD,EAAE,OAAO;gCAAE,WAAW;gCAAY,UAAU;oCAC9D,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EACjB,SACA;wCACE,IAAI;wCACJ,MAAM,eAAe,SAAS;wCAC9B,cAAc;wCACd,GAAG,SAAS,WAAW;wCACvB,WAAW,CAAC,0PAA0P,EAAE,OAAO,QAAQ,GAAG,uCAAuC,wCAAwC;wCACzW,aAAa;oCACf;oCAEF,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EACjB,UACA;wCACE,MAAM;wCACN,SAAS,IAAM,gBAAgB,CAAC;wCAChC,WAAW;wCACX,UAAU,eAAe,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EAAE,8SAAA,CAAA,eAAY,EAAE;4CAAE,WAAW;wCAAU,KAAK,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EAAE,oSAAA,CAAA,UAAO,EAAE;4CAAE,WAAW;wCAAU;oCAC/I;iCAEH;4BAAC;4BACF,OAAO,QAAQ,IAAI,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,OAAK,AAAD,EAAE,KAAK;gCAAE,WAAW;gCAA4D,UAAU;oCAC/H,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EAAE,oUAAA,CAAA,0BAAuB,EAAE;wCAAE,WAAW;oCAAe;oCAC1E,OAAO,QAAQ,CAAC,OAAO;iCACxB;4BAAC;yBACH;oBAAC;oBACF,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,OAAK,AAAD,EAAE,OAAO;wBAAE,WAAW;wBAAqC,UAAU;4BACvF,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,OAAK,AAAD,EAAE,SAAS;gCAAE,WAAW;gCAAqB,UAAU;oCACzE,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EACjB,SACA;wCACE,MAAM;wCACN,GAAG,SAAS,aAAa;wCACzB,WAAW;oCACb;oCAEF,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EAAE,QAAQ;wCAAE,WAAW;wCAAiD,UAAU;oCAAc;iCACpH;4BAAC;4BACF,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EACjB,2RAAA,CAAA,UAAK,EACL;gCACE,MAAM;gCACN,WAAW;gCACX,UAAU;4BACZ;yBAEH;oBAAC;oBACF,aAAa,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EAC9B,uUAAA,CAAA,SAAO,CAAC,GAAG,EACX;wBACE,SAAS;4BAAE,SAAS;4BAAG,GAAG,CAAC;wBAAG;wBAC9B,SAAS;4BAAE,SAAS;4BAAG,GAAG;wBAAE;wBAC5B,WAAW;wBACX,UAAU,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,OAAK,AAAD,EAAE,OAAO;4BAAE,WAAW;4BAAqB,UAAU;gCACjF,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EAAE,oUAAA,CAAA,0BAAuB,EAAE;oCAAE,WAAW;gCAA4B;gCACvF,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EAAE,KAAK;oCAAE,WAAW;oCAA0C,UAAU;gCAAU;6BACtG;wBAAC;oBACJ;oBAEF,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EACjB,uUAAA,CAAA,SAAO,CAAC,MAAM,EACd;wBACE,MAAM;wBACN,UAAU;wBACV,YAAY;4BAAE,OAAO;wBAAK;wBAC1B,UAAU;4BAAE,OAAO;wBAAK;wBACxB,WAAW;wBACX,UAAU,YAAY,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,OAAK,AAAD,EAAE,OAAO;4BAAE,WAAW;4BAAqB,UAAU;gCAC7F,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EAAE,OAAO;oCAAE,WAAW;gCAAiE;gCAC1G;6BACD;wBAAC,KAAK,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,OAAK,AAAD,EAAE,OAAO;4BAAE,WAAW;4BAAqB,UAAU;gCAC9E;gCACA,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EAAE,kTAAA,CAAA,iBAAc,EAAE;oCAAE,WAAW;gCAAe;6BAClE;wBAAC;oBACJ;oBAEF,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,OAAK,AAAD,EAAE,KAAK;wBAAE,WAAW;wBAAwD,UAAU;4BACxG;4BACA;4BACA,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EACjB,2RAAA,CAAA,UAAK,EACL;gCACE,MAAM,CAAC,QAAQ,EAAE,cAAc,CAAC,MAAM,EAAE,aAAa,GAAG,KAAK,cAAc,CAAC,UAAU,EAAE,mBAAmB,cAAc,GAAG,IAAI;gCAChI,WAAW;gCACX,UAAU;4BACZ;yBAEH;oBAAC;iBACH;YACH,GACA,iBAGF,WAAW;YACX,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,OAAK,AAAD,EAClB,uUAAA,CAAA,SAAO,CAAC,GAAG,EACX;gBACE,SAAS;oBAAE,SAAS;oBAAG,GAAG;gBAAG;gBAC7B,SAAS;oBAAE,SAAS;oBAAG,GAAG;gBAAE;gBAC5B,MAAM;oBAAE,SAAS;oBAAG,GAAG;gBAAG;gBAC1B,YAAY;oBAAE,UAAU;gBAAI;gBAC5B,WAAW;gBACX,UAAU;oBACR,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,OAAK,AAAD,EAAE,OAAO;wBAAE,WAAW;wBAAe,UAAU;4BACjE,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EAAE,oTAAA,CAAA,kBAAe,EAAE;gCAAE,WAAW;4BAAwC;4BAC3F,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EAAE,MAAM;gCAAE,WAAW;gCAA4D,UAAU;4BAA4B;4BAC1I,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EAAE,KAAK;gCAAE,WAAW;gCAAoC,UAAU;4BAA0C;yBAChI;oBAAC;oBACF,oBAAoB,MAAM,GAAG,KAAK,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,OAAK,AAAD,EAAE,OAAO;wBAAE,WAAW;wBAAa,UAAU;4BACjG,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EAAE,SAAS;gCAAE,WAAW;gCAA8D,UAAU;4BAAsB;4BACzI,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EAAE,OAAO;gCAAE,WAAW;gCAAa,UAAU,iBAAiB,MAAM,CAAC,CAAC,SAAW,oBAAoB,QAAQ,CAAC,OAAO,KAAK,GAAG,GAAG,CAAC,CAAC;oCACnJ,MAAM,OAAO,OAAO,IAAI;oCACxB,OAAO,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,OAAK,AAAD,EACzB,SACA;wCACE,WAAW,CAAC,mFAAmF,EAAE,sBAAsB,OAAO,KAAK,GAAG,sDAAsD,+DAA+D;wCAC3P,UAAU;4CACR,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EACjB,SACA;gDACE,MAAM;gDACN,MAAM;gDACN,OAAO,OAAO,KAAK;gDACnB,SAAS,sBAAsB,OAAO,KAAK;gDAC3C,UAAU,CAAC,IAAM,qBAAqB,EAAE,MAAM,CAAC,KAAK;gDACpD,WAAW;4CACb;4CAEF,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EAAE,MAAM;gDAAE,WAAW,CAAC,aAAa,EAAE,sBAAsB,OAAO,KAAK,GAAG,mBAAmB,iBAAiB;4CAAC;4CAClI,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,OAAK,AAAD,EAAE,OAAO;gDAAE,UAAU;oDACvC,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EAAE,KAAK;wDAAE,WAAW,CAAC,YAAY,EAAE,sBAAsB,OAAO,KAAK,GAAG,uCAAuC,iCAAiC;wDAAE,UAAU,OAAO,KAAK;oDAAC;oDAC5L,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EAAE,KAAK;wDAAE,WAAW,CAAC,QAAQ,EAAE,sBAAsB,OAAO,KAAK,GAAG,uCAAuC,oCAAoC;wDAAE,UAAU,OAAO,WAAW;oDAAC;iDAClM;4CAAC;yCACH;oCACH,GACA,OAAO,KAAK;gCAEhB;4BAAG;yBACJ;oBAAC;oBACF,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,OAAK,AAAD,EAAE,OAAO;wBAAE,WAAW;wBAAa,UAAU;4BAC/D,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EAAE,SAAS;gCAAE,SAAS;gCAAW,WAAW;gCAA8D,UAAU;4BAAoB;4BAC3J,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EACjB,SACA;gCACE,IAAI;gCACJ,MAAM;gCACN,OAAO;gCACP,UAAU,CAAC,IAAM,WAAW,EAAE,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,OAAO,IAAI,KAAK,CAAC,GAAG;gCACvE,WAAW;gCACX,aAAa;gCACb,WAAW;gCACX,cAAc;4BAChB;yBAEH;oBAAC;oBACF,aAAa,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EAC9B,uUAAA,CAAA,SAAO,CAAC,GAAG,EACX;wBACE,SAAS;4BAAE,SAAS;4BAAG,GAAG,CAAC;wBAAG;wBAC9B,SAAS;4BAAE,SAAS;4BAAG,GAAG;wBAAE;wBAC5B,WAAW;wBACX,UAAU,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,OAAK,AAAD,EAAE,OAAO;4BAAE,WAAW;4BAAqB,UAAU;gCACjF,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EAAE,oUAAA,CAAA,0BAAuB,EAAE;oCAAE,WAAW;gCAA4B;gCACvF,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EAAE,KAAK;oCAAE,WAAW;oCAA0C,UAAU;gCAAU;6BACtG;wBAAC;oBACJ;oBAEF,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,OAAK,AAAD,EAAE,OAAO;wBAAE,WAAW;wBAAa,UAAU;4BAC/D,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EACjB,uUAAA,CAAA,SAAO,CAAC,MAAM,EACd;gCACE,SAAS;gCACT,UAAU,aAAa,QAAQ,MAAM,KAAK;gCAC1C,YAAY;oCAAE,OAAO;gCAAK;gCAC1B,UAAU;oCAAE,OAAO;gCAAK;gCACxB,WAAW;gCACX,UAAU,YAAY,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,OAAK,AAAD,EAAE,OAAO;oCAAE,WAAW;oCAAqB,UAAU;wCAC7F,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EAAE,OAAO;4CAAE,WAAW;wCAAiE;wCAC1G;qCACD;gCAAC,KAAK;4BACT;4BAEF,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EACjB,UACA;gCACE,MAAM;gCACN,SAAS;gCACT,WAAW;gCACX,UAAU;4BACZ;yBAEH;oBAAC;iBACH;YACH,GACA;QAEF;IAAG;AACP;;;;;;;;AAkBA,SAAS,iBAAiB,EACxB,QAAQ,EACR,WAAW,EACX,WAAW,kBAAkB,KAAK,EACnC;IACC,MAAM,CAAC,cAAc,gBAAgB,GAAG,CAAA,GAAA,oUAAA,CAAA,WAAS,AAAD,EAAE;IAClD,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,oUAAA,CAAA,WAAS,AAAD,EAAE;IAC5C,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,oUAAA,CAAA,WAAS,AAAD,EAAE;IAC5C,MAAM,CAAC,aAAa,eAAe,GAAG,CAAA,GAAA,oUAAA,CAAA,WAAS,AAAD,EAAE;IAChD,MAAM,CAAC,qBAAqB,uBAAuB,GAAG,CAAA,GAAA,oUAAA,CAAA,WAAS,AAAD,EAAE,EAAE;IAClE,MAAM,CAAC,mBAAmB,qBAAqB,GAAG,CAAA,GAAA,oUAAA,CAAA,WAAS,AAAD,EAAE;IAC5D,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,oUAAA,CAAA,WAAS,AAAD,EAAE;IACxC,MAAM,EACJ,QAAQ,EACR,YAAY,EACZ,WAAW,EAAE,MAAM,EAAE,EACrB,KAAK,EACL,QAAQ,EACT,GAAG,CAAA,GAAA,uPAAA,CAAA,UAAQ,AAAD,EAAE;QACX,eAAe;YACb,OAAO;YACP,UAAU;YACV,YAAY;QACd;IACF;IACA,MAAM,mBAAmB;QACvB;YACE,MAAM,6IAAA,CAAA,UAAQ,CAAC,GAAG;YAClB,MAAM;YACN,aAAa;YACb,MAAM,gUAAA,CAAA,wBAAsB;QAC9B;QACA;YACE,MAAM,6IAAA,CAAA,UAAQ,CAAC,KAAK;YACpB,MAAM;YACN,aAAa;YACb,MAAM,8SAAA,CAAA,eAAa;QACrB;QACA;YACE,MAAM,6IAAA,CAAA,UAAQ,CAAC,IAAI;YACnB,MAAM;YACN,aAAa;YACb,MAAM,oTAAA,CAAA,kBAAgB;QACxB;KACD;IACD,MAAM,mBAAmB,OAAO;QAC9B,IAAI;YACF,aAAa;YACb,aAAa;YACb,MAAM,aAAa;gBACjB,OAAO,KAAK,KAAK;gBACjB,UAAU,KAAK,QAAQ;gBACvB,YAAY,KAAK,UAAU,IAAI;gBAC/B,SAAS,eAAe,qBAAqB,UAAU,UAAU,KAAK;YACxE;YACA,MAAM,WAAW,MAAM,SAAS;YAChC,IAAI,SAAS,OAAO,EAAE;gBACpB,IAAI,SAAS,WAAW,EAAE;oBACxB,OAAO,QAAQ,CAAC,IAAI,GAAG,SAAS,WAAW;gBAC7C;YACF,OAAO,IAAI,SAAS,WAAW,IAAI,SAAS,UAAU,EAAE;gBACtD,eAAe;gBACf,uBAAuB,SAAS,UAAU;gBAC1C,qBAAqB,SAAS,UAAU,CAAC,EAAE;YAC7C,OAAO,IAAI,SAAS,KAAK,EAAE;gBACzB,aAAa,SAAS,KAAK,CAAC,OAAO;gBACnC,IAAI,SAAS,KAAK,CAAC,KAAK,EAAE;oBACxB,SAAS,SAAS,KAAK,CAAC,KAAK,EAAE;wBAC7B,MAAM;wBACN,SAAS,SAAS,KAAK,CAAC,OAAO;oBACjC;gBACF;YACF;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,kBAAkB;YAChC,aAAa;QACf,SAAU;YACR,aAAa;QACf;IACF;IACA,MAAM,kBAAkB;QACtB,IAAI,CAAC,WAAW,CAAC,mBAAmB;QACpC,MAAM,kBAAkB;QACxB,MAAM,iBAAiB;IACzB;IACA,MAAM,WAAW;QACf,eAAe;QACf,uBAAuB,EAAE;QACzB,qBAAqB;QACrB,WAAW;QACX,aAAa;IACf;IACA,MAAM,UAAU,aAAa;IAC7B,OAAO,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,OAAK,AAAD,EAAE,OAAO;QAAE,WAAW;QAAa,UAAU;YACtE,aAAa,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EAC9B,uUAAA,CAAA,SAAO,CAAC,GAAG,EACX;gBACE,SAAS;oBAAE,SAAS;oBAAG,GAAG,CAAC;gBAAG;gBAC9B,SAAS;oBAAE,SAAS;oBAAG,GAAG;gBAAE;gBAC5B,WAAW;gBACX,UAAU,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,OAAK,AAAD,EAAE,OAAO;oBAAE,WAAW;oBAAoB,UAAU;wBAChF,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EAAE,oUAAA,CAAA,0BAAwB,EAAE;4BAAE,WAAW;wBAAmE;wBAC/H,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EAAE,OAAO;4BAAE,UAAU,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EAAE,KAAK;gCAAE,WAAW;gCAA0C,UAAU;4BAAU;wBAAG;qBACjJ;gBAAC;YACJ;YAEF,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EAAE,sUAAA,CAAA,kBAAgB,EAAE;gBAAE,MAAM;gBAAQ,UAAU,CAAC,cAChE,oBAAoB;gBACpB,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,OAAK,AAAD,EAClB,uUAAA,CAAA,SAAO,CAAC,IAAI,EACZ;oBACE,SAAS;wBAAE,SAAS;wBAAG,GAAG,CAAC;oBAAG;oBAC9B,SAAS;wBAAE,SAAS;wBAAG,GAAG;oBAAE;oBAC5B,MAAM;wBAAE,SAAS;wBAAG,GAAG,CAAC;oBAAG;oBAC3B,YAAY;wBAAE,UAAU;oBAAI;oBAC5B,UAAU,aAAa;oBACvB,WAAW;oBACX,UAAU;wBACR,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,OAAK,AAAD,EAAE,OAAO;4BAAE,WAAW;4BAAa,UAAU;gCAC/D,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EAAE,SAAS;oCAAE,SAAS;oCAAS,WAAW;oCAA8D,UAAU;gCAAgB;gCACrJ,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EACjB,SACA;oCACE,GAAG,SAAS,SAAS;wCACnB,UAAU;wCACV,SAAS;4CACP,OAAO;4CACP,SAAS;wCACX;oCACF,EAAE;oCACF,MAAM;oCACN,WAAW;oCACX,aAAa;gCACf;gCAEF,OAAO,KAAK,IAAI,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EAAE,KAAK;oCAAE,WAAW;oCAA0C,UAAU,OAAO,KAAK,CAAC,OAAO;gCAAC;6BACjI;wBAAC;wBACF,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,OAAK,AAAD,EAAE,OAAO;4BAAE,WAAW;4BAAa,UAAU;gCAC/D,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EAAE,SAAS;oCAAE,SAAS;oCAAY,WAAW;oCAA8D,UAAU;gCAAW;gCACnJ,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,OAAK,AAAD,EAAE,OAAO;oCAAE,WAAW;oCAAY,UAAU;wCAC9D,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EACjB,SACA;4CACE,GAAG,SAAS,YAAY;gDACtB,UAAU;gDACV,WAAW;oDACT,OAAO;oDACP,SAAS;gDACX;4CACF,EAAE;4CACF,MAAM,eAAe,SAAS;4CAC9B,WAAW;4CACX,aAAa;wCACf;wCAEF,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EACjB,UACA;4CACE,MAAM;4CACN,SAAS,IAAM,gBAAgB,CAAC;4CAChC,WAAW;4CACX,UAAU,eAAe,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EAAE,8SAAA,CAAA,eAAa,EAAE;gDAAE,WAAW;4CAAU,KAAK,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EAAE,oSAAA,CAAA,UAAQ,EAAE;gDAAE,WAAW;4CAAU;wCACjJ;qCAEH;gCAAC;gCACF,OAAO,QAAQ,IAAI,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EAAE,KAAK;oCAAE,WAAW;oCAA0C,UAAU,OAAO,QAAQ,CAAC,OAAO;gCAAC;6BACvI;wBAAC;wBACF,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,OAAK,AAAD,EAAE,OAAO;4BAAE,WAAW;4BAAqC,UAAU;gCACvF,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,OAAK,AAAD,EAAE,SAAS;oCAAE,WAAW;oCAAqB,UAAU;wCACzE,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EACjB,SACA;4CACE,GAAG,SAAS,aAAa;4CACzB,MAAM;4CACN,WAAW;wCACb;wCAEF,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EAAE,QAAQ;4CAAE,WAAW;4CAAiD,UAAU;wCAAc;qCACpH;gCAAC;gCACF,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EACjB,2RAAA,CAAA,UAAK,EACL;oCACE,MAAM;oCACN,WAAW;oCACX,UAAU;gCACZ;6BAEH;wBAAC;wBACF,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EACjB,uUAAA,CAAA,SAAO,CAAC,MAAM,EACd;4BACE,MAAM;4BACN,UAAU;4BACV,YAAY;gCAAE,OAAO,UAAU,IAAI;4BAAK;4BACxC,UAAU;gCAAE,OAAO,UAAU,IAAI;4BAAK;4BACtC,WAAW;4BACX,UAAU,UAAU,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,OAAK,AAAD,EAAE,OAAO;gCAAE,WAAW;gCAAqB,UAAU;oCAC3F,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EAAE,OAAO;wCAAE,WAAW;oCAAiE;oCAC1G;iCACD;4BAAC,KAAK,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,OAAK,AAAD,EAAE,OAAO;gCAAE,WAAW;gCAAqB,UAAU;oCAC9E;oCACA,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EAAE,kTAAA,CAAA,iBAAe,EAAE;wCAAE,WAAW;oCAAe;iCACnE;4BAAC;wBACJ;wBAEF,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,OAAK,AAAD,EAAE,KAAK;4BAAE,WAAW;4BAAwD,UAAU;gCACxG;gCACA;gCACA,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EACjB,2RAAA,CAAA,UAAK,EACL;oCACE,MAAM,CAAC,QAAQ,EAAE,cAAc,CAAC,UAAU,EAAE,mBAAmB,cAAc,GAAG,IAAI;oCACpF,WAAW;oCACX,UAAU;gCACZ;6BAEH;wBAAC;qBACH;gBACH,GACA,iBAGF,wBAAwB;gBACxB,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,OAAK,AAAD,EAClB,uUAAA,CAAA,SAAO,CAAC,GAAG,EACX;oBACE,SAAS;wBAAE,SAAS;wBAAG,GAAG;oBAAG;oBAC7B,SAAS;wBAAE,SAAS;wBAAG,GAAG;oBAAE;oBAC5B,MAAM;wBAAE,SAAS;wBAAG,GAAG;oBAAG;oBAC1B,YAAY;wBAAE,UAAU;oBAAI;oBAC5B,WAAW;oBACX,UAAU;wBACR,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,OAAK,AAAD,EAAE,OAAO;4BAAE,WAAW;4BAAe,UAAU;gCACjE,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EAAE,MAAM;oCAAE,WAAW;oCAA0D,UAAU;gCAAuB;gCACnI,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EAAE,KAAK;oCAAE,WAAW;oCAA4C,UAAU;gCAAgE;6BAC9J;wBAAC;wBACF,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,OAAK,AAAD,EAAE,OAAO;4BAAE,WAAW;4BAAa,UAAU;gCAC/D,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EAAE,SAAS;oCAAE,WAAW;oCAA8D,UAAU;gCAA6B;gCAChJ,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EAAE,OAAO;oCAAE,WAAW;oCAAa,UAAU,oBAAoB,GAAG,CAAC,CAAC;wCACvF,MAAM,SAAS,iBAAiB,IAAI,CAAC,CAAC,MAAQ,IAAI,IAAI,KAAK;wCAC3D,IAAI,CAAC,QAAQ,OAAO;wCACpB,MAAM,OAAO,OAAO,IAAI;wCACxB,OAAO,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,OAAK,AAAD,EACzB,SACA;4CACE,WAAW,CAAC,wEAAwE,EAAE,sBAAsB,SAAS,sDAAsD,2FAA2F;4CACtQ,UAAU;gDACR,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EACjB,SACA;oDACE,MAAM;oDACN,OAAO;oDACP,SAAS,sBAAsB;oDAC/B,UAAU,CAAC,IAAM,qBAAqB,EAAE,MAAM,CAAC,KAAK;oDACpD,WAAW;gDACb;gDAEF,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EAAE,MAAM;oDAAE,WAAW,CAAC,aAAa,EAAE,sBAAsB,SAAS,mBAAmB,iBAAiB;gDAAC;gDAC5H,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,OAAK,AAAD,EAAE,OAAO;oDAAE,UAAU;wDACvC,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EAAE,KAAK;4DAAE,WAAW,CAAC,YAAY,EAAE,sBAAsB,SAAS,uCAAuC,iCAAiC;4DAAE,UAAU,OAAO,IAAI;wDAAC;wDACrL,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EAAE,KAAK;4DAAE,WAAW,CAAC,QAAQ,EAAE,sBAAsB,SAAS,uCAAuC,oCAAoC;4DAAE,UAAU,OAAO,WAAW;wDAAC;qDAC5L;gDAAC;6CACH;wCACH,GACA;oCAEJ;gCAAG;6BACJ;wBAAC;wBACF,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,OAAK,AAAD,EAAE,OAAO;4BAAE,WAAW;4BAAa,UAAU;gCAC/D,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EAAE,SAAS;oCAAE,SAAS;oCAAW,WAAW;oCAA8D,UAAU;gCAAoB;gCAC3J,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EACjB,SACA;oCACE,IAAI;oCACJ,MAAM;oCACN,OAAO;oCACP,UAAU,CAAC,IAAM,WAAW,EAAE,MAAM,CAAC,KAAK;oCAC1C,WAAW;oCACX,aAAa;oCACb,WAAW;oCACX,cAAc;gCAChB;6BAEH;wBAAC;wBACF,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,OAAK,AAAD,EAAE,OAAO;4BAAE,WAAW;4BAAkB,UAAU;gCACpE,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EACjB,UACA;oCACE,MAAM;oCACN,SAAS;oCACT,WAAW;oCACX,UAAU;gCACZ;gCAEF,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EACjB,uUAAA,CAAA,SAAO,CAAC,MAAM,EACd;oCACE,MAAM;oCACN,SAAS;oCACT,UAAU,CAAC,WAAW,QAAQ,MAAM,GAAG,KAAK;oCAC5C,YAAY;wCAAE,OAAO,CAAC,WAAW,QAAQ,MAAM,GAAG,KAAK,UAAU,IAAI;oCAAK;oCAC1E,UAAU;wCAAE,OAAO,CAAC,WAAW,QAAQ,MAAM,GAAG,KAAK,UAAU,IAAI;oCAAK;oCACxE,WAAW;oCACX,UAAU,UAAU,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,OAAK,AAAD,EAAE,OAAO;wCAAE,WAAW;wCAAqB,UAAU;4CAC3F,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EAAE,OAAO;gDAAE,WAAW;4CAAiE;4CAC1G;yCACD;oCAAC,KAAK;gCACT;6BAEH;wBAAC;qBACH;gBACH,GACA;YAEF;SACH;IAAC;AACJ;;;;;;;;;AA4BA,SAAS,WAAW,EAClB,QAAQ,EACR,kBAAkB,EAClB,WAAW,EACX,YAAY,EAAE,EACf;IACC,MAAM,CAAC,cAAc,gBAAgB,GAAG,CAAA,GAAA,oUAAA,CAAA,WAAS,AAAD,EAAE;IAClD,MAAM,CAAC,qBAAqB,uBAAuB,GAAG,CAAA,GAAA,oUAAA,CAAA,WAAS,AAAD,EAAE;IAChE,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,oUAAA,CAAA,WAAS,AAAD,EAAE;IAC5C,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,oUAAA,CAAA,WAAS,AAAD,EAAE;IAC5C,MAAM,CAAC,kBAAkB,oBAAoB,GAAG,CAAA,GAAA,oUAAA,CAAA,WAAS,AAAD,EAAE;IAC1D,MAAM,CAAC,aAAa,eAAe,GAAG,CAAA,GAAA,oUAAA,CAAA,WAAS,AAAD,EAAE;IAChD,MAAM,aAAa;IACnB,MAAM,EACJ,QAAQ,EACR,YAAY,EACZ,WAAW,EAAE,MAAM,EAAE,EACrB,KAAK,EACL,QAAQ,EACR,QAAQ,EACR,OAAO,EACR,GAAG,CAAA,GAAA,uPAAA,CAAA,UAAQ,AAAD,EAAE;QACX,eAAe;YACb,aAAa,sBAAsB,6IAAA,CAAA,kBAAgB,CAAC,UAAU;YAC9D,cAAc;YACd,gBAAgB;YAChB,kBAAkB;QACpB;IACF;IACA,MAAM,cAAc,MAAM;IAC1B,MAAM,WAAW,MAAM;IACvB,MAAM,QAAQ,MAAM;IACpB,MAAM,qBAAqB;QACzB;YACE,OAAO,6IAAA,CAAA,kBAAgB,CAAC,UAAU;YAClC,OAAO;YACP,aAAa;YACb,MAAM,gTAAA,CAAA,iBAAe;YACrB,aAAa;QACf;QACA;YACE,OAAO,6IAAA,CAAA,kBAAgB,CAAC,QAAQ;YAChC,OAAO;YACP,aAAa;YACb,MAAM,wTAAA,CAAA,qBAAmB;YACzB,aAAa;QACf;QACA;YACE,OAAO,6IAAA,CAAA,kBAAgB,CAAC,WAAW;YACnC,OAAO;YACP,aAAa;YACb,MAAM,8SAAA,CAAA,gBAAc;YACpB,aAAa;QACf;QACA;YACE,OAAO,6IAAA,CAAA,kBAAgB,CAAC,SAAS;YACjC,OAAO;YACP,aAAa;YACb,MAAM,kTAAA,CAAA,kBAAgB;YACtB,aAAa;QACf;KACD;IACD,MAAM,sBAAsB;QAC1B;YAAE,OAAO,6IAAA,CAAA,eAAY,CAAC,mBAAmB;YAAE,OAAO;QAAsB;QACxE;YAAE,OAAO,6IAAA,CAAA,eAAY,CAAC,WAAW;YAAE,OAAO;QAAc;QACxD;YAAE,OAAO,6IAAA,CAAA,eAAY,CAAC,WAAW;YAAE,OAAO;QAAc;QACxD;YAAE,OAAO,6IAAA,CAAA,eAAY,CAAC,GAAG;YAAE,OAAO;QAAkC;QACpE;YAAE,OAAO,6IAAA,CAAA,eAAY,CAAC,UAAU;YAAE,OAAO;QAA0B;QACnE;YAAE,OAAO,6IAAA,CAAA,eAAY,CAAC,OAAO;YAAE,OAAO;QAAU;QAChD;YAAE,OAAO,6IAAA,CAAA,eAAY,CAAC,UAAU;YAAE,OAAO;QAAa;KACvD;IACD,MAAM,yBAAyB;QAC7B;YAAE,OAAO,6IAAA,CAAA,kBAAe,CAAC,IAAI;YAAE,OAAO;QAAkB;QACxD;YAAE,OAAO,6IAAA,CAAA,kBAAe,CAAC,YAAY;YAAE,OAAO;QAAe;QAC7D;YAAE,OAAO,6IAAA,CAAA,kBAAe,CAAC,OAAO;YAAE,OAAO;QAAkB;QAC3D;YAAE,OAAO,6IAAA,CAAA,kBAAe,CAAC,iBAAiB;YAAE,OAAO;QAAoB;QACvE;YAAE,OAAO,6IAAA,CAAA,kBAAe,CAAC,kBAAkB;YAAE,OAAO;QAAqB;QACzE;YAAE,OAAO,6IAAA,CAAA,kBAAe,CAAC,KAAK;YAAE,OAAO;QAAgB;QACvD;YAAE,OAAO,6IAAA,CAAA,kBAAe,CAAC,YAAY;YAAE,OAAO;QAA2B;KAC1E;IACD,CAAA,GAAA,oUAAA,CAAA,YAAU,AAAD,EAAE;QACT,IAAI,CAAC,UAAU;YACb,oBAAoB;YACpB;QACF;QACA,IAAI,WAAW;QACf,IAAI,SAAS,MAAM,IAAI,GAAG,YAAY;QACtC,IAAI,SAAS,MAAM,IAAI,IAAI,YAAY;QACvC,IAAI,QAAQ,IAAI,CAAC,WAAW,YAAY;QACxC,IAAI,QAAQ,IAAI,CAAC,WAAW,YAAY;QACxC,IAAI,QAAQ,IAAI,CAAC,WAAW,YAAY;QACxC,IAAI,eAAe,IAAI,CAAC,WAAW,YAAY;QAC/C,oBAAoB,KAAK,GAAG,CAAC,UAAU;IACzC,GAAG;QAAC;KAAS;IACb,MAAM,2BAA2B,CAAC;QAChC,IAAI,WAAW,IAAI,OAAO;QAC1B,IAAI,WAAW,IAAI,OAAO;QAC1B,IAAI,WAAW,IAAI,OAAO;QAC1B,OAAO;IACT;IACA,MAAM,0BAA0B,CAAC;QAC/B,IAAI,WAAW,IAAI,OAAO;QAC1B,IAAI,WAAW,IAAI,OAAO;QAC1B,IAAI,WAAW,IAAI,OAAO;QAC1B,OAAO;IACT;IACA,MAAM,mBAAmB,OAAO;QAC9B,IAAI;YACF,aAAa;YACb,aAAa;YACb,MAAM,aAAa;gBACjB,OAAO,KAAK,KAAK;gBACjB,UAAU,KAAK,QAAQ;gBACvB,iBAAiB,KAAK,eAAe;gBACrC,WAAW,KAAK,SAAS;gBACzB,UAAU,KAAK,QAAQ;gBACvB,aAAa,KAAK,WAAW;gBAC7B,cAAc,KAAK,YAAY;gBAC/B,gBAAgB,KAAK,cAAc;gBACnC,kBAAkB,KAAK,gBAAgB;gBACvC,cAAc,KAAK,YAAY;gBAC/B,cAAc,KAAK,YAAY;gBAC/B,iBAAiB,KAAK,eAAe;gBACrC,iBAAiB,KAAK,eAAe;gBACrC,SAAS,KAAK,OAAO;gBACrB,OAAO,KAAK,KAAK;gBACjB,cAAc,KAAK,YAAY;YACjC;YACA,MAAM,WAAW,MAAM,SAAS;YAChC,IAAI,SAAS,OAAO,EAAE;gBACpB,IAAI,SAAS,WAAW,EAAE;oBACxB,OAAO,QAAQ,CAAC,IAAI,GAAG,SAAS,WAAW;gBAC7C;YACF,OAAO,IAAI,SAAS,KAAK,EAAE;gBACzB,aAAa,SAAS,KAAK,CAAC,OAAO;gBACnC,IAAI,SAAS,KAAK,CAAC,KAAK,EAAE;oBACxB,SAAS,SAAS,KAAK,CAAC,KAAK,EAAE;wBAC7B,MAAM;wBACN,SAAS,SAAS,KAAK,CAAC,OAAO;oBACjC;gBACF;YACF;QACF,EAAE,OAAO,OAAO;YACd,aAAa,iBAAiB,QAAQ,MAAM,OAAO,GAAG;QACxD,SAAU;YACR,aAAa;QACf;IACF;IACA,MAAM,iBAAiB;QACrB,MAAM,mBAAmB,iBAAiB;QAC1C,MAAM,UAAU,MAAM,QAAQ;QAC9B,IAAI,SAAS;YACX,eAAe,cAAc;QAC/B;IACF;IACA,MAAM,mBAAmB,CAAC;QACxB,OAAQ;YACN,KAAK;gBACH,OAAO;oBAAC;iBAAc;YACxB,KAAK;gBACH,OAAO;oBAAC;oBAAa;oBAAY;oBAAS;oBAAS;oBAAgB;oBAAgB;oBAAmB;oBAAmB;iBAAU;YACrI,KAAK;gBACH,OAAO;oBAAC;oBAAY;oBAAmB;oBAAgB;iBAAiB;YAC1E;gBACE,OAAO,EAAE;QACb;IACF;IACA,MAAM,aAAa;QACjB,OAAQ;YACN,KAAK;gBACH,OAAO;YACT,KAAK;gBACH,OAAO;YACT,KAAK;gBACH,OAAO;YACT;gBACE,OAAO;QACX;IACF;IACA,MAAM,wBAAwB,IAAM,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,OAAK,AAAD,EACtD,uUAAA,CAAA,SAAO,CAAC,GAAG,EACX;YACE,SAAS;gBAAE,SAAS;gBAAG,GAAG;YAAG;YAC7B,SAAS;gBAAE,SAAS;gBAAG,GAAG;YAAE;YAC5B,MAAM;gBAAE,SAAS;gBAAG,GAAG,CAAC;YAAG;YAC3B,WAAW;YACX,UAAU;gBACR,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,OAAK,AAAD,EAAE,OAAO;oBAAE,WAAW;oBAAe,UAAU;wBACjE,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EAAE,MAAM;4BAAE,WAAW;4BAA4D,UAAU;wBAA2B;wBACzI,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EAAE,KAAK;4BAAE,WAAW;4BAAoC,UAAU;wBAA4D;qBAClJ;gBAAC;gBACF,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EAAE,OAAO;oBAAE,WAAW;oBAAa,UAAU,mBAAmB,GAAG,CAAC,CAAC;wBACtF,MAAM,OAAO,OAAO,IAAI;wBACxB,OAAO,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,OAAK,AAAD,EACzB,uUAAA,CAAA,SAAO,CAAC,KAAK,EACb;4BACE,YAAY;gCAAE,OAAO;4BAAK;4BAC1B,UAAU;gCAAE,OAAO;4BAAK;4BACxB,WAAW,CAAC,8FAA8F,EAAE,gBAAgB,OAAO,KAAK,GAAG,sDAAsD,2FAA2F;4BAC5R,UAAU;gCACR,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EACjB,SACA;oCACE,MAAM;oCACN,OAAO,OAAO,KAAK;oCACnB,GAAG,SAAS,cAAc;oCAC1B,WAAW;gCACb;gCAEF,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EAAE,MAAM;oCAAE,WAAW,CAAC,aAAa,EAAE,gBAAgB,OAAO,KAAK,GAAG,mBAAmB,iBAAiB;gCAAC;gCAC5H,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,OAAK,AAAD,EAAE,OAAO;oCAAE,WAAW;oCAAU,UAAU;wCAC5D,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,OAAK,AAAD,EAAE,OAAO;4CAAE,WAAW;4CAAqC,UAAU;gDACvF,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EAAE,MAAM;oDAAE,WAAW,CAAC,YAAY,EAAE,gBAAgB,OAAO,KAAK,GAAG,uCAAuC,iCAAiC;oDAAE,UAAU,OAAO,KAAK;gDAAC;gDACvL,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EAAE,QAAQ;oDAAE,WAAW;oDAA4C,UAAU,OAAO,WAAW;gDAAC;6CACpH;wCAAC;wCACF,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EAAE,KAAK;4CAAE,WAAW,CAAC,aAAa,EAAE,gBAAgB,OAAO,KAAK,GAAG,uCAAuC,oCAAoC;4CAAE,UAAU,OAAO,WAAW;wCAAC;qCACjM;gCAAC;gCACF,gBAAgB,OAAO,KAAK,IAAI,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EAAE,oTAAA,CAAA,kBAAgB,EAAE;oCAAE,WAAW;gCAA8B;6BACnH;wBACH,GACA,OAAO,KAAK;oBAEhB;gBAAG;gBACH,OAAO,WAAW,IAAI,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,OAAK,AAAD,EAAE,KAAK;oBAAE,WAAW;oBAA4D,UAAU;wBAClI,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EAAE,oUAAA,CAAA,0BAAwB,EAAE;4BAAE,WAAW;wBAAe;wBAC3E,OAAO,WAAW,CAAC,OAAO;qBAC3B;gBAAC;aACH;QACH,GACA;IAEF,MAAM,yBAAyB,IAAM,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,OAAK,AAAD,EACvD,uUAAA,CAAA,SAAO,CAAC,GAAG,EACX;YACE,SAAS;gBAAE,SAAS;gBAAG,GAAG;YAAG;YAC7B,SAAS;gBAAE,SAAS;gBAAG,GAAG;YAAE;YAC5B,MAAM;gBAAE,SAAS;gBAAG,GAAG,CAAC;YAAG;YAC3B,WAAW;YACX,UAAU;gBACR,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,OAAK,AAAD,EAAE,OAAO;oBAAE,WAAW;oBAAe,UAAU;wBACjE,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EAAE,MAAM;4BAAE,WAAW;4BAA4D,UAAU;wBAAuB;wBACrI,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EAAE,KAAK;4BAAE,WAAW;4BAAoC,UAAU;wBAAgD;qBACtI;gBAAC;gBACF,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,OAAK,AAAD,EAAE,OAAO;oBAAE,WAAW;oBAAyC,UAAU;wBAC3F,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,OAAK,AAAD,EAAE,OAAO;4BAAE,WAAW;4BAAa,UAAU;gCAC/D,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EAAE,SAAS;oCAAE,SAAS;oCAAa,WAAW;oCAA8D,UAAU;gCAAa;gCACtJ,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EACjB,SACA;oCACE,IAAI;oCACJ,MAAM;oCACN,cAAc;oCACd,GAAG,SAAS,YAAY;oCACxB,WAAW,CAAC,oPAAoP,EAAE,OAAO,SAAS,GAAG,uCAAuC,wCAAwC;oCACpW,aAAa;gCACf;gCAEF,OAAO,SAAS,IAAI,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EAAE,KAAK;oCAAE,WAAW;oCAA0C,UAAU,OAAO,SAAS,CAAC,OAAO;gCAAC;6BACzI;wBAAC;wBACF,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,OAAK,AAAD,EAAE,OAAO;4BAAE,WAAW;4BAAa,UAAU;gCAC/D,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EAAE,SAAS;oCAAE,SAAS;oCAAY,WAAW;oCAA8D,UAAU;gCAAY;gCACpJ,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EACjB,SACA;oCACE,IAAI;oCACJ,MAAM;oCACN,cAAc;oCACd,GAAG,SAAS,WAAW;oCACvB,WAAW,CAAC,oPAAoP,EAAE,OAAO,QAAQ,GAAG,uCAAuC,wCAAwC;oCACnW,aAAa;gCACf;gCAEF,OAAO,QAAQ,IAAI,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EAAE,KAAK;oCAAE,WAAW;oCAA0C,UAAU,OAAO,QAAQ,CAAC,OAAO;gCAAC;6BACvI;wBAAC;qBACH;gBAAC;gBACF,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,OAAK,AAAD,EAAE,OAAO;oBAAE,WAAW;oBAAa,UAAU;wBAC/D,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EAAE,SAAS;4BAAE,SAAS;4BAAS,WAAW;4BAA8D,UAAU;wBAAgB;wBACrJ,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,OAAK,AAAD,EAAE,OAAO;4BAAE,WAAW;4BAAY,UAAU;gCAC9D,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EACjB,SACA;oCACE,IAAI;oCACJ,MAAM;oCACN,cAAc;oCACd,GAAG,SAAS,QAAQ;oCACpB,WAAW,CAAC,0PAA0P,EAAE,OAAO,KAAK,GAAG,uCAAuC,wCAAwC;oCACtW,aAAa;gCACf;gCAEF,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EAAE,8SAAA,CAAA,eAAa,EAAE;oCAAE,WAAW;gCAA2E;6BAC7H;wBAAC;wBACF,OAAO,KAAK,IAAI,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EAAE,KAAK;4BAAE,WAAW;4BAA0C,UAAU,OAAO,KAAK,CAAC,OAAO;wBAAC;qBACjI;gBAAC;gBACF,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,OAAK,AAAD,EAAE,OAAO;oBAAE,WAAW;oBAAa,UAAU;wBAC/D,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,OAAK,AAAD,EAAE,SAAS;4BAAE,SAAS;4BAAS,WAAW;4BAA8D,UAAU;gCACpI;gCACA,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EAAE,QAAQ;oCAAE,WAAW;oCAAiB,UAAU;gCAAa;6BACnF;wBAAC;wBACF,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,OAAK,AAAD,EAAE,OAAO;4BAAE,WAAW;4BAAY,UAAU;gCAC9D,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EACjB,SACA;oCACE,IAAI;oCACJ,MAAM;oCACN,cAAc;oCACd,GAAG,SAAS,QAAQ;oCACpB,WAAW,CAAC,0PAA0P,EAAE,OAAO,KAAK,GAAG,uCAAuC,wCAAwC;oCACtW,aAAa;gCACf;gCAEF,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EAAE,wSAAA,CAAA,YAAS,EAAE;oCAAE,WAAW;gCAA2E;6BACzH;wBAAC;wBACF,OAAO,KAAK,IAAI,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EAAE,KAAK;4BAAE,WAAW;4BAA0C,UAAU,OAAO,KAAK,CAAC,OAAO;wBAAC;qBACjI;gBAAC;gBACF,gBAAgB,6IAAA,CAAA,kBAAgB,CAAC,QAAQ,IAAI,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,OAAK,AAAD,EAAE,sVAAA,CAAA,WAAQ,EAAE;oBAAE,UAAU;wBACvF,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,OAAK,AAAD,EAAE,OAAO;4BAAE,WAAW;4BAAa,UAAU;gCAC/D,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EAAE,SAAS;oCAAE,SAAS;oCAAgB,WAAW;oCAA8D,UAAU;gCAAgB;gCAC5J,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EACjB,SACA;oCACE,IAAI;oCACJ,MAAM;oCACN,GAAG,SAAS,eAAe;oCAC3B,WAAW,CAAC,oPAAoP,EAAE,OAAO,YAAY,GAAG,uCAAuC,wCAAwC;oCACvW,aAAa;gCACf;gCAEF,OAAO,YAAY,IAAI,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EAAE,KAAK;oCAAE,WAAW;oCAA0C,UAAU,OAAO,YAAY,CAAC,OAAO;gCAAC;6BAC/I;wBAAC;wBACF,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,OAAK,AAAD,EAAE,OAAO;4BAAE,WAAW;4BAAa,UAAU;gCAC/D,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EAAE,SAAS;oCAAE,SAAS;oCAAgB,WAAW;oCAA8D,UAAU;gCAAgB;gCAC5J,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,OAAK,AAAD,EAClB,UACA;oCACE,IAAI;oCACJ,GAAG,SAAS,eAAe;oCAC3B,WAAW,CAAC,qMAAqM,EAAE,OAAO,YAAY,GAAG,uCAAuC,wCAAwC;oCACxT,UAAU;wCACR,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EAAE,UAAU;4CAAE,OAAO;4CAAI,UAAU;wCAAuB;wCAC7E,oBAAoB,GAAG,CAAC,CAAC,SAAW,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EAAE,UAAU;gDAAE,OAAO,OAAO,KAAK;gDAAE,UAAU,OAAO,KAAK;4CAAC,GAAG,OAAO,KAAK;qCACjI;gCACH;gCAEF,OAAO,YAAY,IAAI,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EAAE,KAAK;oCAAE,WAAW;oCAA0C,UAAU,OAAO,YAAY,CAAC,OAAO;gCAAC;6BAC/I;wBAAC;qBACH;gBAAC;gBACF,gBAAgB,6IAAA,CAAA,kBAAgB,CAAC,WAAW,IAAI,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,OAAK,AAAD,EAAE,sVAAA,CAAA,WAAQ,EAAE;oBAAE,UAAU;wBAC1F,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,OAAK,AAAD,EAAE,OAAO;4BAAE,WAAW;4BAAa,UAAU;gCAC/D,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EAAE,SAAS;oCAAE,SAAS;oCAAmB,WAAW;oCAA8D,UAAU;gCAAmB;gCAClK,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EACjB,SACA;oCACE,IAAI;oCACJ,MAAM;oCACN,GAAG,SAAS,kBAAkB;oCAC9B,WAAW,CAAC,oPAAoP,EAAE,OAAO,eAAe,GAAG,uCAAuC,wCAAwC;oCAC1W,aAAa;gCACf;gCAEF,OAAO,eAAe,IAAI,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EAAE,KAAK;oCAAE,WAAW;oCAA0C,UAAU,OAAO,eAAe,CAAC,OAAO;gCAAC;6BACrJ;wBAAC;wBACF,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,OAAK,AAAD,EAAE,OAAO;4BAAE,WAAW;4BAAa,UAAU;gCAC/D,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EAAE,SAAS;oCAAE,SAAS;oCAAmB,WAAW;oCAA8D,UAAU;gCAAmB;gCAClK,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,OAAK,AAAD,EAClB,UACA;oCACE,IAAI;oCACJ,GAAG,SAAS,kBAAkB;oCAC9B,WAAW,CAAC,qMAAqM,EAAE,OAAO,eAAe,GAAG,uCAAuC,wCAAwC;oCAC3T,UAAU;wCACR,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EAAE,UAAU;4CAAE,OAAO;4CAAI,UAAU;wCAA0B;wCAChF,uBAAuB,GAAG,CAAC,CAAC,SAAW,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EAAE,UAAU;gDAAE,OAAO,OAAO,KAAK;gDAAE,UAAU,OAAO,KAAK;4CAAC,GAAG,OAAO,KAAK;qCACpI;gCACH;gCAEF,OAAO,eAAe,IAAI,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EAAE,KAAK;oCAAE,WAAW;oCAA0C,UAAU,OAAO,eAAe,CAAC,OAAO;gCAAC;6BACrJ;wBAAC;qBACH;gBAAC;gBACF,gBAAgB,6IAAA,CAAA,kBAAgB,CAAC,SAAS,IAAI,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,OAAK,AAAD,EAAE,OAAO;oBAAE,WAAW;oBAAa,UAAU;wBAC7G,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,OAAK,AAAD,EAAE,SAAS;4BAAE,SAAS;4BAAW,WAAW;4BAA8D,UAAU;gCACtI;gCACA,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EAAE,QAAQ;oCAAE,WAAW;oCAAiB,UAAU;gCAAa;6BACnF;wBAAC;wBACF,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EACjB,SACA;4BACE,IAAI;4BACJ,MAAM;4BACN,GAAG,SAAS,UAAU;4BACtB,WAAW,CAAC,oPAAoP,EAAE,OAAO,OAAO,GAAG,uCAAuC,wCAAwC;4BAClW,aAAa;wBACf;wBAEF,OAAO,OAAO,IAAI,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EAAE,KAAK;4BAAE,WAAW;4BAA0C,UAAU,OAAO,OAAO,CAAC,OAAO;wBAAC;qBACrI;gBAAC;aACH;QACH,GACA;IAEF,MAAM,qBAAqB,IAAM,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,OAAK,AAAD,EACnD,uUAAA,CAAA,SAAO,CAAC,GAAG,EACX;YACE,SAAS;gBAAE,SAAS;gBAAG,GAAG;YAAG;YAC7B,SAAS;gBAAE,SAAS;gBAAG,GAAG;YAAE;YAC5B,MAAM;gBAAE,SAAS;gBAAG,GAAG,CAAC;YAAG;YAC3B,WAAW;YACX,UAAU;gBACR,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,OAAK,AAAD,EAAE,OAAO;oBAAE,WAAW;oBAAe,UAAU;wBACjE,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EAAE,MAAM;4BAAE,WAAW;4BAA4D,UAAU;wBAAsB;wBACpI,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EAAE,KAAK;4BAAE,WAAW;4BAAoC,UAAU;wBAAkD;qBACxI;gBAAC;gBACF,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,OAAK,AAAD,EAAE,OAAO;oBAAE,WAAW;oBAAa,UAAU;wBAC/D,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EAAE,SAAS;4BAAE,SAAS;4BAAY,WAAW;4BAA8D,UAAU;wBAAW;wBACnJ,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,OAAK,AAAD,EAAE,OAAO;4BAAE,WAAW;4BAAY,UAAU;gCAC9D,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EACjB,SACA;oCACE,IAAI;oCACJ,MAAM,eAAe,SAAS;oCAC9B,cAAc;oCACd,GAAG,SAAS,WAAW;oCACvB,WAAW,CAAC,0PAA0P,EAAE,OAAO,QAAQ,GAAG,uCAAuC,wCAAwC;oCACzW,aAAa;gCACf;gCAEF,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EACjB,UACA;oCACE,MAAM;oCACN,SAAS,IAAM,gBAAgB,CAAC;oCAChC,WAAW;oCACX,UAAU,eAAe,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EAAE,8SAAA,CAAA,eAAa,EAAE;wCAAE,WAAW;oCAAU,KAAK,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EAAE,oSAAA,CAAA,UAAQ,EAAE;wCAAE,WAAW;oCAAU;gCACjJ;6BAEH;wBAAC;wBACF,YAAY,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,OAAK,AAAD,EAAE,OAAO;4BAAE,WAAW;4BAAa,UAAU;gCAC3E,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,OAAK,AAAD,EAAE,OAAO;oCAAE,WAAW;oCAA6C,UAAU;wCAC/F,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EAAE,QAAQ;4CAAE,WAAW;4CAAoC,UAAU;wCAAqB;wCAC7G,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EAAE,QAAQ;4CAAE,WAAW,CAAC,YAAY,EAAE,mBAAmB,KAAK,iBAAiB,mBAAmB,KAAK,oBAAoB,mBAAmB,KAAK,kBAAkB,kBAAkB;4CAAE,UAAU,wBAAwB;wCAAkB;qCACjQ;gCAAC;gCACF,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EAAE,OAAO;oCAAE,WAAW;oCAAwD,UAAU,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EAC5H,OACA;wCACE,WAAW,CAAC,6CAA6C,EAAE,yBAAyB,mBAAmB;wCACvG,OAAO;4CAAE,OAAO,GAAG,iBAAiB,CAAC,CAAC;wCAAC;oCACzC;gCACA;6BACH;wBAAC;wBACF,OAAO,QAAQ,IAAI,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EAAE,KAAK;4BAAE,WAAW;4BAA0C,UAAU,OAAO,QAAQ,CAAC,OAAO;wBAAC;qBACvI;gBAAC;gBACF,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,OAAK,AAAD,EAAE,OAAO;oBAAE,WAAW;oBAAa,UAAU;wBAC/D,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EAAE,SAAS;4BAAE,SAAS;4BAAmB,WAAW;4BAA8D,UAAU;wBAAmB;wBAClK,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,OAAK,AAAD,EAAE,OAAO;4BAAE,WAAW;4BAAY,UAAU;gCAC9D,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EACjB,SACA;oCACE,IAAI;oCACJ,MAAM,sBAAsB,SAAS;oCACrC,cAAc;oCACd,GAAG,SAAS,kBAAkB;oCAC9B,WAAW,CAAC,0PAA0P,EAAE,OAAO,eAAe,GAAG,uCAAuC,wCAAwC;oCAChX,aAAa;gCACf;gCAEF,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EACjB,UACA;oCACE,MAAM;oCACN,SAAS,IAAM,uBAAuB,CAAC;oCACvC,WAAW;oCACX,UAAU,sBAAsB,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EAAE,8SAAA,CAAA,eAAa,EAAE;wCAAE,WAAW;oCAAU,KAAK,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EAAE,oSAAA,CAAA,UAAQ,EAAE;wCAAE,WAAW;oCAAU;gCACxJ;6BAEH;wBAAC;wBACF,OAAO,eAAe,IAAI,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EAAE,KAAK;4BAAE,WAAW;4BAA0C,UAAU,OAAO,eAAe,CAAC,OAAO;wBAAC;qBACrJ;gBAAC;gBACF,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,OAAK,AAAD,EAAE,OAAO;oBAAE,WAAW;oBAAa,UAAU;wBAC/D,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,OAAK,AAAD,EAAE,SAAS;4BAAE,WAAW;4BAAoB,UAAU;gCACxE,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EACjB,SACA;oCACE,MAAM;oCACN,GAAG,SAAS,eAAe;oCAC3B,WAAW;gCACb;gCAEF,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,OAAK,AAAD,EAAE,QAAQ;oCAAE,WAAW;oCAAiD,UAAU;wCACpG;wCACA;wCACA,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EAAE,2RAAA,CAAA,UAAK,EAAE;4CAAE,MAAM;4CAAU,WAAW;4CAA+F,UAAU;wCAAmB;wCACrL;wCACA;qCACD;gCAAC;6BACH;wBAAC;wBACF,OAAO,YAAY,IAAI,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EAAE,KAAK;4BAAE,WAAW;4BAA+C,UAAU,OAAO,YAAY,CAAC,OAAO;wBAAC;wBACnJ,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,OAAK,AAAD,EAAE,SAAS;4BAAE,WAAW;4BAAoB,UAAU;gCACxE,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EACjB,SACA;oCACE,MAAM;oCACN,GAAG,SAAS,iBAAiB;oCAC7B,WAAW;gCACb;gCAEF,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,OAAK,AAAD,EAAE,QAAQ;oCAAE,WAAW;oCAAiD,UAAU;wCACpG;wCACA;wCACA,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EAAE,2RAAA,CAAA,UAAK,EAAE;4CAAE,MAAM;4CAAY,WAAW;4CAA+F,UAAU;wCAAiB;wCACrL;wCACA;qCACD;gCAAC;6BACH;wBAAC;wBACF,OAAO,cAAc,IAAI,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EAAE,KAAK;4BAAE,WAAW;4BAA+C,UAAU,OAAO,cAAc,CAAC,OAAO;wBAAC;wBACvJ,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,OAAK,AAAD,EAAE,SAAS;4BAAE,WAAW;4BAAoB,UAAU;gCACxE,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EACjB,SACA;oCACE,MAAM;oCACN,GAAG,SAAS,mBAAmB;oCAC/B,WAAW;gCACb;gCAEF,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,OAAK,AAAD,EAAE,QAAQ;oCAAE,WAAW;oCAAiD,UAAU;wCACpG;wCACA;wCACA,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EAAE,QAAQ;4CAAE,WAAW;4CAAiB,UAAU;wCAAa;qCACnF;gCAAC;6BACH;wBAAC;qBACH;gBAAC;gBACF,aAAa,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EAC9B,uUAAA,CAAA,SAAO,CAAC,GAAG,EACX;oBACE,SAAS;wBAAE,SAAS;wBAAG,GAAG,CAAC;oBAAG;oBAC9B,SAAS;wBAAE,SAAS;wBAAG,GAAG;oBAAE;oBAC5B,WAAW;oBACX,UAAU,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,OAAK,AAAD,EAAE,OAAO;wBAAE,WAAW;wBAAqB,UAAU;4BACjF,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EAAE,oUAAA,CAAA,0BAAwB,EAAE;gCAAE,WAAW;4BAA4B;4BACxF,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EAAE,KAAK;gCAAE,WAAW;gCAA0C,UAAU;4BAAU;yBACtG;oBAAC;gBACJ;gBAEF,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EACjB,uUAAA,CAAA,SAAO,CAAC,MAAM,EACd;oBACE,MAAM;oBACN,UAAU;oBACV,YAAY;wBAAE,OAAO;oBAAK;oBAC1B,UAAU;wBAAE,OAAO;oBAAK;oBACxB,WAAW;oBACX,UAAU,YAAY,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,OAAK,AAAD,EAAE,OAAO;wBAAE,WAAW;wBAAqB,UAAU;4BAC7F,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EAAE,OAAO;gCAAE,WAAW;4BAAiE;4BAC1G;yBACD;oBAAC,KAAK,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,OAAK,AAAD,EAAE,OAAO;wBAAE,WAAW;wBAAqB,UAAU;4BAC9E;4BACA,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EAAE,kTAAA,CAAA,iBAAe,EAAE;gCAAE,WAAW;4BAAe;yBACnE;oBAAC;gBACJ;gBAEF,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,OAAK,AAAD,EAAE,KAAK;oBAAE,WAAW;oBAAwD,UAAU;wBACxG;wBACA;wBACA,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EACjB,2RAAA,CAAA,UAAK,EACL;4BACE,MAAM,CAAC,QAAQ,EAAE,cAAc,CAAC,MAAM,EAAE,aAAa,GAAG,KAAK,cAAc,CAAC,UAAU,EAAE,mBAAmB,cAAc,GAAG,IAAI;4BAChI,WAAW;4BACX,UAAU;wBACZ;qBAEH;gBAAC;aACH;QACH,GACA;IAEF,OAAO,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,OAAK,AAAD,EAAE,OAAO;QAAE,WAAW,CAAC,OAAO,EAAE,WAAW;QAAE,UAAU;YAChF,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,OAAK,AAAD,EAAE,OAAO;gBAAE,WAAW;gBAAQ,UAAU;oBAC1D,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,OAAK,AAAD,EAAE,OAAO;wBAAE,WAAW;wBAA0C,UAAU;4BAC5F,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,OAAK,AAAD,EAAE,QAAQ;gCAAE,WAAW;gCAAwD,UAAU;oCAC3G;oCACA;oCACA;oCACA;iCACD;4BAAC;4BACF,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,OAAK,AAAD,EAAE,QAAQ;gCAAE,WAAW;gCAA4C,UAAU;oCAC/F,KAAK,KAAK,CAAC,cAAc,aAAa;oCACtC;iCACD;4BAAC;yBACH;oBAAC;oBACF,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EAAE,OAAO;wBAAE,WAAW;wBAAwD,UAAU,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EAC5H,uUAAA,CAAA,SAAO,CAAC,GAAG,EACX;4BACE,WAAW;4BACX,SAAS;gCAAE,OAAO;4BAAE;4BACpB,SAAS;gCAAE,OAAO,GAAG,cAAc,aAAa,IAAI,CAAC,CAAC;4BAAC;4BACvD,YAAY;gCAAE,UAAU;gCAAK,MAAM;4BAAY;wBACjD;oBACA;iBACH;YAAC;YACF,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,OAAK,AAAD,EAAE,QAAQ;gBAAE,UAAU,aAAa;gBAAmB,UAAU;oBAClF,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EAAE,sUAAA,CAAA,kBAAgB,EAAE;wBAAE,MAAM;wBAAQ,UAAU;oBAAa;oBAC9E,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,OAAK,AAAD,EAAE,OAAO;wBAAE,WAAW;wBAAgF,UAAU;4BAClI,cAAc,IAAI,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EACnC,UACA;gCACE,MAAM;gCACN,SAAS,IAAM,eAAe,cAAc;gCAC5C,WAAW;gCACX,UAAU;4BACZ,KACE,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EAAE,OAAO,CAAC;4BACjC,cAAc,aAAa,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EAC5C,UACA;gCACE,MAAM;gCACN,SAAS;gCACT,WAAW;gCACX,UAAU;4BACZ,KACE;yBACL;oBAAC;iBACH;YAAC;SACH;IAAC;AACJ;;;;;AAUA,SAAS,kBAAkB,EACzB,YAAY,EACZ,WAAW,EACX,OAAO,QAAQ,EACf,YAAY,EAAE,EACf;IACC,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,CAAA,GAAA,oUAAA,CAAA,WAAS,AAAD,EAAE;IACxD,MAAM,mBAAmB,OAAO;QAC9B,IAAI;YACF,mBAAmB;YACnB,MAAM,WAAW,MAAM,kBAAkB;YACzC,IAAI,SAAS,WAAW,EAAE;gBACxB,MAAM,aAAa;oBACjB;oBACA,gBAAgB,SAAS,MAAM;oBAC/B,aAAa,SAAS,WAAW;oBACjC,cAAc,SAAS,YAAY;oBACnC;gBACF;YACF;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,GAAG,SAAS,uBAAuB,CAAC,EAAE;QACtD,SAAU;YACR,mBAAmB;QACrB;IACF;IACA,MAAM,oBAAoB,OAAO;QAC/B,OAAO,IAAI,QAAQ,CAAC,SAAS;YAC3B,WAAW;gBACT,QAAQ;oBACN,QAAQ,GAAG,SAAS,SAAS,CAAC;oBAC9B,aAAa,GAAG,SAAS,aAAa,CAAC;oBACvC,cAAc,GAAG,SAAS,cAAc,CAAC;gBAC3C;YACF,GAAG;QACL;IACF;IACA,MAAM,kBAAkB;QACtB;YACE,UAAU,6IAAA,CAAA,eAAY,CAAC,MAAM;YAC7B,MAAM;YACN,SAAS;YACT,WAAW;YACX,aAAa;YACb,MAAM,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,OAAK,AAAD,EAAE,OAAO;gBAAE,WAAW;gBAAgB,SAAS;gBAAa,UAAU;oBAC9F,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EACjB,QACA;wBACE,MAAM;wBACN,GAAG;oBACL;oBAEF,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EACjB,QACA;wBACE,MAAM;wBACN,GAAG;oBACL;oBAEF,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EACjB,QACA;wBACE,MAAM;wBACN,GAAG;oBACL;oBAEF,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EACjB,QACA;wBACE,MAAM;wBACN,GAAG;oBACL;iBAEH;YAAC;YACF,aAAa,gBAAgB,6IAAA,CAAA,kBAAgB,CAAC,QAAQ,GAAG,qBAAqB;QAChF;QACA;YACE,UAAU,6IAAA,CAAA,eAAY,CAAC,KAAK;YAC5B,MAAM;YACN,SAAS;YACT,WAAW;YACX,aAAa;YACb,MAAM,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,OAAK,AAAD,EAAE,OAAO;gBAAE,WAAW;gBAAgB,MAAM;gBAAgB,SAAS;gBAAa,UAAU;oBACpH,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EAAE,QAAQ;wBAAE,GAAG;oBAAua;oBACzc,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EAAE,QAAQ;wBAAE,GAAG;oBAAqJ;iBACxL;YAAC;YACF,aAAa;QACf;QACA;YACE,UAAU,6IAAA,CAAA,eAAY,CAAC,SAAS;YAChC,MAAM;YACN,SAAS;YACT,WAAW;YACX,aAAa;YACb,MAAM,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,OAAK,AAAD,EAAE,OAAO;gBAAE,WAAW;gBAAgB,MAAM;gBAAgB,SAAS;gBAAa,UAAU;oBACpH,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EAAE,QAAQ;wBAAE,GAAG;oBAAyB;oBAC3D,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EAAE,QAAQ;wBAAE,GAAG;oBAAwB;oBAC1D,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EAAE,QAAQ;wBAAE,GAAG;oBAA6B;oBAC/D,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EAAE,QAAQ;wBAAE,GAAG;oBAA4B;iBAC/D;YAAC;YACF,aAAa,gBAAgB,6IAAA,CAAA,kBAAgB,CAAC,QAAQ,GAAG,kBAAkB;QAC7E;KACD;IACD,IAAI,gBAAgB,6IAAA,CAAA,kBAAgB,CAAC,QAAQ,EAAE;QAC7C,gBAAgB,IAAI,CAAC;YACnB,UAAU,6IAAA,CAAA,eAAY,CAAC,QAAQ;YAC/B,MAAM;YACN,SAAS;YACT,WAAW;YACX,aAAa;YACb,MAAM,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EAAE,OAAO;gBAAE,WAAW;gBAAgB,MAAM;gBAAgB,SAAS;gBAAa,UAAU,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EAAE,QAAQ;oBAAE,GAAG;gBAAqf;YAAG;YAC/oB,aAAa;QACf;IACF;IACA,IAAI,gBAAgB,6IAAA,CAAA,kBAAgB,CAAC,SAAS,EAAE;QAC9C,gBAAgB,IAAI,CAAC;YACnB,UAAU,6IAAA,CAAA,eAAY,CAAC,MAAM;YAC7B,MAAM;YACN,SAAS;YACT,WAAW;YACX,aAAa;YACb,MAAM,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EAAE,OAAO;gBAAE,WAAW;gBAAgB,MAAM;gBAAgB,SAAS;gBAAa,UAAU,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EAAE,QAAQ;oBAAE,GAAG;gBAA4sB;YAAG;YACt2B,aAAa;QACf;IACF;IACA,OAAO,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,OAAK,AAAD,EAAE,OAAO;QAAE,WAAW,CAAC,UAAU,EAAE,WAAW;QAAE,UAAU;YACnF,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,OAAK,AAAD,EAAE,OAAO;gBAAE,WAAW;gBAAY,UAAU;oBAC9D,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EAAE,OAAO;wBAAE,WAAW;wBAAsC,UAAU,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EAAE,OAAO;4BAAE,WAAW;wBAAuD;oBAAG;oBAC5L,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EAAE,OAAO;wBAAE,WAAW;wBAAwC,UAAU,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,OAAK,AAAD,EAAE,QAAQ;4BAAE,WAAW;4BAAmE,UAAU;gCACjN;gCACA,SAAS,WAAW,YAAY;gCAChC;6BACD;wBAAC;oBAAG;iBACN;YAAC;YACF,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EAAE,OAAO;gBAAE,WAAW;gBAAa,UAAU,gBAAgB,GAAG,CAAC,CAAC,SAAW,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EACjH,uUAAA,CAAA,SAAO,CAAC,MAAM,EACd;wBACE,MAAM;wBACN,SAAS,IAAM,iBAAiB,OAAO,QAAQ;wBAC/C,UAAU,oBAAoB;wBAC9B,YAAY;4BAAE,OAAO;wBAAK;wBAC1B,UAAU;4BAAE,OAAO;wBAAK;wBACxB,WAAW,CAAC,gNAAgN,EAAE,OAAO,OAAO,CAAC,CAAC,EAAE,OAAO,SAAS,CAAC,CAAC,EAAE,OAAO,WAAW,CAAC,qBAAqB,CAAC;wBAC7S,UAAU,oBAAoB,OAAO,QAAQ,GAAG,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,OAAK,AAAD,EAAE,OAAO;4BAAE,WAAW;4BAAqB,UAAU;gCACvH,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EAAE,OAAO;oCAAE,WAAW;gCAAmE;gCAC5G;6BACD;wBAAC,KAAK,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,OAAK,AAAD,EAAE,OAAO;4BAAE,WAAW;4BAA2C,UAAU;gCACpG,OAAO,IAAI;gCACX,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,OAAK,AAAD,EAAE,OAAO;oCAAE,WAAW;oCAAoB,UAAU;wCACtE,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,OAAK,AAAD,EAAE,OAAO;4CAAE,WAAW;4CAAe,UAAU;gDACjE;gDACA,OAAO,IAAI;6CACZ;wCAAC;wCACF,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EAAE,OAAO;4CAAE,WAAW;4CAAsB,UAAU,OAAO,WAAW;wCAAC;qCAC7F;gCAAC;6BACH;wBAAC;oBACJ,GACA,OAAO,QAAQ;YACd;YACH,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EAAE,OAAO;gBAAE,WAAW;gBAAkG,UAAU,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,OAAK,AAAD,EAAE,OAAO;oBAAE,WAAW;oBAAoB,UAAU;wBAC3N,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EAAE,OAAO;4BAAE,WAAW;4BAAmD,MAAM;4BAAgB,SAAS;4BAAa,UAAU,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EAAE,QAAQ;gCAAE,UAAU;gCAAW,GAAG;gCAAoI,UAAU;4BAAU;wBAAG;wBACpW,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,OAAK,AAAD,EAAE,OAAO;4BAAE,UAAU;gCACvC,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EAAE,KAAK;oCAAE,WAAW;oCAAwD,UAAU;gCAA+B;gCACxI,aAAa,GAAG,CAAA,GAAA,sVAAA,CAAA,MAAI,AAAD,EAAE,KAAK;oCAAE,WAAW;oCAAiD,UAAU;gCAAsJ;6BACzP;wBAAC;qBACH;gBAAC;YAAG;SACN;IAAC;AACJ","debugId":null}},
    {"offset": {"line": 2840, "column": 0}, "map": {"version":3,"sources":["file:///C:/projects/Cred%20Vault/Sunny/packages/auth/dist/index.mjs"],"sourcesContent":["// src/AuthRouter.tsx\r\nimport { useEffect } from \"react\";\r\nimport { useRouter, useSearchParams } from \"next/navigation\";\r\nimport {\r\n  UserAccountType,\r\n  ACCOUNT_TYPE_DESTINATIONS\r\n} from \"@sunny/shared-types\";\r\nimport { jsx } from \"react/jsx-runtime\";\r\nvar AuthRouter = class _AuthRouter {\r\n  /**\r\n   * Determines the correct destination URL based on user account type\r\n   */\r\n  static getDestinationUrl(accountType, customRedirect) {\r\n    if (customRedirect) {\r\n      const trustedDomains = [\r\n        \"sunnypayments.com\",\r\n        \"app.sunnypayments.com\",\r\n        \"business.sunnypayments.com\",\r\n        \"institutions.sunnypayments.com\",\r\n        \"admin.sunnypayments.com\",\r\n        \"developers.sunnypayments.com\"\r\n      ];\r\n      try {\r\n        const url = new URL(customRedirect);\r\n        const domain = url.hostname;\r\n        if (trustedDomains.some((trusted) => domain === trusted || domain.endsWith(`.${trusted}`))) {\r\n          return customRedirect;\r\n        }\r\n      } catch {\r\n      }\r\n    }\r\n    return ACCOUNT_TYPE_DESTINATIONS[accountType];\r\n  }\r\n  /**\r\n   * Auto-detect account type from user data\r\n   */\r\n  static detectAccountType(user) {\r\n    return user.accountType;\r\n  }\r\n  /**\r\n   * Handle successful authentication with automatic routing\r\n   */\r\n  static handleAuthSuccessWithAutoDetection(user, customRedirect) {\r\n    const accountType = _AuthRouter.detectAccountType(user);\r\n    const destination = _AuthRouter.getDestinationUrl(accountType, customRedirect);\r\n    if (typeof window !== \"undefined\") {\r\n      const currentDomain = window.location.hostname;\r\n      try {\r\n        const targetDomain = new URL(destination).hostname;\r\n        if (currentDomain !== targetDomain) {\r\n          window.location.href = destination;\r\n        } else {\r\n          const dashboardPath = customRedirect ? new URL(customRedirect).pathname : \"/dashboard\";\r\n          window.location.pathname = dashboardPath;\r\n        }\r\n      } catch {\r\n        window.location.href = destination;\r\n      }\r\n    }\r\n  }\r\n  /**\r\n   * Constructs the authentication URL with proper parameters\r\n   */\r\n  static buildAuthUrl(mode, accountType, redirectUrl, authDomain = \"https://auth.sunnypayments.com\") {\r\n    const url = new URL(`/${mode}`, authDomain);\r\n    if (accountType) {\r\n      url.searchParams.set(\"type\", accountType);\r\n    }\r\n    if (redirectUrl) {\r\n      url.searchParams.set(\"redirect\", redirectUrl);\r\n    }\r\n    if (typeof window !== \"undefined\") {\r\n      const source = window.location.hostname;\r\n      url.searchParams.set(\"source\", source);\r\n    }\r\n    return url.toString();\r\n  }\r\n  /**\r\n   * Handles post-authentication routing\r\n   */\r\n  static handleAuthSuccess(user, customRedirect, onSuccess) {\r\n    const redirectUrl = this.getDestinationUrl(user.accountType, customRedirect);\r\n    if (onSuccess) {\r\n      onSuccess(user, redirectUrl);\r\n    } else {\r\n      window.location.href = redirectUrl;\r\n    }\r\n  }\r\n  /**\r\n   * Extracts account type from URL parameters or referrer\r\n   */\r\n  static detectAccountTypeFromParams(searchParams) {\r\n    if (searchParams?.has(\"type\")) {\r\n      const type = searchParams.get(\"type\");\r\n      if (Object.values(UserAccountType).includes(type)) {\r\n        return type;\r\n      }\r\n    }\r\n    if (typeof window !== \"undefined\" && document.referrer) {\r\n      try {\r\n        const referrerUrl = new URL(document.referrer);\r\n        const hostname = referrerUrl.hostname;\r\n        if (hostname.includes(\"business.\")) return UserAccountType.BUSINESS;\r\n        if (hostname.includes(\"institutions.\")) return UserAccountType.INSTITUTION;\r\n        if (hostname.includes(\"developers.\")) return UserAccountType.DEVELOPER;\r\n        if (hostname.includes(\"admin.\")) return UserAccountType.ADMIN;\r\n        if (hostname.includes(\"app.\")) return UserAccountType.INDIVIDUAL;\r\n      } catch {\r\n      }\r\n    }\r\n    return void 0;\r\n  }\r\n  /**\r\n   * Validates if a user can access a specific dashboard\r\n   */\r\n  static canUserAccessDashboard(user, requestedType) {\r\n    if (user.accountType === UserAccountType.ADMIN) {\r\n      return true;\r\n    }\r\n    return user.accountType === requestedType;\r\n  }\r\n  /**\r\n   * Redirects user to sign-in page with appropriate parameters\r\n   */\r\n  static redirectToSignIn(accountType, redirectUrl, authDomain = \"https://auth.sunnypayments.com\") {\r\n    const signInUrl = this.buildAuthUrl(\"signin\", accountType, redirectUrl, authDomain);\r\n    window.location.href = signInUrl;\r\n  }\r\n  /**\r\n   * Redirects user to sign-up page with appropriate parameters\r\n   */\r\n  static redirectToSignUp(accountType, redirectUrl, authDomain = \"https://auth.sunnypayments.com\") {\r\n    const signUpUrl = this.buildAuthUrl(\"signup\", accountType, redirectUrl, authDomain);\r\n    window.location.href = signUpUrl;\r\n  }\r\n};\r\nfunction useAuthRouter(options) {\r\n  const router = useRouter();\r\n  const searchParams = useSearchParams();\r\n  const redirectToSignIn = (accountType, customRedirect) => {\r\n    const redirectUrl = customRedirect || searchParams?.get(\"redirect\") || void 0;\r\n    AuthRouter.redirectToSignIn(accountType, redirectUrl);\r\n  };\r\n  const redirectToSignUp = (accountType, customRedirect) => {\r\n    const redirectUrl = customRedirect || searchParams?.get(\"redirect\") || void 0;\r\n    AuthRouter.redirectToSignUp(accountType, redirectUrl);\r\n  };\r\n  const handleAuthSuccess = (user) => {\r\n    const customRedirect = searchParams?.get(\"redirect\") || void 0;\r\n    AuthRouter.handleAuthSuccess(user, customRedirect, options?.onAuthSuccess);\r\n  };\r\n  const getDetectedAccountType = () => {\r\n    return AuthRouter.detectAccountTypeFromParams(searchParams);\r\n  };\r\n  useEffect(() => {\r\n    if (options?.user) {\r\n      const redirectUrl = searchParams?.get(\"redirect\") || void 0;\r\n      const destination = AuthRouter.getDestinationUrl(options.user.accountType, redirectUrl);\r\n      if (typeof window !== \"undefined\" && !window.location.href.startsWith(destination)) {\r\n        window.location.href = destination;\r\n      }\r\n    }\r\n  }, [options?.user, searchParams]);\r\n  return {\r\n    redirectToSignIn,\r\n    redirectToSignUp,\r\n    handleAuthSuccess,\r\n    getDetectedAccountType,\r\n    buildAuthUrl: AuthRouter.buildAuthUrl,\r\n    getDestinationUrl: AuthRouter.getDestinationUrl\r\n  };\r\n}\r\nfunction buildAuthLink(mode, options) {\r\n  const url = AuthRouter.buildAuthUrl(\r\n    mode,\r\n    options?.accountType,\r\n    options?.redirectUrl,\r\n    options?.authDomain\r\n  );\r\n  return url;\r\n}\r\nfunction withAuthProtection(Component, requiredAccountType, fallbackUrl) {\r\n  return function ProtectedComponent(props) {\r\n    const { user } = props;\r\n    const router = useRouter();\r\n    useEffect(() => {\r\n      if (!user) {\r\n        const redirectUrl = typeof window !== \"undefined\" ? window.location.href : void 0;\r\n        AuthRouter.redirectToSignIn(requiredAccountType, redirectUrl);\r\n        return;\r\n      }\r\n      if (requiredAccountType && !AuthRouter.canUserAccessDashboard(user, requiredAccountType)) {\r\n        const destination = fallbackUrl || AuthRouter.getDestinationUrl(user.accountType);\r\n        router.push(destination);\r\n        return;\r\n      }\r\n    }, [user, router]);\r\n    if (!user || requiredAccountType && !AuthRouter.canUserAccessDashboard(user, requiredAccountType)) {\r\n      return /* @__PURE__ */ jsx(\"div\", { className: \"min-h-screen flex items-center justify-center\", children: /* @__PURE__ */ jsx(\"div\", { className: \"animate-spin rounded-full h-32 w-32 border-b-2 border-green-600\" }) });\r\n    }\r\n    return /* @__PURE__ */ jsx(Component, { ...props });\r\n  };\r\n}\r\nvar AuthRouter_default = AuthRouter;\r\n\r\n// src/hooks/useAuth.ts\r\nimport { useState, useEffect as useEffect2, useCallback } from \"react\";\r\nvar STORAGE_KEYS = {\r\n  ACCESS_TOKEN: \"sunny_access_token\",\r\n  REFRESH_TOKEN: \"sunny_refresh_token\",\r\n  USER: \"sunny_user\",\r\n  SESSION: \"sunny_session\"\r\n};\r\nvar API_ENDPOINTS = {\r\n  SIGN_IN: \"/api/auth/signin\",\r\n  SIGN_UP: \"/api/auth/signup\",\r\n  SIGN_OUT: \"/api/auth/signout\",\r\n  REFRESH: \"/api/auth/refresh\",\r\n  SOCIAL_AUTH: \"/api/auth/social\",\r\n  RESET_PASSWORD: \"/api/auth/reset-password\",\r\n  CONFIRM_RESET: \"/api/auth/confirm-reset\",\r\n  SETUP_MFA: \"/api/auth/mfa/setup\",\r\n  VERIFY_MFA: \"/api/auth/mfa/verify\",\r\n  ME: \"/api/auth/me\"\r\n};\r\nvar AuthService = class {\r\n  constructor(baseUrl = process.env.NEXT_PUBLIC_API_URL || \"https://api.sunnypayments.com\") {\r\n    this.baseUrl = baseUrl;\r\n  }\r\n  async makeRequest(endpoint, options = {}) {\r\n    const url = `${this.baseUrl}${endpoint}`;\r\n    const token = this.getStoredToken();\r\n    const config = {\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        ...token && { Authorization: `Bearer ${token}` },\r\n        ...options.headers\r\n      },\r\n      ...options\r\n    };\r\n    try {\r\n      const response = await fetch(url, config);\r\n      if (!response.ok) {\r\n        const errorData = await response.json().catch(() => ({}));\r\n        throw new Error(errorData.message || `HTTP ${response.status}: ${response.statusText}`);\r\n      }\r\n      return await response.json();\r\n    } catch (error) {\r\n      console.error(`API request failed for ${endpoint}:`, error);\r\n      throw error;\r\n    }\r\n  }\r\n  getStoredToken() {\r\n    if (typeof window === \"undefined\") return null;\r\n    return localStorage.getItem(STORAGE_KEYS.ACCESS_TOKEN);\r\n  }\r\n  setTokens(accessToken, refreshToken) {\r\n    if (typeof window === \"undefined\") return;\r\n    localStorage.setItem(STORAGE_KEYS.ACCESS_TOKEN, accessToken);\r\n    if (refreshToken) {\r\n      localStorage.setItem(STORAGE_KEYS.REFRESH_TOKEN, refreshToken);\r\n    }\r\n  }\r\n  clearTokens() {\r\n    if (typeof window === \"undefined\") return;\r\n    localStorage.removeItem(STORAGE_KEYS.ACCESS_TOKEN);\r\n    localStorage.removeItem(STORAGE_KEYS.REFRESH_TOKEN);\r\n    localStorage.removeItem(STORAGE_KEYS.USER);\r\n    localStorage.removeItem(STORAGE_KEYS.SESSION);\r\n  }\r\n  async signIn(data) {\r\n    const response = await this.makeRequest(API_ENDPOINTS.SIGN_IN, {\r\n      method: \"POST\",\r\n      body: JSON.stringify(data)\r\n    });\r\n    if (response.success && response.session) {\r\n      this.setTokens(response.session.accessToken, response.session.refreshToken);\r\n      this.storeUserSession(response.user, response.session);\r\n    }\r\n    return response;\r\n  }\r\n  async signUp(data) {\r\n    const response = await this.makeRequest(API_ENDPOINTS.SIGN_UP, {\r\n      method: \"POST\",\r\n      body: JSON.stringify(data)\r\n    });\r\n    if (response.success && response.session) {\r\n      this.setTokens(response.session.accessToken, response.session.refreshToken);\r\n      this.storeUserSession(response.user, response.session);\r\n    }\r\n    return response;\r\n  }\r\n  async signOut() {\r\n    try {\r\n      await this.makeRequest(API_ENDPOINTS.SIGN_OUT, {\r\n        method: \"POST\"\r\n      });\r\n    } catch (error) {\r\n      console.error(\"Sign out request failed:\", error);\r\n    } finally {\r\n      this.clearTokens();\r\n    }\r\n  }\r\n  async socialAuth(data) {\r\n    const response = await this.makeRequest(API_ENDPOINTS.SOCIAL_AUTH, {\r\n      method: \"POST\",\r\n      body: JSON.stringify(data)\r\n    });\r\n    if (response.success && response.session) {\r\n      this.setTokens(response.session.accessToken, response.session.refreshToken);\r\n      this.storeUserSession(response.user, response.session);\r\n    }\r\n    return response;\r\n  }\r\n  async resetPassword(data) {\r\n    return await this.makeRequest(API_ENDPOINTS.RESET_PASSWORD, {\r\n      method: \"POST\",\r\n      body: JSON.stringify(data)\r\n    });\r\n  }\r\n  async confirmPasswordReset(data) {\r\n    return await this.makeRequest(API_ENDPOINTS.CONFIRM_RESET, {\r\n      method: \"POST\",\r\n      body: JSON.stringify(data)\r\n    });\r\n  }\r\n  async setupMFA(data) {\r\n    return await this.makeRequest(API_ENDPOINTS.SETUP_MFA, {\r\n      method: \"POST\",\r\n      body: JSON.stringify(data)\r\n    });\r\n  }\r\n  async verifyMFA(code, method) {\r\n    return await this.makeRequest(API_ENDPOINTS.VERIFY_MFA, {\r\n      method: \"POST\",\r\n      body: JSON.stringify({ code, method })\r\n    });\r\n  }\r\n  async refreshSession() {\r\n    const refreshToken = typeof window !== \"undefined\" ? localStorage.getItem(STORAGE_KEYS.REFRESH_TOKEN) : null;\r\n    if (!refreshToken) {\r\n      throw new Error(\"No refresh token available\");\r\n    }\r\n    const response = await this.makeRequest(API_ENDPOINTS.REFRESH, {\r\n      method: \"POST\",\r\n      body: JSON.stringify({ refreshToken })\r\n    });\r\n    if (response.success && response.session) {\r\n      this.setTokens(response.session.accessToken, response.session.refreshToken);\r\n      this.storeUserSession(response.user, response.session);\r\n    }\r\n    return response;\r\n  }\r\n  async getCurrentUser() {\r\n    try {\r\n      const response = await this.makeRequest(API_ENDPOINTS.ME);\r\n      return response.user;\r\n    } catch (error) {\r\n      console.error(\"Failed to get current user:\", error);\r\n      return null;\r\n    }\r\n  }\r\n  storeUserSession(user, session) {\r\n    if (typeof window === \"undefined\") return;\r\n    localStorage.setItem(STORAGE_KEYS.USER, JSON.stringify(user));\r\n    localStorage.setItem(STORAGE_KEYS.SESSION, JSON.stringify(session));\r\n  }\r\n  getStoredUser() {\r\n    if (typeof window === \"undefined\") return null;\r\n    try {\r\n      const stored = localStorage.getItem(STORAGE_KEYS.USER);\r\n      return stored ? JSON.parse(stored) : null;\r\n    } catch {\r\n      return null;\r\n    }\r\n  }\r\n  getStoredSession() {\r\n    if (typeof window === \"undefined\") return null;\r\n    try {\r\n      const stored = localStorage.getItem(STORAGE_KEYS.SESSION);\r\n      return stored ? JSON.parse(stored) : null;\r\n    } catch {\r\n      return null;\r\n    }\r\n  }\r\n};\r\nvar authService = new AuthService();\r\nfunction useAuth() {\r\n  const [state, setState] = useState({\r\n    user: null,\r\n    session: null,\r\n    isLoading: true,\r\n    isAuthenticated: false\r\n  });\r\n  useEffect2(() => {\r\n    const initializeAuth = async () => {\r\n      try {\r\n        const storedUser = authService.getStoredUser();\r\n        const storedSession = authService.getStoredSession();\r\n        if (storedUser && storedSession) {\r\n          const now = /* @__PURE__ */ new Date();\r\n          const expiresAt = new Date(storedSession.expiresAt);\r\n          if (expiresAt > now) {\r\n            setState({\r\n              user: storedUser,\r\n              session: storedSession,\r\n              isLoading: false,\r\n              isAuthenticated: true\r\n            });\r\n            return;\r\n          } else {\r\n            try {\r\n              const response = await authService.refreshSession();\r\n              if (response.success && response.user && response.session) {\r\n                setState({\r\n                  user: response.user,\r\n                  session: response.session,\r\n                  isLoading: false,\r\n                  isAuthenticated: true\r\n                });\r\n                return;\r\n              }\r\n            } catch (error) {\r\n              console.error(\"Session refresh failed:\", error);\r\n            }\r\n          }\r\n        }\r\n        setState({\r\n          user: null,\r\n          session: null,\r\n          isLoading: false,\r\n          isAuthenticated: false\r\n        });\r\n      } catch (error) {\r\n        console.error(\"Auth initialization failed:\", error);\r\n        setState({\r\n          user: null,\r\n          session: null,\r\n          isLoading: false,\r\n          isAuthenticated: false\r\n        });\r\n      }\r\n    };\r\n    initializeAuth();\r\n  }, []);\r\n  const signIn = useCallback(async (data) => {\r\n    setState((prev) => ({ ...prev, isLoading: true }));\r\n    try {\r\n      const response = await authService.signIn(data);\r\n      if (response.success && response.user && response.session) {\r\n        setState({\r\n          user: response.user,\r\n          session: response.session,\r\n          isLoading: false,\r\n          isAuthenticated: true\r\n        });\r\n      } else {\r\n        setState((prev) => ({ ...prev, isLoading: false }));\r\n      }\r\n      return response;\r\n    } catch (error) {\r\n      setState((prev) => ({ ...prev, isLoading: false }));\r\n      throw error;\r\n    }\r\n  }, []);\r\n  const signUp = useCallback(async (data) => {\r\n    setState((prev) => ({ ...prev, isLoading: true }));\r\n    try {\r\n      const response = await authService.signUp(data);\r\n      if (response.success && response.user && response.session) {\r\n        setState({\r\n          user: response.user,\r\n          session: response.session,\r\n          isLoading: false,\r\n          isAuthenticated: true\r\n        });\r\n      } else {\r\n        setState((prev) => ({ ...prev, isLoading: false }));\r\n      }\r\n      return response;\r\n    } catch (error) {\r\n      setState((prev) => ({ ...prev, isLoading: false }));\r\n      throw error;\r\n    }\r\n  }, []);\r\n  const signOut = useCallback(async () => {\r\n    setState((prev) => ({ ...prev, isLoading: true }));\r\n    try {\r\n      await authService.signOut();\r\n    } finally {\r\n      setState({\r\n        user: null,\r\n        session: null,\r\n        isLoading: false,\r\n        isAuthenticated: false\r\n      });\r\n    }\r\n  }, []);\r\n  const socialAuth = useCallback(async (data) => {\r\n    setState((prev) => ({ ...prev, isLoading: true }));\r\n    try {\r\n      const response = await authService.socialAuth(data);\r\n      if (response.success && response.user && response.session) {\r\n        setState({\r\n          user: response.user,\r\n          session: response.session,\r\n          isLoading: false,\r\n          isAuthenticated: true\r\n        });\r\n      } else {\r\n        setState((prev) => ({ ...prev, isLoading: false }));\r\n      }\r\n      return response;\r\n    } catch (error) {\r\n      setState((prev) => ({ ...prev, isLoading: false }));\r\n      throw error;\r\n    }\r\n  }, []);\r\n  const resetPassword = useCallback(async (data) => {\r\n    return await authService.resetPassword(data);\r\n  }, []);\r\n  const confirmPasswordReset = useCallback(async (data) => {\r\n    return await authService.confirmPasswordReset(data);\r\n  }, []);\r\n  const setupMFA = useCallback(async (data) => {\r\n    return await authService.setupMFA(data);\r\n  }, []);\r\n  const verifyMFA = useCallback(async (code, method) => {\r\n    return await authService.verifyMFA(code, method);\r\n  }, []);\r\n  const refreshSession = useCallback(async () => {\r\n    try {\r\n      const response = await authService.refreshSession();\r\n      if (response.success && response.user && response.session) {\r\n        setState({\r\n          user: response.user,\r\n          session: response.session,\r\n          isLoading: false,\r\n          isAuthenticated: true\r\n        });\r\n      }\r\n      return response;\r\n    } catch (error) {\r\n      await signOut();\r\n      throw error;\r\n    }\r\n  }, [signOut]);\r\n  return {\r\n    user: state.user,\r\n    session: state.session,\r\n    isLoading: state.isLoading,\r\n    isAuthenticated: state.isAuthenticated,\r\n    signIn,\r\n    signUp,\r\n    signOut,\r\n    socialAuth,\r\n    resetPassword,\r\n    confirmPasswordReset,\r\n    setupMFA,\r\n    verifyMFA,\r\n    refreshSession\r\n  };\r\n}\r\n\r\n// src/index.ts\r\nexport * from \"@sunny/shared-types\";\r\nexport {\r\n  AuthRouter_default as AuthRouter,\r\n  buildAuthLink,\r\n  useAuth,\r\n  useAuthRouter,\r\n  withAuthProtection\r\n};\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 3416, "column": 0}, "map": {"version":3,"sources":["file:///C:/projects/Cred%20Vault/Sunny/apps/marketing/src/app/%28auth%29/sign-in/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React, { Suspense } from 'react';\r\nimport { useSearchParams } from 'next/navigation';\r\nimport { AuthPageLayout, SimpleSignInForm } from '@sunny/ui';\r\nimport { AuthRouter, useAuth } from '@sunny/auth';\r\nimport { type SignInRequest } from '@sunny/shared-types';\r\n\r\nfunction SignInPageContent() {\r\n  const searchParams = useSearchParams();\r\n  const { signIn } = useAuth();\r\n\r\n  const redirectUrl = searchParams?.get('redirect') || undefined;\r\n\r\n  const handleSignIn = async (data: SignInRequest) => {\r\n    const response = await signIn(data);\r\n    \r\n    if (response.success && response.user) {\r\n      // Use auto-detection for account type and smart routing\r\n      AuthRouter.handleAuthSuccessWithAutoDetection(response.user, redirectUrl);\r\n    }\r\n    \r\n    return response;\r\n  };\r\n\r\n  return (\r\n    <AuthPageLayout\r\n      title=\"Welcome Back\"\r\n      subtitle=\"Sign in to your Sunny Payments account\"\r\n    >\r\n      <SimpleSignInForm\r\n        onSubmit={handleSignIn}\r\n        redirectUrl={redirectUrl}\r\n      />\r\n    </AuthPageLayout>\r\n  );\r\n}\r\n\r\nexport default function SignInPage() {\r\n  return (\r\n    <Suspense fallback={\r\n      <div className=\"min-h-screen flex items-center justify-center\">\r\n        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600\"></div>\r\n      </div>\r\n    }>\r\n      <SignInPageContent />\r\n    </Suspense>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;AALA;;;;;;AAQA,SAAS;IACP,MAAM,eAAe,CAAA,GAAA,iQAAA,CAAA,kBAAe,AAAD;IACnC,MAAM,EAAE,MAAM,EAAE,GAAG,CAAA,GAAA,kJAAA,CAAA,UAAO,AAAD;IAEzB,MAAM,cAAc,cAAc,IAAI,eAAe;IAErD,MAAM,eAAe,OAAO;QAC1B,MAAM,WAAW,MAAM,OAAO;QAE9B,IAAI,SAAS,OAAO,IAAI,SAAS,IAAI,EAAE;YACrC,wDAAwD;YACxD,kJAAA,CAAA,aAAU,CAAC,kCAAkC,CAAC,SAAS,IAAI,EAAE;QAC/D;QAEA,OAAO;IACT;IAEA,qBACE,6WAAC,gIAAA,CAAA,iBAAc;QACb,OAAM;QACN,UAAS;kBAET,cAAA,6WAAC,gIAAA,CAAA,mBAAgB;YACf,UAAU;YACV,aAAa;;;;;;;;;;;AAIrB;AAEe,SAAS;IACtB,qBACE,6WAAC,oUAAA,CAAA,WAAQ;QAAC,wBACR,6WAAC;YAAI,WAAU;sBACb,cAAA,6WAAC;gBAAI,WAAU;;;;;;;;;;;kBAGjB,cAAA,6WAAC;;;;;;;;;;AAGP","debugId":null}}]
}